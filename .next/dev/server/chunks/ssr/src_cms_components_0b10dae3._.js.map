{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/CMSSidebar.tsx"],"sourcesContent":["import { \n  LayoutDashboard, \n  Package, \n  Image, \n  FileText, \n  MessageSquare, \n  Users, \n  Video, \n  ShoppingCart, \n  UserCircle, \n  Settings,\n  ChevronRight,\n  Briefcase,\n  FolderKanban,\n  BookOpen,\n  MousePointerClick,\n  Tag,\n  Images\n} from 'lucide-react';\nimport { CMSPage } from '../CMSApp';\n\ninterface CMSSidebarProps {\n  currentPage: CMSPage;\n  onNavigate: (page: CMSPage) => void;\n}\n\ninterface MenuItem {\n  id: CMSPage;\n  label: string;\n  icon: any;\n  section?: string;\n}\n\nconst menuItems: MenuItem[] = [\n  { id: 'dashboard', label: 'Tableau de bord', icon: LayoutDashboard },\n  { id: 'media-library', label: 'Biblioth√®que d\\'Images', icon: Images, section: 'M√©dias' },\n  { id: 'hero-slides', label: 'Hero', icon: Image, section: 'HomePage' },\n  { id: 'business-units', label: 'Card M√©tiers', icon: Briefcase, section: 'HomePage' },\n  { id: 'call-to-action', label: 'Call to Action', icon: MousePointerClick, section: 'HomePage' },\n  { id: 'testimonials', label: 'T√©moignages (Bedtime)', icon: MessageSquare, section: 'HomePage' },\n  { id: 'videos', label: 'Video Stories', icon: Video, section: 'HomePage' },\n  { id: 'categories', label: 'Cat√©gories', icon: Tag, section: 'Catalogue' },\n  { id: 'products', label: 'Card Produits', icon: Package, section: 'Catalogue' },\n  { id: 'articles', label: 'Actualit√©s', icon: FileText, section: 'Contenu Dynamique' },\n  { id: 'article-categories', label: 'Cat√©gories d\\'Articles', icon: BookOpen, section: 'Contenu Dynamique' },\n  { id: 'projects', label: 'Projets', icon: FolderKanban, section: 'Contenu Dynamique' },\n  { id: 'team', label: '√âquipe', icon: Users, section: 'Contenu Dynamique' },\n  { id: 'orders', label: 'Commandes', icon: ShoppingCart, section: 'E-commerce' },\n  { id: 'clients', label: 'Clients actifs', icon: UserCircle, section: 'E-commerce' },\n  { id: 'settings', label: 'Param√®tres', icon: Settings, section: 'Utilisateurs' },\n];\n\nexport function CMSSidebar({ currentPage, onNavigate }: CMSSidebarProps) {\n  let currentSection = '';\n\n  return (\n    <aside className=\"w-64 bg-white border-r border-gray-200 fixed h-full overflow-y-auto\">\n      {/* Logo */}\n      <div className=\"p-6 border-b border-gray-200\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-10 h-10 flex items-center justify-center\" style={{ backgroundColor: '#B5C233' }}>\n            <span className=\"text-white font-bold text-xl\">F</span>\n          </div>\n          <div>\n            <h1 className=\"font-bold text-gray-900\">FIMA</h1>\n            <p className=\"text-sm text-gray-500\">Admin Dashboard</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Menu */}\n      <nav className=\"p-4 space-y-1\">\n        {menuItems.map((item) => {\n          // Afficher le titre de section si nouvelle section\n          const showSectionTitle = item.section && item.section !== currentSection;\n          if (item.section) {\n            currentSection = item.section;\n          }\n\n          return (\n            <div key={item.id}>\n              {showSectionTitle && (\n                <div className=\"px-3 py-2 mt-4 mb-1\">\n                  <h3 className=\"text-xs uppercase tracking-wider text-gray-500 font-semibold\">\n                    {item.section}\n                  </h3>\n                </div>\n              )}\n              \n              <button\n                onClick={() => onNavigate(item.id)}\n                className={`w-full flex items-center space-x-3 px-3 py-2.5 transition-colors ${\n                  currentPage === item.id\n                    ? 'bg-gray-100 text-gray-900'\n                    : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                }`}\n              >\n                <item.icon className=\"w-5 h-5\" />\n                <span className=\"flex-1 text-left\">{item.label}</span>\n                {currentPage === item.id && (\n                  <ChevronRight className=\"w-4 h-4\" />\n                )}\n              </button>\n            </div>\n          );\n        })}\n      </nav>\n    </aside>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAiCA,MAAM,YAAwB;IAC5B;QAAE,IAAI;QAAa,OAAO;QAAmB,MAAM,wOAAe;IAAC;IACnE;QAAE,IAAI;QAAiB,OAAO;QAA0B,MAAM,yMAAM;QAAE,SAAS;IAAS;IACxF;QAAE,IAAI;QAAe,OAAO;QAAQ,MAAM,sMAAK;QAAE,SAAS;IAAW;IACrE;QAAE,IAAI;QAAkB,OAAO;QAAgB,MAAM,kNAAS;QAAE,SAAS;IAAW;IACpF;QAAE,IAAI;QAAkB,OAAO;QAAkB,MAAM,kPAAiB;QAAE,SAAS;IAAW;IAC9F;QAAE,IAAI;QAAgB,OAAO;QAAyB,MAAM,kOAAa;QAAE,SAAS;IAAW;IAC/F;QAAE,IAAI;QAAU,OAAO;QAAiB,MAAM,sMAAK;QAAE,SAAS;IAAW;IACzE;QAAE,IAAI;QAAc,OAAO;QAAc,MAAM,gMAAG;QAAE,SAAS;IAAY;IACzE;QAAE,IAAI;QAAY,OAAO;QAAiB,MAAM,4MAAO;QAAE,SAAS;IAAY;IAC9E;QAAE,IAAI;QAAY,OAAO;QAAc,MAAM,mNAAQ;QAAE,SAAS;IAAoB;IACpF;QAAE,IAAI;QAAsB,OAAO;QAA0B,MAAM,mNAAQ;QAAE,SAAS;IAAoB;IAC1G;QAAE,IAAI;QAAY,OAAO;QAAW,MAAM,+NAAY;QAAE,SAAS;IAAoB;IACrF;QAAE,IAAI;QAAQ,OAAO;QAAU,MAAM,sMAAK;QAAE,SAAS;IAAoB;IACzE;QAAE,IAAI;QAAU,OAAO;QAAa,MAAM,+NAAY;QAAE,SAAS;IAAa;IAC9E;QAAE,IAAI;QAAW,OAAO;QAAkB,MAAM,yNAAU;QAAE,SAAS;IAAa;IAClF;QAAE,IAAI;QAAY,OAAO;QAAc,MAAM,+MAAQ;QAAE,SAAS;IAAe;CAChF;AAEM,SAAS,WAAW,EAAE,WAAW,EAAE,UAAU,EAAmB;IACrE,IAAI,iBAAiB;IAErB,qBACE,qKAAC;QAAM,WAAU;;0BAEf,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAI,WAAU;4BAA6C,OAAO;gCAAE,iBAAiB;4BAAU;sCAC9F,cAAA,qKAAC;gCAAK,WAAU;0CAA+B;;;;;;;;;;;sCAEjD,qKAAC;;8CACC,qKAAC;oCAAG,WAAU;8CAA0B;;;;;;8CACxC,qKAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;;;;;;;;;;;;0BAM3C,qKAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC;oBACd,mDAAmD;oBACnD,MAAM,mBAAmB,KAAK,OAAO,IAAI,KAAK,OAAO,KAAK;oBAC1D,IAAI,KAAK,OAAO,EAAE;wBAChB,iBAAiB,KAAK,OAAO;oBAC/B;oBAEA,qBACE,qKAAC;;4BACE,kCACC,qKAAC;gCAAI,WAAU;0CACb,cAAA,qKAAC;oCAAG,WAAU;8CACX,KAAK,OAAO;;;;;;;;;;;0CAKnB,qKAAC;gCACC,SAAS,IAAM,WAAW,KAAK,EAAE;gCACjC,WAAW,CAAC,iEAAiE,EAC3E,gBAAgB,KAAK,EAAE,GACnB,8BACA,sDACJ;;kDAEF,qKAAC,KAAK,IAAI;wCAAC,WAAU;;;;;;kDACrB,qKAAC;wCAAK,WAAU;kDAAoB,KAAK,KAAK;;;;;;oCAC7C,gBAAgB,KAAK,EAAE,kBACtB,qKAAC,+NAAY;wCAAC,WAAU;;;;;;;;;;;;;uBApBpB,KAAK,EAAE;;;;;gBAyBrB;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/CMSHeader.tsx"],"sourcesContent":["import { Bell, Search, ExternalLink } from 'lucide-react';\nimport { useUser } from '../../contexts/UserContext';\n\ninterface CMSHeaderProps {\n  onBackToSite: () => void;\n}\n\nexport function CMSHeader({ onBackToSite }: CMSHeaderProps) {\n  const { user } = useUser();\n\n  return (\n    <header className=\"bg-white border-b border-gray-200 sticky top-0 z-10\">\n      <div className=\"px-8 py-4 flex items-center justify-between\">\n        {/* Search */}\n        <div className=\"flex-1 max-w-2xl\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Rechercher...\"\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#B5C233] focus:border-transparent\"\n            />\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex items-center space-x-4 ml-6\">\n          {/* Retour au site */}\n          <button\n            onClick={onBackToSite}\n            className=\"flex items-center space-x-2 px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors\"\n          >\n            <ExternalLink className=\"w-5 h-5\" />\n            <span>Voir le site</span>\n          </button>\n\n          {/* Notifications */}\n          <button className=\"relative p-2 text-gray-600 hover:bg-gray-100 transition-colors\">\n            <Bell className=\"w-6 h-6\" />\n            <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\n          </button>\n\n          {/* User */}\n          <div className=\"flex items-center space-x-3 pl-4 border-l border-gray-200\">\n            <div className=\"w-8 h-8 flex items-center justify-center text-white\" style={{ backgroundColor: '#B5C233' }}>\n              <span className=\"text-sm font-semibold\">\n                {user?.email?.charAt(0).toUpperCase() || 'A'}\n              </span>\n            </div>\n            <div className=\"text-right\">\n              <p className=\"text-sm font-medium text-gray-900\">Administrateur FIMA</p>\n              <p className=\"text-xs text-gray-500\">{user?.email || 'admin@fima.com'}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AACA;;;;;;;;AAMO,SAAS,UAAU,EAAE,YAAY,EAAkB;IACxD,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,mIAAO;IAExB,qBACE,qKAAC;QAAO,WAAU;kBAChB,cAAA,qKAAC;YAAI,WAAU;;8BAEb,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;wBAAI,WAAU;;0CACb,qKAAC,yMAAM;gCAAC,WAAU;;;;;;0CAClB,qKAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,WAAU;;;;;;;;;;;;;;;;;8BAMhB,qKAAC;oBAAI,WAAU;;sCAEb,qKAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,qKAAC,+NAAY;oCAAC,WAAU;;;;;;8CACxB,qKAAC;8CAAK;;;;;;;;;;;;sCAIR,qKAAC;4BAAO,WAAU;;8CAChB,qKAAC,mMAAI;oCAAC,WAAU;;;;;;8CAChB,qKAAC;oCAAK,WAAU;;;;;;;;;;;;sCAIlB,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAI,WAAU;oCAAsD,OAAO;wCAAE,iBAAiB;oCAAU;8CACvG,cAAA,qKAAC;wCAAK,WAAU;kDACb,MAAM,OAAO,OAAO,GAAG,iBAAiB;;;;;;;;;;;8CAG7C,qKAAC;oCAAI,WAAU;;sDACb,qKAAC;4CAAE,WAAU;sDAAoC;;;;;;sDACjD,qKAAC;4CAAE,WAAU;sDAAyB,MAAM,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnE"}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/StatsCard.tsx"],"sourcesContent":["import { LucideIcon } from 'lucide-react';\n\ninterface StatsCardProps {\n  title: string;\n  value: string | number;\n  change?: string;\n  changeType?: 'increase' | 'decrease' | 'neutral';\n  icon: LucideIcon;\n  color?: string;\n}\n\nexport function StatsCard({ \n  title, \n  value, \n  change, \n  changeType = 'neutral',\n  icon: Icon,\n  color = '#B5C233'\n}: StatsCardProps) {\n  const getChangeColor = () => {\n    if (changeType === 'increase') return 'text-green-600';\n    if (changeType === 'decrease') return 'text-red-600';\n    return 'text-gray-600';\n  };\n\n  return (\n    <div className=\"bg-white p-6 border border-gray-200 shadow-sm hover:shadow-md transition-shadow\">\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1\">\n          <p className=\"text-sm text-gray-600 mb-1\">{title}</p>\n          <p className=\"text-3xl font-bold text-gray-900\">{value}</p>\n          {change && (\n            <p className={`text-sm mt-2 ${getChangeColor()}`}>\n              {change}\n            </p>\n          )}\n        </div>\n        <div \n          className=\"w-12 h-12 flex items-center justify-center\"\n          style={{ backgroundColor: color }}\n        >\n          <Icon className=\"w-6 h-6 text-white\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAWO,SAAS,UAAU,EACxB,KAAK,EACL,KAAK,EACL,MAAM,EACN,aAAa,SAAS,EACtB,MAAM,IAAI,EACV,QAAQ,SAAS,EACF;IACf,MAAM,iBAAiB;QACrB,IAAI,eAAe,YAAY,OAAO;QACtC,IAAI,eAAe,YAAY,OAAO;QACtC,OAAO;IACT;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAE,WAAU;sCAA8B;;;;;;sCAC3C,qKAAC;4BAAE,WAAU;sCAAoC;;;;;;wBAChD,wBACC,qKAAC;4BAAE,WAAW,CAAC,aAAa,EAAE,kBAAkB;sCAC7C;;;;;;;;;;;;8BAIP,qKAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,iBAAiB;oBAAM;8BAEhC,cAAA,qKAAC;wBAAK,WAAU;;;;;;;;;;;;;;;;;;;;;;AAK1B"}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/QuickInitButton.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { RefreshCw } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\n\nexport function QuickInitButton() {\n  const [isInitializing, setIsInitializing] = useState(false);\n\n  const initializeAllData = async () => {\n    setIsInitializing(true);\n    try {\n      let blogsOk = false;\n      let testimonialsOk = false;\n      let errors: string[] = [];\n\n      // Initialiser les blogs\n      try {\n        const blogsResponse = await fetch(\n          `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/init-blogs`,\n          {\n            method: 'POST',\n            headers: {\n              'Authorization': `Bearer ${publicAnonKey}`,\n              'Content-Type': 'application/json'\n            }\n          }\n        );\n\n        if (blogsResponse.ok) {\n          const result = await blogsResponse.json();\n          console.log('Blogs initialis√©s:', result);\n          blogsOk = true;\n        } else {\n          const error = await blogsResponse.text();\n          console.error('Erreur blogs:', error);\n          errors.push(`Blogs: ${blogsResponse.status} - ${error}`);\n        }\n      } catch (error) {\n        console.error('Erreur initialisation blogs:', error);\n        errors.push(`Blogs: ${error}`);\n      }\n\n      // Initialiser les testimonials\n      try {\n        const testimonialsResponse = await fetch(\n          `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/init-testimonials`,\n          {\n            method: 'POST',\n            headers: {\n              'Authorization': `Bearer ${publicAnonKey}`,\n              'Content-Type': 'application/json'\n            }\n          }\n        );\n\n        if (testimonialsResponse.ok) {\n          const result = await testimonialsResponse.json();\n          console.log('Testimonials initialis√©s:', result);\n          testimonialsOk = true;\n        } else {\n          const error = await testimonialsResponse.text();\n          console.error('Erreur testimonials:', error);\n          errors.push(`Testimonials: ${testimonialsResponse.status} - ${error}`);\n        }\n      } catch (error) {\n        console.error('Erreur initialisation testimonials:', error);\n        errors.push(`Testimonials: ${error}`);\n      }\n\n      // Afficher le r√©sultat\n      if (blogsOk && testimonialsOk) {\n        toast.success('‚úÖ Blogs et Testimonials initialis√©s avec succ√®s !');\n        setTimeout(() => window.location.reload(), 1000);\n      } else if (blogsOk || testimonialsOk) {\n        toast.warning(`Initialisation partielle : ${blogsOk ? '‚úÖ Blogs' : '‚ùå Blogs'} | ${testimonialsOk ? '‚úÖ Testimonials' : '‚ùå Testimonials'}`);\n        console.error('Erreurs d√©taill√©es:', errors);\n        setTimeout(() => window.location.reload(), 1500);\n      } else {\n        toast.error('‚ùå √âchec de l\\'initialisation. Voir la console pour plus de d√©tails.');\n        console.error('Erreurs:', errors);\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'initialisation:', error);\n      toast.error('Erreur lors de l\\'initialisation des donn√©es');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n\n  return (\n    <div className=\"mb-6 bg-gradient-to-r from-blue-50 to-green-50 border-2 border-blue-200 p-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\n            üöÄ Initialisation rapide\n          </h3>\n          <p className=\"text-sm text-gray-700\">\n            Cliquez ici pour initialiser des donn√©es de d√©monstration (Blogs, T√©moignages, etc.)\n          </p>\n        </div>\n        <button\n          onClick={initializeAllData}\n          disabled={isInitializing}\n          className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed\"\n          style={{ backgroundColor: '#B5C233' }}\n        >\n          <RefreshCw className={`w-5 h-5 ${isInitializing ? 'animate-spin' : ''}`} />\n          <span>{isInitializing ? 'Initialisation...' : 'Initialiser les donn√©es'}</span>\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 698, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/RichTextEditor.tsx"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\nimport { \n  Bold, \n  Italic, \n  Underline, \n  List, \n  ListOrdered, \n  Link as LinkIcon,\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  Code\n} from 'lucide-react';\n\ninterface RichTextEditorProps {\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  minHeight?: string;\n}\n\nexport function RichTextEditor({ \n  value, \n  onChange, \n  placeholder = 'Saisissez votre texte ici...',\n  minHeight = '200px'\n}: RichTextEditorProps) {\n  const editorRef = useRef<HTMLDivElement>(null);\n  const isUserTypingRef = useRef(false);\n\n  // Synchroniser le contenu de l'√©diteur avec la valeur externe\n  // Uniquement si le changement ne provient pas de l'utilisateur\n  useEffect(() => {\n    if (editorRef.current && !isUserTypingRef.current) {\n      const currentContent = editorRef.current.innerHTML;\n      const newContent = value || '';\n      \n      // Normaliser les contenus pour √©viter les faux positifs\n      const normalizedCurrent = currentContent.replace(/<br\\s*\\/?>/gi, '').trim();\n      const normalizedNew = newContent.replace(/<br\\s*\\/?>/gi, '').trim();\n      \n      if (normalizedCurrent !== normalizedNew) {\n        editorRef.current.innerHTML = newContent;\n      }\n    }\n    // Reset le flag apr√®s la synchronisation\n    isUserTypingRef.current = false;\n  }, [value]);\n\n  const handleInput = () => {\n    if (editorRef.current) {\n      isUserTypingRef.current = true;\n      onChange(editorRef.current.innerHTML);\n    }\n  };\n\n  const execCommand = (command: string, value?: string) => {\n    document.execCommand(command, false, value);\n    editorRef.current?.focus();\n    handleInput();\n  };\n\n  const addLink = () => {\n    const url = prompt('Entrez l\\'URL du lien:');\n    if (url) {\n      execCommand('createLink', url);\n    }\n  };\n\n  const addTable = () => {\n    const rows = prompt('Nombre de lignes:', '3');\n    const cols = prompt('Nombre de colonnes:', '3');\n    \n    if (rows && cols) {\n      let tableHTML = '<table style=\"border-collapse: collapse; width: 100%; margin: 10px 0;\">';\n      tableHTML += '<thead>';\n      for (let i = 0; i < parseInt(cols); i++) {\n        tableHTML += '<th style=\"border: 1px solid #d1d5db; padding: 8px; background-color: #f9fafb; font-weight: 600;\">En-t√™te ' + (i + 1) + '</th>';\n      }\n      tableHTML += '</thead><tbody>';\n      for (let i = 0; i < parseInt(rows); i++) {\n        tableHTML += '<tr>';\n        for (let j = 0; j < parseInt(cols); j++) {\n          tableHTML += '<td style=\"border: 1px solid #d1d5db; padding: 8px;\">Cellule</td>';\n        }\n        tableHTML += '</tr>';\n      }\n      tableHTML += '</tbody></table><p><br></p>';\n      \n      document.execCommand('insertHTML', false, tableHTML);\n      handleInput();\n    }\n  };\n\n  const ToolbarButton = ({ \n    onClick, \n    icon: Icon, \n    title \n  }: { \n    onClick: () => void; \n    icon: any; \n    title: string;\n  }) => (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className=\"p-2 hover:bg-gray-100 transition-colors border-r border-gray-200 last:border-r-0\"\n      title={title}\n    >\n      <Icon className=\"w-4 h-4 text-gray-700\" />\n    </button>\n  );\n\n  return (\n    <div className=\"rich-text-editor border border-gray-300\" style={{ minHeight }}>\n      {/* Toolbar */}\n      <div className=\"flex items-center bg-gray-50 border-b border-gray-200 flex-wrap\">\n        <ToolbarButton \n          onClick={() => execCommand('bold')} \n          icon={Bold} \n          title=\"Gras (Ctrl+B)\" \n        />\n        <ToolbarButton \n          onClick={() => execCommand('italic')} \n          icon={Italic} \n          title=\"Italique (Ctrl+I)\" \n        />\n        <ToolbarButton \n          onClick={() => execCommand('underline')} \n          icon={Underline} \n          title=\"Soulign√© (Ctrl+U)\" \n        />\n        \n        <div className=\"border-r-2 border-gray-300 h-6 mx-1\" />\n        \n        <ToolbarButton \n          onClick={() => execCommand('insertUnorderedList')} \n          icon={List} \n          title=\"Liste √† puces\" \n        />\n        <ToolbarButton \n          onClick={() => execCommand('insertOrderedList')} \n          icon={ListOrdered} \n          title=\"Liste num√©rot√©e\" \n        />\n        \n        <div className=\"border-r-2 border-gray-300 h-6 mx-1\" />\n        \n        <ToolbarButton \n          onClick={() => execCommand('justifyLeft')} \n          icon={AlignLeft} \n          title=\"Aligner √† gauche\" \n        />\n        <ToolbarButton \n          onClick={() => execCommand('justifyCenter')} \n          icon={AlignCenter} \n          title=\"Centrer\" \n        />\n        <ToolbarButton \n          onClick={() => execCommand('justifyRight')} \n          icon={AlignRight} \n          title=\"Aligner √† droite\" \n        />\n        \n        <div className=\"border-r-2 border-gray-300 h-6 mx-1\" />\n        \n        <ToolbarButton \n          onClick={addLink} \n          icon={LinkIcon} \n          title=\"Ins√©rer un lien\" \n        />\n        \n        <div className=\"border-r-2 border-gray-300 h-6 mx-1\" />\n        \n        {/* Headings */}\n        <select\n          onChange={(e) => {\n            if (e.target.value) {\n              execCommand('formatBlock', e.target.value);\n              e.target.value = '';\n            }\n          }}\n          className=\"px-2 py-1 text-sm border-r border-gray-200 bg-transparent focus:outline-none\"\n          defaultValue=\"\"\n        >\n          <option value=\"\">Style</option>\n          <option value=\"h1\">Titre 1</option>\n          <option value=\"h2\">Titre 2</option>\n          <option value=\"h3\">Titre 3</option>\n          <option value=\"h4\">Titre 4</option>\n          <option value=\"p\">Paragraphe</option>\n        </select>\n        \n        {/* Font Family */}\n        <select\n          onChange={(e) => {\n            if (e.target.value) {\n              execCommand('fontName', e.target.value);\n              e.target.value = '';\n            }\n          }}\n          className=\"px-2 py-1 text-sm border-r border-gray-200 bg-transparent focus:outline-none\"\n          defaultValue=\"\"\n        >\n          <option value=\"\">Police</option>\n          <option value=\"Montserrat\">Montserrat</option>\n          <option value=\"Arial\">Arial</option>\n          <option value=\"Helvetica\">Helvetica</option>\n          <option value=\"Times New Roman\">Times New Roman</option>\n          <option value=\"Georgia\">Georgia</option>\n          <option value=\"Verdana\">Verdana</option>\n          <option value=\"Courier New\">Courier New</option>\n          <option value=\"Comic Sans MS\">Comic Sans MS</option>\n        </select>\n        \n        {/* Font Size */}\n        <select\n          onChange={(e) => {\n            if (e.target.value) {\n              execCommand('fontSize', e.target.value);\n              e.target.value = '';\n            }\n          }}\n          className=\"px-2 py-1 text-sm border-r border-gray-200 bg-transparent focus:outline-none\"\n          defaultValue=\"\"\n        >\n          <option value=\"\">Taille</option>\n          <option value=\"1\">Tr√®s petit</option>\n          <option value=\"2\">Petit</option>\n          <option value=\"3\">Normal</option>\n          <option value=\"4\">Moyen</option>\n          <option value=\"5\">Grand</option>\n          <option value=\"6\">Tr√®s grand</option>\n          <option value=\"7\">√ânorme</option>\n        </select>\n        \n        <button\n          type=\"button\"\n          onClick={addTable}\n          className=\"px-3 py-1 text-sm hover:bg-gray-100 transition-colors border-r border-gray-200\"\n          title=\"Ins√©rer un tableau\"\n        >\n          üìä Tableau\n        </button>\n      </div>\n\n      {/* Editor */}\n      <div\n        ref={editorRef}\n        contentEditable\n        onInput={handleInput}\n        className=\"p-4 focus:outline-none overflow-auto\"\n        style={{ \n          minHeight: `calc(${minHeight} - 42px)`,\n          maxHeight: '500px'\n        }}\n        data-placeholder={placeholder}\n      />\n\n      <style>{`\n        .rich-text-editor [contentEditable]:empty:before {\n          content: attr(data-placeholder);\n          color: #9ca3af;\n          pointer-events: none;\n          display: block;\n        }\n        \n        .rich-text-editor [contentEditable] {\n          font-size: 14px;\n          line-height: 1.6;\n        }\n        \n        .rich-text-editor [contentEditable]:focus {\n          outline: none;\n        }\n        \n        .rich-text-editor [contentEditable] h1 {\n          font-size: 2em;\n          font-weight: 700;\n          margin: 0.5em 0;\n        }\n        \n        .rich-text-editor [contentEditable] h2 {\n          font-size: 1.5em;\n          font-weight: 700;\n          margin: 0.5em 0;\n        }\n        \n        .rich-text-editor [contentEditable] h3 {\n          font-size: 1.25em;\n          font-weight: 700;\n          margin: 0.5em 0;\n        }\n        \n        .rich-text-editor [contentEditable] h4 {\n          font-size: 1.1em;\n          font-weight: 700;\n          margin: 0.5em 0;\n        }\n        \n        .rich-text-editor [contentEditable] p {\n          margin: 0.5em 0;\n        }\n        \n        .rich-text-editor [contentEditable] ul,\n        .rich-text-editor [contentEditable] ol {\n          margin: 0.5em 0;\n          padding-left: 2em;\n        }\n        \n        .rich-text-editor [contentEditable] li {\n          margin: 0.25em 0;\n        }\n        \n        .rich-text-editor [contentEditable] a {\n          color: #B5C233;\n          text-decoration: underline;\n        }\n        \n        .rich-text-editor [contentEditable] table {\n          border-collapse: collapse;\n          width: 100%;\n          margin: 10px 0;\n        }\n        \n        .rich-text-editor [contentEditable] table td,\n        .rich-text-editor [contentEditable] table th {\n          border: 1px solid #d1d5db;\n          padding: 8px;\n        }\n        \n        .rich-text-editor [contentEditable] table th {\n          background-color: #f9fafb;\n          font-weight: 600;\n        }\n        \n        .rich-text-editor [contentEditable] strong {\n          font-weight: 700;\n        }\n        \n        .rich-text-editor [contentEditable] em {\n          font-style: italic;\n        }\n        \n        .rich-text-editor [contentEditable] u {\n          text-decoration: underline;\n        }\n      `}</style>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1283, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/AddProductModal.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { X, Upload, Plus, Trash2 } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useCMSCategories } from '../../hooks/useCMSCategories';\nimport { useProductMutation, type ProductVariation } from '../../hooks/useProducts';\nimport { RichTextEditor } from './RichTextEditor';\n\ninterface AddProductModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onProductAdded: () => void;\n}\n\nexport function AddProductModal({ isOpen, onClose, onProductAdded }: AddProductModalProps) {\n  const [formData, setFormData] = useState({\n    name: '',\n    sku: '',\n    category: '',\n    business: 'fima-couchage',\n    price: 0,\n    compareAtPrice: 0,\n    currency: 'FCFA', // Devise par d√©faut pour le march√© ouest-africain\n    stock: 0,\n    lowStockThreshold: 10,\n    unit: 'pi√®ce',\n    shortDescription: '',\n    description: '',\n    tagline: '', // Nouveau champ Tagline\n    features: '', // Nouveau champ Caract√©ristiques\n    benefits: [] as string[], // Nouveau champ B√©n√©fices (multiselect)\n    isCustom: false, // Nouveau champ : Produit sur mesure\n    images: [] as string[],\n    status: 'active' as 'active' | 'inactive' | 'out-of-stock',\n    specifications: {} as Record<string, any>,\n    variations: [] as ProductVariation[]\n  });\n\n  const [imageUrl, setImageUrl] = useState('');\n  const [newVariation, setNewVariation] = useState({\n    name: '',\n    price: 0,\n    stock: 0,\n    sku: '',\n    compareAtPrice: 0\n  });\n  const { categories, loading } = useCMSCategories();\n  const { createProduct } = useProductMutation();\n\n  // Mapper business_unit vers business\n  const businessMapping: Record<string, string> = {\n    'couchage': 'fima-couchage',\n    'design': 'fima-design',\n    'univers-glass': 'univers-glass'\n  };\n\n  // Obtenir les cat√©gories disponibles pour le m√©tier s√©lectionn√©\n  const availableCategories = categories.filter(cat => {\n    if (cat.business_unit === 'all') return true;\n    return businessMapping[cat.business_unit] === formData.business;\n  }).filter(cat => cat.is_active);\n\n  // Reset form when modal closes\n  useEffect(() => {\n    if (!isOpen) {\n      setFormData({\n        name: '',\n        sku: '',\n        category: '',\n        business: 'fima-couchage',\n        price: 0,\n        compareAtPrice: 0,\n        currency: 'FCFA', // Devise par d√©faut pour le march√© ouest-africain\n        stock: 0,\n        lowStockThreshold: 10,\n        unit: 'pi√®ce',\n        shortDescription: '',\n        description: '',\n        tagline: '', // Nouveau champ Tagline\n        features: '', // Nouveau champ Caract√©ristiques\n        benefits: [] as string[], // Nouveau champ B√©n√©fices (multiselect)\n        isCustom: false, // Nouveau champ : Produit sur mesure\n        images: [],\n        status: 'active',\n        specifications: {},\n        variations: []\n      });\n      setImageUrl('');\n      setNewVariation({\n        name: '',\n        price: 0,\n        stock: 0,\n        sku: '',\n        compareAtPrice: 0\n      });\n    }\n  }, [isOpen]);\n\n  // G√©n√©rer un SKU automatique bas√© sur le nom et la cat√©gorie\n  const generateSKU = () => {\n    const businessPrefix = formData.business === 'fima-couchage' ? 'FC' : \n                          formData.business === 'fima-design' ? 'FD' : 'UG';\n    const categoryPrefix = formData.category.substring(0, 3).toUpperCase();\n    const randomNum = Math.floor(Math.random() * 10000).toString().padStart(4, '0');\n    return `${businessPrefix}-${categoryPrefix}-${randomNum}`;\n  };\n\n  const handleAddImage = () => {\n    if (imageUrl.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        images: [...prev.images, imageUrl.trim()]\n      }));\n      setImageUrl('');\n    }\n  };\n\n  const handleRemoveImage = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      images: prev.images.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleAddVariation = () => {\n    if (newVariation.name.trim() && newVariation.price >= 0 && newVariation.stock >= 0) {\n      setFormData(prev => ({\n        ...prev,\n        variations: [...prev.variations, { ...newVariation, id: crypto.randomUUID() }]\n      }));\n      setNewVariation({\n        name: '',\n        price: 0,\n        stock: 0,\n        sku: '',\n        compareAtPrice: 0\n      });\n    } else {\n      toast.error('Veuillez remplir tous les champs de la variation');\n    }\n  };\n\n  const handleRemoveVariation = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      variations: prev.variations.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Validation\n    if (!formData.name.trim()) {\n      toast.error('Le nom du produit est requis');\n      return;\n    }\n    \n    if (!formData.category) {\n      toast.error('Veuillez s√©lectionner une cat√©gorie');\n      return;\n    }\n\n    if (formData.price < 0) {\n      toast.error('Le prix ne peut pas √™tre n√©gatif');\n      return;\n    }\n\n    try {\n      // G√©n√©rer un SKU si non fourni\n      const sku = formData.sku.trim() || generateSKU();\n\n      // Pr√©parer les donn√©es du produit\n      const productData: any = {\n        name: formData.name.trim(),\n        sku,\n        category: formData.category,\n        business: formData.business,\n        price: Number(formData.price),\n        compareAtPrice: formData.compareAtPrice > 0 ? Number(formData.compareAtPrice) : undefined,\n        currency: formData.currency, // Ajouter la devise\n        stock: Number(formData.stock),\n        lowStockThreshold: Number(formData.lowStockThreshold),\n        unit: formData.unit,\n        shortDescription: formData.shortDescription || '',\n        description: formData.description || '',\n        tagline: formData.tagline || '', // Nouveau champ Tagline\n        features: formData.features || '', // Nouveau champ Caract√©ristiques\n        benefits: formData.benefits || [], // Nouveau champ B√©n√©fices (multiselect)\n        isCustom: formData.isCustom || false, // Nouveau champ : Produit sur mesure\n        images: formData.images,\n        status: formData.status,\n        specifications: formData.specifications,\n        tags: [],\n        featured: false,\n        variations: formData.variations.map(variation => ({\n          name: variation.name,\n          price: Number(variation.price),\n          stock: Number(variation.stock),\n          sku: variation.sku || generateSKU(),\n          compareAtPrice: variation.compareAtPrice > 0 ? Number(variation.compareAtPrice) : undefined\n        }))\n      };\n\n      // Envoyer au serveur Supabase via le hook\n      const result = await createProduct(productData);\n\n      if (!result.success) {\n        throw new Error(result.error || 'Erreur lors de l\\'ajout du produit');\n      }\n      \n      toast.success('Produit ajout√© avec succ√®s !');\n      onProductAdded();\n      onClose();\n    } catch (error) {\n      console.error('Erreur lors de l\\'ajout du produit:', error);\n      toast.error(error instanceof Error ? error.message : 'Erreur lors de l\\'ajout du produit');\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4\">\n      <div className=\"bg-white max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Nouveau Produit</h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 transition-colors\"\n          >\n            <X className=\"w-6 h-6 text-gray-600\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* M√©tier */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              M√©tier *\n            </label>\n            <select\n              value={formData.business}\n              onChange={(e) => setFormData(prev => ({ \n                ...prev, \n                business: e.target.value,\n                category: '' // Reset category when business changes\n              }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              required\n            >\n              <option value=\"fima-couchage\">FIMA Couchage</option>\n              <option value=\"fima-design\">FIMA Design</option>\n              <option value=\"univers-glass\">Univers Glass</option>\n            </select>\n          </div>\n\n          {/* Cat√©gorie */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Cat√©gorie *\n            </label>\n            <select\n              value={formData.category}\n              onChange={(e) => setFormData(prev => ({ ...prev, category: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              required\n              disabled={loading}\n            >\n              <option value=\"\">\n                {loading ? 'Chargement des cat√©gories...' : 'S√©lectionner une cat√©gorie'}\n              </option>\n              {availableCategories.map((cat) => (\n                <option key={cat.id} value={cat.slug}>\n                  {cat.icon_emoji} {cat.name}\n                </option>\n              ))}\n            </select>\n            {availableCategories.length === 0 && !loading && (\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Aucune cat√©gorie disponible pour ce m√©tier. Cr√©ez-en une dans le module Cat√©gories.\n              </p>\n            )}\n          </div>\n\n          {/* Nom du produit */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Nom du produit *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              placeholder=\"Ex: Matelas Confort Premium\"\n              required\n            />\n          </div>\n\n          {/* SKU */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              SKU (R√©f√©rence)\n            </label>\n            <input\n              type=\"text\"\n              value={formData.sku}\n              onChange={(e) => setFormData(prev => ({ ...prev, sku: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              placeholder=\"Laissez vide pour g√©n√©ration automatique\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">Si non renseign√©, un SKU sera g√©n√©r√© automatiquement</p>\n          </div>\n\n          {/* Description courte */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Description courte\n            </label>\n            <input\n              type=\"text\"\n              value={formData.shortDescription}\n              onChange={(e) => setFormData(prev => ({ ...prev, shortDescription: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              placeholder=\"Br√®ve description affich√©e dans les listes\"\n            />\n          </div>\n\n          {/* Description compl√®te */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Description compl√®te\n            </label>\n            <RichTextEditor\n              value={formData.description}\n              onChange={(value) => setFormData(prev => ({ ...prev, description: value }))}\n              placeholder=\"Description d√©taill√©e du produit\"\n            />\n          </div>\n\n          {/* Tagline */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Tagline\n            </label>\n            <input\n              type=\"text\"\n              value={formData.tagline}\n              onChange={(e) => setFormData(prev => ({ ...prev, tagline: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              placeholder=\"Phrase accrocheuse pour le produit\"\n            />\n          </div>\n\n          {/* Caract√©ristiques */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Caract√©ristiques\n            </label>\n            <RichTextEditor\n              value={formData.features}\n              onChange={(value) => setFormData(prev => ({ ...prev, features: value }))}\n              placeholder=\"Caract√©ristiques techniques du produit\"\n            />\n          </div>\n\n          {/* B√©n√©fices */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              B√©n√©fices\n            </label>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3 p-4 border border-gray-300 bg-gray-50\">\n              {[\n                'Confort optimal',\n                'Qualit√© certifi√©e',\n                'Durabilit√© garantie',\n                'Sant√© du dos',\n                'Livraison rapide',\n                \"Conseils d'experts\"\n              ].map((benefit) => (\n                <label key={benefit} className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.benefits.includes(benefit)}\n                    onChange={(e) => {\n                      if (e.target.checked) {\n                        setFormData(prev => ({\n                          ...prev,\n                          benefits: [...prev.benefits, benefit]\n                        }));\n                      } else {\n                        setFormData(prev => ({\n                          ...prev,\n                          benefits: prev.benefits.filter(b => b !== benefit)\n                        }));\n                      }\n                    }}\n                    className=\"w-4 h-4 rounded border-gray-300 text-[#B5C233] focus:ring-[#B5C233]\"\n                  />\n                  <span className=\"text-sm text-gray-700\">{benefit}</span>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Option Sur mesure */}\n          <div className=\"bg-blue-50 border border-blue-200 p-4\">\n            <label className=\"flex items-center space-x-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.isCustom}\n                onChange={(e) => setFormData(prev => ({ ...prev, isCustom: e.target.checked }))}\n                className=\"w-5 h-5 text-[#B5C233] border-gray-300 focus:ring-[#B5C233]\"\n              />\n              <div>\n                <span className=\"text-sm font-semibold text-gray-900\">Produit sur mesure</span>\n                <p className=\"text-xs text-gray-600\">\n                  Le prix ne sera pas affich√©. Un bouton \"Contacter service commercial\" appara√Ætra √† la place.\n                </p>\n              </div>\n            </label>\n          </div>\n\n          {/* Prix */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Devise *\n              </label>\n              <select\n                value={formData.currency}\n                onChange={(e) => setFormData(prev => ({ ...prev, currency: e.target.value }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                required={!formData.isCustom}\n                disabled={formData.isCustom}\n              >\n                <option value=\"FCFA\">FCFA (Franc CFA)</option>\n                <option value=\"EUR\">EUR (Euro)</option>\n                <option value=\"USD\">USD (Dollar)</option>\n              </select>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                {formData.isCustom ? 'Non applicable pour les produits sur mesure' : 'Devise dans laquelle vous saisissez le prix'}\n              </p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Prix {!formData.isCustom && '*'}\n              </label>\n              <input\n                type=\"number\"\n                value={formData.price}\n                onChange={(e) => setFormData(prev => ({ ...prev, price: Number(e.target.value) }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233] disabled:bg-gray-100 disabled:cursor-not-allowed\"\n                min=\"0\"\n                step=\"100\"\n                required={!formData.isCustom}\n                disabled={formData.isCustom}\n              />\n              {formData.isCustom && (\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Prix sur devis\n                </p>\n              )}\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Prix barr√©\n              </label>\n              <input\n                type=\"number\"\n                value={formData.compareAtPrice}\n                onChange={(e) => setFormData(prev => ({ ...prev, compareAtPrice: Number(e.target.value) }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233] disabled:bg-gray-100 disabled:cursor-not-allowed\"\n                min=\"0\"\n                step=\"100\"\n                disabled={formData.isCustom}\n              />\n            </div>\n          </div>\n\n          {/* Stock */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Stock *\n              </label>\n              <input\n                type=\"number\"\n                value={formData.stock}\n                onChange={(e) => setFormData(prev => ({ ...prev, stock: Number(e.target.value) }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                min=\"-1\"\n                required\n              />\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Saisissez -1 pour un stock illimit√©\n              </p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Seuil d'alerte\n              </label>\n              <input\n                type=\"number\"\n                value={formData.lowStockThreshold}\n                onChange={(e) => setFormData(prev => ({ ...prev, lowStockThreshold: Number(e.target.value) }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                min=\"0\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Unit√©\n              </label>\n              <select\n                value={formData.unit}\n                onChange={(e) => setFormData(prev => ({ ...prev, unit: e.target.value }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              >\n                <option value=\"pi√®ce\">pi√®ce</option>\n                <option value=\"m¬≤\">m¬≤</option>\n                <option value=\"ml\">ml</option>\n                <option value=\"lot\">lot</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Statut */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Statut\n            </label>\n            <select\n              value={formData.status}\n              onChange={(e) => setFormData(prev => ({ ...prev, status: e.target.value as any }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n            >\n              <option value=\"active\">Actif</option>\n              <option value=\"inactive\">Inactif</option>\n              <option value=\"out-of-stock\">Rupture de stock</option>\n            </select>\n          </div>\n\n          {/* Images */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Images\n            </label>\n            <div className=\"space-y-3\">\n              {/* Image list */}\n              {formData.images.length > 0 && (\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                  {formData.images.map((img, index) => (\n                    <div key={index} className=\"relative group\">\n                      <img\n                        src={img}\n                        alt={`Image ${index + 1}`}\n                        className=\"w-full h-24 object-cover border border-gray-200\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveImage(index)}\n                        className=\"absolute top-1 right-1 p-1 bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n              \n              {/* Add image */}\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"url\"\n                  value={imageUrl}\n                  onChange={(e) => setImageUrl(e.target.value)}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                  placeholder=\"URL de l'image (Unsplash, etc.)\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={handleAddImage}\n                  className=\"px-4 py-2 text-white hover:opacity-90 transition-opacity\"\n                  style={{ backgroundColor: '#B5C233' }}\n                >\n                  <Plus className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Variations */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Variations (ex: diff√©rentes tailles avec prix diff√©rents)\n            </label>\n            <p className=\"text-xs text-gray-500 mb-3\">\n              Les variations permettent de proposer le m√™me produit avec diff√©rentes options (tailles, dimensions, etc.) et des prix sp√©cifiques pour chaque option.\n            </p>\n            <div className=\"bg-blue-50 border border-blue-200 p-3 rounded mb-3\">\n              <p className=\"text-xs text-blue-800\">\n                <strong>üí° Comment √ßa fonctionne :</strong><br/>\n                ‚Ä¢ Si vous ajoutez des variations, le client pourra choisir entre les diff√©rentes options sur la page produit<br/>\n                ‚Ä¢ Le prix affich√© changera automatiquement selon l'option s√©lectionn√©e<br/>\n                ‚Ä¢ Si aucune variation n'est s√©lectionn√©e par d√©faut, le prix de base du produit sera affich√©<br/>\n                ‚Ä¢ Chaque variation peut avoir son propre stock (ou stock illimit√© avec -1)\n              </p>\n            </div>\n            <div className=\"space-y-3\">\n              {/* Variation list */}\n              {formData.variations.length > 0 && (\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4\">\n                  {formData.variations.map((variation, index) => (\n                    <div key={index} className=\"relative group border border-gray-200 p-3\">\n                      <p className=\"text-sm font-semibold text-gray-900\">{variation.name}</p>\n                      <p className=\"text-xs text-gray-600\">Prix: {variation.price.toLocaleString()} {formData.currency}</p>\n                      <p className=\"text-xs text-gray-600\">\n                        Stock: {variation.stock === -1 ? 'Illimit√©' : `${variation.stock} ${formData.unit}`}\n                      </p>\n                      {variation.sku && <p className=\"text-xs text-gray-500\">SKU: {variation.sku}</p>}\n                      {variation.compareAtPrice && variation.compareAtPrice > 0 && (\n                        <p className=\"text-xs text-gray-500 line-through\">Prix barr√©: {variation.compareAtPrice.toLocaleString()} {formData.currency}</p>\n                      )}\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveVariation(index)}\n                        className=\"absolute top-2 right-2 p-1 bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                      >\n                        <Trash2 className=\"w-3 h-3\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n              \n              {/* Add variation form */}\n              <div className=\"border border-gray-300 p-4 bg-gray-50\">\n                <p className=\"text-sm font-semibold text-gray-900 mb-3\">Ajouter une variation</p>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3\">\n                  <div>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      Nom de la variation *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newVariation.name}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, name: e.target.value }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Ex: 1 place (90x190 cm)\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      Prix *\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={newVariation.price}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, price: Number(e.target.value) }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Ex: 150000\"\n                      min=\"0\"\n                      step=\"100\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      Stock *\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={newVariation.stock}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, stock: Number(e.target.value) }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Ex: 10\"\n                      min=\"0\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      Prix barr√© (optionnel)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={newVariation.compareAtPrice}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, compareAtPrice: Number(e.target.value) }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Ex: 200000\"\n                      min=\"0\"\n                      step=\"100\"\n                    />\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      SKU (optionnel)\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newVariation.sku}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, sku: e.target.value }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Laissez vide pour g√©n√©ration automatique\"\n                    />\n                  </div>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={handleAddVariation}\n                  className=\"w-full flex items-center justify-center gap-2 px-4 py-2 text-white hover:opacity-90 transition-opacity\"\n                  style={{ backgroundColor: '#B5C233' }}\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  <span>Ajouter cette variation</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center justify-end gap-3 pt-4 border-t border-gray-200\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-6 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors\"\n            >\n              Annuler\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-6 py-2 text-white hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed\"\n              style={{ backgroundColor: '#B5C233' }}\n            >\n              Ajouter le produit\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2854, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/EditProductModal.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { X, Plus, Trash2 } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useCMSCategories } from '../../hooks/useCMSCategories';\nimport { useProductMutation, type ProductVariation } from '../../hooks/useProducts';\nimport { RichTextEditor } from './RichTextEditor';\nimport type { Product } from '../../hooks/useProducts';\n\ninterface EditProductModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onProductUpdated: () => void;\n  product: Product | null;\n}\n\nexport function EditProductModal({ isOpen, onClose, onProductUpdated, product }: EditProductModalProps) {\n  const [formData, setFormData] = useState({\n    name: '',\n    sku: '',\n    category: '',\n    business: 'fima-couchage',\n    price: 0,\n    compareAtPrice: 0,\n    currency: 'FCFA', // Devise par d√©faut pour le march√© ouest-africain\n    stock: 0,\n    lowStockThreshold: 10,\n    unit: 'pi√®ce',\n    shortDescription: '',\n    description: '',\n    tagline: '', // Nouveau champ Tagline\n    features: '', // Nouveau champ Caract√©ristiques\n    benefits: [] as string[], // Nouveau champ B√©n√©fices\n    isCustom: false, // Nouveau champ : Produit sur mesure\n    images: [] as string[],\n    status: 'active' as 'active' | 'inactive' | 'out-of-stock',\n    specifications: {} as Record<string, any>,\n    featured: false,\n    variations: [] as ProductVariation[]\n  });\n\n  const [imageUrl, setImageUrl] = useState('');\n  const [newVariation, setNewVariation] = useState({\n    name: '',\n    price: 0,\n    stock: 0,\n    sku: '',\n    compareAtPrice: 0\n  });\n  const { categories, loading } = useCMSCategories();\n  const { updateProduct } = useProductMutation();\n\n  // Mapper business_unit vers business\n  const businessMapping: Record<string, string> = {\n    'couchage': 'fima-couchage',\n    'design': 'fima-design',\n    'univers-glass': 'univers-glass'\n  };\n\n  // Obtenir les cat√©gories disponibles pour le m√©tier s√©lectionn√©\n  const availableCategories = categories.filter(cat => {\n    if (cat.business_unit === 'all') return true;\n    return businessMapping[cat.business_unit] === formData.business;\n  }).filter(cat => cat.is_active);\n\n  // Load product data when modal opens\n  useEffect(() => {\n    if (isOpen && product) {\n      setFormData({\n        name: product.name || '',\n        sku: product.sku || '',\n        category: product.category || '',\n        business: product.business || 'fima-couchage',\n        price: product.price || 0,\n        compareAtPrice: product.compareAtPrice || 0,\n        currency: product.currency || 'FCFA', // Devise par d√©faut pour le march√© ouest-africain\n        stock: product.stock || 0,\n        lowStockThreshold: product.lowStockThreshold || 10,\n        unit: product.unit || 'pi√®ce',\n        shortDescription: product.shortDescription || '',\n        description: product.description || '',\n        tagline: product.tagline || '', // Nouveau champ Tagline\n        features: product.features || '', // Nouveau champ Caract√©ristiques\n        benefits: product.benefits || [], // Nouveau champ B√©n√©fices\n        isCustom: product.isCustom || false, // Nouveau champ : Produit sur mesure\n        images: product.images || [],\n        status: product.status || 'active',\n        specifications: product.specifications || {},\n        featured: product.featured || false,\n        variations: product.variations || []\n      });\n      setImageUrl('');\n    }\n  }, [isOpen, product]);\n\n  const handleAddImage = () => {\n    if (imageUrl.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        images: [...prev.images, imageUrl.trim()]\n      }));\n      setImageUrl('');\n    }\n  };\n\n  const handleRemoveImage = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      images: prev.images.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleAddVariation = () => {\n    if (newVariation.name.trim() && newVariation.price >= 0 && newVariation.stock >= 0) {\n      setFormData(prev => ({\n        ...prev,\n        variations: [...prev.variations, { ...newVariation, id: crypto.randomUUID() }]\n      }));\n      setNewVariation({\n        name: '',\n        price: 0,\n        stock: 0,\n        sku: '',\n        compareAtPrice: 0\n      });\n    } else {\n      toast.error('Veuillez remplir tous les champs de la variation');\n    }\n  };\n\n  const handleRemoveVariation = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      variations: prev.variations.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!product?.id) {\n      toast.error('ID du produit manquant');\n      return;\n    }\n    \n    // Validation\n    if (!formData.name.trim()) {\n      toast.error('Le nom du produit est requis');\n      return;\n    }\n    \n    if (!formData.category) {\n      toast.error('Veuillez s√©lectionner une cat√©gorie');\n      return;\n    }\n\n    if (formData.price < 0) {\n      toast.error('Le prix ne peut pas √™tre n√©gatif');\n      return;\n    }\n\n    try {\n      // Pr√©parer les donn√©es du produit\n      const productData: any = {\n        name: formData.name.trim(),\n        sku: formData.sku.trim(),\n        category: formData.category,\n        business: formData.business,\n        price: Number(formData.price),\n        compareAtPrice: formData.compareAtPrice > 0 ? Number(formData.compareAtPrice) : undefined,\n        currency: formData.currency, // Devise par d√©faut pour le march√© ouest-africain\n        stock: Number(formData.stock),\n        lowStockThreshold: Number(formData.lowStockThreshold),\n        unit: formData.unit,\n        shortDescription: formData.shortDescription || '',\n        description: formData.description || '',\n        tagline: formData.tagline || '', // Nouveau champ Tagline\n        features: formData.features || '', // Nouveau champ Caract√©ristiques\n        benefits: formData.benefits || [], // Nouveau champ B√©n√©fices\n        isCustom: formData.isCustom || false, // Nouveau champ : Produit sur mesure\n        images: formData.images,\n        status: formData.status,\n        specifications: formData.specifications,\n        featured: formData.featured,\n        variations: formData.variations\n      };\n\n      // Envoyer au serveur Supabase via le hook\n      const result = await updateProduct(product.id, productData);\n\n      if (!result.success) {\n        throw new Error(result.error || 'Erreur lors de la mise √† jour du produit');\n      }\n      \n      toast.success('Produit mis √† jour avec succ√®s !');\n      onProductUpdated();\n      onClose();\n    } catch (error) {\n      console.error('Erreur lors de la mise √† jour du produit:', error);\n      toast.error(error instanceof Error ? error.message : 'Erreur lors de la mise √† jour du produit');\n    }\n  };\n\n  if (!isOpen || !product) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4\">\n      <div className=\"bg-white max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Modifier le Produit</h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 transition-colors\"\n          >\n            <X className=\"w-6 h-6 text-gray-600\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* M√©tier */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              M√©tier *\n            </label>\n            <select\n              value={formData.business}\n              onChange={(e) => setFormData(prev => ({ \n                ...prev, \n                business: e.target.value,\n                category: '' // Reset category when business changes\n              }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              required\n            >\n              <option value=\"fima-couchage\">FIMA Couchage</option>\n              <option value=\"fima-design\">FIMA Design</option>\n              <option value=\"univers-glass\">Univers Glass</option>\n            </select>\n          </div>\n\n          {/* Cat√©gorie */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Cat√©gorie *\n            </label>\n            <select\n              value={formData.category}\n              onChange={(e) => setFormData(prev => ({ ...prev, category: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              required\n              disabled={loading}\n            >\n              <option value=\"\">\n                {loading ? 'Chargement des cat√©gories...' : 'S√©lectionner une cat√©gorie'}\n              </option>\n              {availableCategories.map((cat) => (\n                <option key={cat.id} value={cat.slug}>\n                  {cat.icon_emoji} {cat.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Nom du produit */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Nom du produit *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              placeholder=\"Ex: Matelas Confort Premium\"\n              required\n            />\n          </div>\n\n          {/* SKU */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              SKU (R√©f√©rence) *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.sku}\n              onChange={(e) => setFormData(prev => ({ ...prev, sku: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              required\n            />\n          </div>\n\n          {/* Description courte */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Description courte\n            </label>\n            <input\n              type=\"text\"\n              value={formData.shortDescription}\n              onChange={(e) => setFormData(prev => ({ ...prev, shortDescription: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              placeholder=\"Br√®ve description affich√©e dans les listes\"\n            />\n          </div>\n\n          {/* Description compl√®te */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Description compl√®te\n            </label>\n            <RichTextEditor\n              value={formData.description}\n              onChange={(value) => setFormData(prev => ({ ...prev, description: value }))}\n              placeholder=\"Description d√©taill√©e du produit\"\n            />\n          </div>\n\n          {/* Tagline */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Tagline\n            </label>\n            <input\n              type=\"text\"\n              value={formData.tagline}\n              onChange={(e) => setFormData(prev => ({ ...prev, tagline: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              placeholder=\"Phrase accrocheuse pour le produit\"\n            />\n          </div>\n\n          {/* Caract√©ristiques */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Caract√©ristiques\n            </label>\n            <RichTextEditor\n              value={formData.features}\n              onChange={(value) => setFormData(prev => ({ ...prev, features: value }))}\n              placeholder=\"Caract√©ristiques techniques du produit\"\n            />\n          </div>\n\n          {/* B√©n√©fices */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              B√©n√©fices\n            </label>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3 p-4 border border-gray-300 bg-gray-50\">\n              {[\n                'Confort optimal',\n                'Qualit√© certifi√©e',\n                'Durabilit√© garantie',\n                'Sant√© du dos',\n                'Livraison rapide',\n                \"Conseils d'experts\"\n              ].map((benefit) => (\n                <label key={benefit} className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.benefits.includes(benefit)}\n                    onChange={(e) => {\n                      if (e.target.checked) {\n                        setFormData(prev => ({\n                          ...prev,\n                          benefits: [...prev.benefits, benefit]\n                        }));\n                      } else {\n                        setFormData(prev => ({\n                          ...prev,\n                          benefits: prev.benefits.filter(b => b !== benefit)\n                        }));\n                      }\n                    }}\n                    className=\"w-4 h-4 rounded border-gray-300 text-[#B5C233] focus:ring-[#B5C233]\"\n                  />\n                  <span className=\"text-sm text-gray-700\">{benefit}</span>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Option Sur mesure */}\n          <div className=\"bg-blue-50 border border-blue-200 p-4\">\n            <label className=\"flex items-center space-x-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.isCustom}\n                onChange={(e) => setFormData(prev => ({ ...prev, isCustom: e.target.checked }))}\n                className=\"w-5 h-5 text-[#B5C233] border-gray-300 focus:ring-[#B5C233]\"\n              />\n              <div>\n                <span className=\"text-sm font-semibold text-gray-900\">Produit sur mesure</span>\n                <p className=\"text-xs text-gray-600\">\n                  Le prix ne sera pas affich√©. Un bouton \"Contacter service commercial\" appara√Ætra √† la place.\n                </p>\n              </div>\n            </label>\n          </div>\n\n          {/* Prix */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Devise *\n              </label>\n              <select\n                value={formData.currency}\n                onChange={(e) => setFormData(prev => ({ ...prev, currency: e.target.value }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                required={!formData.isCustom}\n                disabled={formData.isCustom}\n              >\n                <option value=\"FCFA\">FCFA (Franc CFA)</option>\n                <option value=\"EUR\">EUR (Euro)</option>\n                <option value=\"USD\">USD (Dollar)</option>\n              </select>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                {formData.isCustom ? 'Non applicable pour les produits sur mesure' : 'Devise dans laquelle vous saisissez le prix'}\n              </p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Prix {!formData.isCustom && '*'}\n              </label>\n              <input\n                type=\"number\"\n                value={formData.price}\n                onChange={(e) => setFormData(prev => ({ ...prev, price: Number(e.target.value) }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233] disabled:bg-gray-100 disabled:cursor-not-allowed\"\n                min=\"0\"\n                step=\"100\"\n                required={!formData.isCustom}\n                disabled={formData.isCustom}\n              />\n              {formData.isCustom && (\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Prix sur devis\n                </p>\n              )}\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Prix barr√©\n              </label>\n              <input\n                type=\"number\"\n                value={formData.compareAtPrice}\n                onChange={(e) => setFormData(prev => ({ ...prev, compareAtPrice: Number(e.target.value) }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233] disabled:bg-gray-100 disabled:cursor-not-allowed\"\n                min=\"0\"\n                step=\"100\"\n                disabled={formData.isCustom}\n              />\n            </div>\n          </div>\n\n          {/* Stock */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Stock *\n              </label>\n              <input\n                type=\"number\"\n                value={formData.stock}\n                onChange={(e) => setFormData(prev => ({ ...prev, stock: Number(e.target.value) }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                min=\"-1\"\n                required\n              />\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Saisissez -1 pour un stock illimit√©\n              </p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Seuil d'alerte\n              </label>\n              <input\n                type=\"number\"\n                value={formData.lowStockThreshold}\n                onChange={(e) => setFormData(prev => ({ ...prev, lowStockThreshold: Number(e.target.value) }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                min=\"0\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Unit√©\n              </label>\n              <select\n                value={formData.unit}\n                onChange={(e) => setFormData(prev => ({ ...prev, unit: e.target.value }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              >\n                <option value=\"pi√®ce\">pi√®ce</option>\n                <option value=\"m¬≤\">m¬≤</option>\n                <option value=\"ml\">ml</option>\n                <option value=\"lot\">lot</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Statut et Featured */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                Statut\n              </label>\n              <select\n                value={formData.status}\n                onChange={(e) => setFormData(prev => ({ ...prev, status: e.target.value as any }))}\n                className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n              >\n                <option value=\"active\">Actif</option>\n                <option value=\"inactive\">Inactif</option>\n                <option value=\"out-of-stock\">Rupture de stock</option>\n              </select>\n            </div>\n            <div className=\"flex items-end\">\n              <label className=\"flex items-center space-x-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.featured}\n                  onChange={(e) => setFormData(prev => ({ ...prev, featured: e.target.checked }))}\n                  className=\"w-4 h-4 border-gray-300 focus:ring-2 focus:ring-[#B5C233]\"\n                />\n                <span className=\"text-sm font-semibold text-gray-900\">Produit en vedette</span>\n              </label>\n            </div>\n          </div>\n\n          {/* Images */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Images\n            </label>\n            <div className=\"space-y-3\">\n              {/* Image list */}\n              {formData.images.length > 0 && (\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                  {formData.images.map((img, index) => (\n                    <div key={index} className=\"relative group\">\n                      <img\n                        src={img}\n                        alt={`Image ${index + 1}`}\n                        className=\"w-full h-24 object-cover border border-gray-200\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveImage(index)}\n                        className=\"absolute top-1 right-1 p-1 bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n              \n              {/* Add image */}\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"url\"\n                  value={imageUrl}\n                  onChange={(e) => setImageUrl(e.target.value)}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                  placeholder=\"URL de l'image (Unsplash, etc.)\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={handleAddImage}\n                  className=\"px-4 py-2 text-white hover:opacity-90 transition-opacity\"\n                  style={{ backgroundColor: '#B5C233' }}\n                >\n                  <Plus className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Variations */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Variations (ex: diff√©rentes tailles avec prix diff√©rents)\n            </label>\n            <p className=\"text-xs text-gray-500 mb-3\">\n              Les variations permettent de proposer le m√™me produit avec diff√©rentes options (tailles, dimensions, etc.) et des prix sp√©cifiques pour chaque option.\n            </p>\n            <div className=\"bg-blue-50 border border-blue-200 p-3 rounded mb-3\">\n              <p className=\"text-xs text-blue-800\">\n                <strong>üí° Comment √ßa fonctionne :</strong><br/>\n                ‚Ä¢ Si vous ajoutez des variations, le client pourra choisir entre les diff√©rentes options sur la page produit<br/>\n                ‚Ä¢ Le prix affich√© changera automatiquement selon l'option s√©lectionn√©e<br/>\n                ‚Ä¢ Si aucune variation n'est s√©lectionn√©e par d√©faut, le prix de base du produit sera affich√©<br/>\n                ‚Ä¢ Chaque variation peut avoir son propre stock (ou stock illimit√© avec -1)\n              </p>\n            </div>\n            <div className=\"space-y-3\">\n              {/* Variation list */}\n              {formData.variations.length > 0 && (\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4\">\n                  {formData.variations.map((variation, index) => (\n                    <div key={index} className=\"relative group border border-gray-200 p-3\">\n                      <p className=\"text-sm font-semibold text-gray-900\">{variation.name}</p>\n                      <p className=\"text-xs text-gray-600\">Prix: {variation.price.toLocaleString()} {formData.currency}</p>\n                      <p className=\"text-xs text-gray-600\">\n                        Stock: {variation.stock === -1 ? 'Illimit√©' : `${variation.stock} ${formData.unit}`}\n                      </p>\n                      {variation.sku && <p className=\"text-xs text-gray-500\">SKU: {variation.sku}</p>}\n                      {variation.compareAtPrice && variation.compareAtPrice > 0 && (\n                        <p className=\"text-xs text-gray-500 line-through\">Prix barr√©: {variation.compareAtPrice.toLocaleString()} {formData.currency}</p>\n                      )}\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveVariation(index)}\n                        className=\"absolute top-2 right-2 p-1 bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                      >\n                        <Trash2 className=\"w-3 h-3\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n              \n              {/* Add variation form */}\n              <div className=\"border border-gray-300 p-4 bg-gray-50\">\n                <p className=\"text-sm font-semibold text-gray-900 mb-3\">Ajouter une variation</p>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3\">\n                  <div>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      Nom de la variation *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newVariation.name}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, name: e.target.value }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Ex: 1 place (90x190 cm)\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      Prix *\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={newVariation.price}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, price: Number(e.target.value) }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Ex: 150000\"\n                      min=\"0\"\n                      step=\"100\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      Stock *\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={newVariation.stock}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, stock: Number(e.target.value) }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Ex: 10\"\n                      min=\"0\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      Prix barr√© (optionnel)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={newVariation.compareAtPrice}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, compareAtPrice: Number(e.target.value) }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Ex: 200000\"\n                      min=\"0\"\n                      step=\"100\"\n                    />\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                      SKU (optionnel)\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newVariation.sku}\n                      onChange={(e) => setNewVariation(prev => ({ ...prev, sku: e.target.value }))}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      placeholder=\"Laissez vide pour g√©n√©ration automatique\"\n                    />\n                  </div>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={handleAddVariation}\n                  className=\"w-full flex items-center justify-center gap-2 px-4 py-2 text-white hover:opacity-90 transition-opacity\"\n                  style={{ backgroundColor: '#B5C233' }}\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  <span>Ajouter cette variation</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center justify-end gap-3 pt-4 border-t border-gray-200\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-6 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors\"\n            >\n              Annuler\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-6 py-2 text-white hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed\"\n              style={{ backgroundColor: '#B5C233' }}\n            >\n              Mettre √† jour\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4439, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/ImagePicker.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Images, X, Check, Search, Upload, Filter } from 'lucide-react';\nimport { useMediaLibrary } from '../../hooks/useMediaLibrary';\nimport { toast } from 'sonner';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\n\ninterface ImagePickerProps {\n  value: string;\n  onChange: (url: string) => void;\n  label?: string;\n  placeholder?: string;\n  category?: string; // Filtre optionnel par cat√©gorie\n}\n\nexport function ImagePicker({ value, onChange, label, placeholder, category }: ImagePickerProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState(category || '');\n  const [showUploadForm, setShowUploadForm] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const { media, loading, refetch } = useMediaLibrary();\n\n  // Cat√©gories disponibles\n  const CATEGORIES = [\n    { value: '', label: 'Toutes les cat√©gories' },\n    { value: 'hero', label: 'üéØ Hero / Banni√®res' },\n    { value: 'products', label: 'üõãÔ∏è Produits' },\n    { value: 'projects', label: 'üèóÔ∏è Projets / R√©alisations' },\n    { value: 'team', label: 'üë• √âquipe' },\n    { value: 'blog', label: 'üìù Blog / Articles' },\n    { value: 'icons', label: 'üé® Ic√¥nes / Logos' },\n    { value: 'backgrounds', label: 'üñºÔ∏è Arri√®re-plans' },\n    { value: 'other', label: 'üì¶ Autres' },\n  ];\n\n  // Formulaire d'upload\n  const [uploadForm, setUploadForm] = useState({\n    file: null as File | null,\n    title: '',\n    alt_text: '',\n    category: category || 'other',\n    tags: ''\n  });\n\n  const filteredMedia = media.filter(item => {\n    // Filtre par recherche\n    const matchesSearch =\n      item.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      item.alt_text.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      item.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));\n    \n    // Filtre par cat√©gorie\n    const matchesCategory = !selectedCategory || item.category === selectedCategory;\n    \n    return matchesSearch && matchesCategory;\n  });\n\n  const handleSelect = (url: string) => {\n    onChange(url);\n    setIsOpen(false);\n    setShowUploadForm(false);\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      // V√©rifier le type de fichier\n      if (!file.type.startsWith('image/')) {\n        toast.error('Veuillez s√©lectionner un fichier image');\n        return;\n      }\n      \n      // V√©rifier la taille (max 10MB)\n      if (file.size > 10485760) {\n        toast.error('La taille du fichier ne doit pas d√©passer 10 MB');\n        return;\n      }\n      \n      setUploadForm({\n        ...uploadForm,\n        file,\n        title: uploadForm.title || file.name.split('.')[0],\n        alt_text: uploadForm.alt_text || file.name.split('.')[0]\n      });\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!uploadForm.file) {\n      toast.error('Veuillez s√©lectionner un fichier');\n      return;\n    }\n\n    try {\n      setUploading(true);\n      const formData = new FormData();\n      formData.append('file', uploadForm.file);\n      formData.append('title', uploadForm.title);\n      formData.append('alt_text', uploadForm.alt_text);\n      formData.append('category', uploadForm.category || 'other');\n      formData.append('tags', uploadForm.tags);\n\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/media/upload`,\n        {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n          },\n          body: formData,\n        }\n      );\n\n      const result = await response.json();\n\n      if (result.success) {\n        toast.success('Image upload√©e avec succ√®s !');\n        \n        // S√©lectionner automatiquement l'image upload√©e\n        onChange(result.data.url);\n        \n        // Rafra√Æchir la liste\n        refetch();\n        \n        // Fermer le formulaire\n        setShowUploadForm(false);\n        setUploadForm({ file: null, title: '', alt_text: '', category: category || 'other', tags: '' });\n        \n        // Optionnel : fermer le modal\n        // setIsOpen(false);\n      } else {\n        throw new Error(result.error || 'Upload failed');\n      }\n    } catch (error) {\n      console.error('Error uploading media:', error);\n      toast.error('Erreur lors de l\\'upload de l\\'image');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div>\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          {label}\n        </label>\n      )}\n\n      <div className=\"space-y-2\">\n        {/* URL Input */}\n        <div className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={value}\n            onChange={(e) => onChange(e.target.value)}\n            className=\"flex-1 px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            placeholder={placeholder || \"URL de l'image ou s√©lectionnez depuis la biblioth√®que\"}\n          />\n          <button\n            type=\"button\"\n            onClick={() => setIsOpen(true)}\n            className=\"px-4 py-2 bg-gray-100 hover:bg-gray-200 border border-gray-300 flex items-center gap-2\"\n            title=\"Choisir depuis la biblioth√®que\"\n          >\n            <Images className=\"w-4 h-4\" />\n            Biblioth√®que\n          </button>\n        </div>\n\n        {/* Preview */}\n        {value && (\n          <div className=\"relative w-full h-32 bg-gray-100 border border-gray-200 overflow-hidden\">\n            <img\n              src={value}\n              alt=\"Preview\"\n              className=\"w-full h-full object-cover\"\n              onError={(e) => {\n                e.currentTarget.src = 'data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"%3E%3Crect fill=\"%23ddd\" width=\"100\" height=\"100\"/%3E%3Ctext x=\"50%25\" y=\"50%25\" dominant-baseline=\"middle\" text-anchor=\"middle\" fill=\"%23999\"%3EImage invalide%3C/text%3E%3C/svg%3E';\n              }}\n            />\n            <button\n              type=\"button\"\n              onClick={() => onChange('')}\n              className=\"absolute top-2 right-2 p-1 bg-red-500 text-white hover:bg-red-600\"\n              title=\"Supprimer l'image\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Modal de s√©lection */}\n      {isOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-6xl max-h-[90vh] flex flex-col\">\n            {/* Header */}\n            <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n              <h3 className=\"font-semibold text-gray-900\">\n                {showUploadForm ? 'Uploader une image' : 'S√©lectionner une image'}\n              </h3>\n              <div className=\"flex items-center gap-2\">\n                {!showUploadForm && (\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowUploadForm(true)}\n                    className=\"px-4 py-2 bg-green-600 text-white hover:bg-green-700 flex items-center gap-2\"\n                  >\n                    <Upload className=\"w-4 h-4\" />\n                    Uploader\n                  </button>\n                )}\n                <button\n                  onClick={() => {\n                    setIsOpen(false);\n                    setShowUploadForm(false);\n                  }}\n                  className=\"p-1 hover:bg-gray-100\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n\n            {showUploadForm ? (\n              /* Formulaire d'upload */\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                <div className=\"max-w-2xl mx-auto space-y-4\">\n                  {/* File Input */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Fichier Image <span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleFileChange}\n                      className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100\"\n                    />\n                    {uploadForm.file && (\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {uploadForm.file.name} ({(uploadForm.file.size / 1024 / 1024).toFixed(2)} MB)\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Preview */}\n                  {uploadForm.file && (\n                    <div className=\"relative w-full h-48 bg-gray-100 border border-gray-200 overflow-hidden\">\n                      <img\n                        src={URL.createObjectURL(uploadForm.file)}\n                        alt=\"Preview\"\n                        className=\"w-full h-full object-contain\"\n                      />\n                    </div>\n                  )}\n\n                  {/* Title */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Titre\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={uploadForm.title}\n                      onChange={(e) => setUploadForm({ ...uploadForm, title: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      placeholder=\"Titre de l'image\"\n                    />\n                  </div>\n\n                  {/* Alt Text */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Texte alternatif (Alt)\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={uploadForm.alt_text}\n                      onChange={(e) => setUploadForm({ ...uploadForm, alt_text: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      placeholder=\"Description de l'image\"\n                    />\n                  </div>\n\n                  {/* Category */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Cat√©gorie <span className=\"text-red-500\">*</span>\n                    </label>\n                    <select\n                      value={uploadForm.category}\n                      onChange={(e) => setUploadForm({ ...uploadForm, category: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    >\n                      {CATEGORIES.filter(cat => cat.value).map(cat => (\n                        <option key={cat.value} value={cat.value}>\n                          {cat.label}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  {/* Tags */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Tags (s√©par√©s par des virgules)\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={uploadForm.tags}\n                      onChange={(e) => setUploadForm({ ...uploadForm, tags: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      placeholder=\"hero, produit, banni√®re...\"\n                    />\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex gap-3 pt-4\">\n                    <button\n                      type=\"button\"\n                      onClick={handleUpload}\n                      disabled={!uploadForm.file || uploading}\n                      className=\"flex-1 px-6 py-3 bg-green-600 text-white hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                    >\n                      {uploading ? (\n                        <>\n                          <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                          Upload en cours...\n                        </>\n                      ) : (\n                        <>\n                          <Upload className=\"w-4 h-4\" />\n                          Uploader et S√©lectionner\n                        </>\n                      )}\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setShowUploadForm(false);\n                        setUploadForm({ file: null, title: '', alt_text: '', category: category || 'other', tags: '' });\n                      }}\n                      className=\"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700\"\n                    >\n                      Annuler\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <>\n                {/* Filters */}\n                <div className=\"p-4 border-b border-gray-200\">\n                  <div className=\"flex flex-col sm:flex-row gap-3\">\n                    {/* Search */}\n                    <div className=\"flex-1\">\n                      <div className=\"relative\">\n                        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                        <input\n                          type=\"text\"\n                          value={searchQuery}\n                          onChange={(e) => setSearchQuery(e.target.value)}\n                          className=\"w-full pl-10 pr-4 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                          placeholder=\"Rechercher par titre, description ou tags...\"\n                          autoFocus\n                        />\n                      </div>\n                    </div>\n\n                    {/* Category Filter */}\n                    <div className=\"sm:w-64\">\n                      <div className=\"flex items-center gap-2\">\n                        <Filter className=\"w-4 h-4 text-gray-400\" />\n                        <select\n                          value={selectedCategory}\n                          onChange={(e) => setSelectedCategory(e.target.value)}\n                          className=\"flex-1 px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        >\n                          {CATEGORIES.map(cat => (\n                            <option key={cat.value} value={cat.value}>\n                              {cat.label}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Grid */}\n                <div className=\"flex-1 overflow-y-auto p-4\">\n                  {loading ? (\n                    <div className=\"flex items-center justify-center h-64\">\n                      <div className=\"text-center\">\n                        <div className=\"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-3\"></div>\n                        <p className=\"text-gray-600\">Chargement...</p>\n                      </div>\n                    </div>\n                  ) : filteredMedia.length === 0 ? (\n                    <div className=\"text-center py-12 text-gray-500\">\n                      {searchQuery || selectedCategory\n                        ? 'Aucune image ne correspond √† vos crit√®res'\n                        : 'Aucune image dans la biblioth√®que'}\n                    </div>\n                  ) : (\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3\">\n                      {filteredMedia.map((item) => (\n                        <button\n                          key={item.id}\n                          type=\"button\"\n                          onClick={() => handleSelect(item.url)}\n                          className={`relative aspect-square bg-gray-100 border-2 overflow-hidden hover:border-green-500 transition-colors group ${\n                            value === item.url ? 'border-green-500' : 'border-gray-200'\n                          }`}\n                        >\n                          <img\n                            src={item.url}\n                            alt={item.alt_text}\n                            className=\"w-full h-full object-cover\"\n                          />\n                          \n                          {/* Category Badge - Top Left */}\n                          {item.category && (\n                            <div className=\"absolute top-2 left-2 z-10\">\n                              <span className=\"text-xs px-2 py-1 bg-blue-500 text-white font-medium\">\n                                {CATEGORIES.find(c => c.value === item.category)?.label?.split(' ')[0] || 'üì¶'}\n                              </span>\n                            </div>\n                          )}\n                          \n                          {/* Overlay on hover */}\n                          <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex flex-col items-center justify-center\">\n                            <div className=\"opacity-0 group-hover:opacity-100 text-white text-center p-3\">\n                              <p className=\"text-sm font-medium mb-1\">{item.title}</p>\n                              {item.alt_text && (\n                                <p className=\"text-xs text-gray-300 line-clamp-2\">{item.alt_text}</p>\n                              )}\n                            </div>\n                          </div>\n\n                          {/* Selected indicator */}\n                          {value === item.url && (\n                            <div className=\"absolute top-2 right-2 bg-green-500 text-white p-1.5 z-10\">\n                              <Check className=\"w-4 h-4\" />\n                            </div>\n                          )}\n\n                          {/* Tags - Bottom */}\n                          {item.tags.length > 0 && (\n                            <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/70 to-transparent p-2\">\n                              <div className=\"flex flex-wrap gap-1\">\n                                {item.tags.slice(0, 2).map(tag => (\n                                  <span\n                                    key={tag}\n                                    className=\"text-xs px-1.5 py-0.5 bg-white bg-opacity-90 text-gray-800 font-medium\"\n                                  >\n                                    {tag}\n                                  </span>\n                                ))}\n                                {item.tags.length > 2 && (\n                                  <span className=\"text-xs px-1.5 py-0.5 bg-gray-200 bg-opacity-90 text-gray-600\">\n                                    +{item.tags.length - 2}\n                                  </span>\n                                )}\n                              </div>\n                            </div>\n                          )}\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </>\n            )}\n\n            {/* Footer */}\n            {!showUploadForm && (\n              <div className=\"p-4 border-t border-gray-200 flex justify-between items-center\">\n                <p className=\"text-sm text-gray-500\">\n                  {filteredMedia.length} image{filteredMedia.length !== 1 ? 's' : ''} disponible{filteredMedia.length !== 1 ? 's' : ''}\n                  {selectedCategory && ` ‚Ä¢ ${CATEGORIES.find(c => c.value === selectedCategory)?.label}`}\n                </p>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setIsOpen(false);\n                    setShowUploadForm(false);\n                  }}\n                  className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700\"\n                >\n                  Annuler\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5365, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/ArticlesInitButton.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { RefreshCw } from 'lucide-react';\nimport { Button } from '../../components/ui/button';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\nimport { toast } from 'sonner';\n\n/**\n * üì∞ Bouton d'initialisation des Articles/Blog\n * \n * Cr√©e des articles de d√©monstration pour le blog FIMA\n */\nexport function ArticlesInitButton() {\n  const [isInitializing, setIsInitializing] = useState(false);\n\n  const handleInit = async () => {\n    if (!confirm('‚ö†Ô∏è Cette action va cr√©er des articles de d√©monstration. Continuer ?')) {\n      return;\n    }\n\n    setIsInitializing(true);\n    \n    try {\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/init-blogs`,\n        {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success) {\n        toast.success(result.message || 'Articles initialis√©s avec succ√®s !');\n        // Recharger la page pour voir les nouveaux articles\n        setTimeout(() => window.location.reload(), 1500);\n      } else {\n        toast.error(result.error || 'Erreur lors de l\\'initialisation');\n      }\n    } catch (error) {\n      console.error('Error initializing articles:', error);\n      toast.error('Erreur fatale lors de l\\'initialisation');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n\n  return (\n    <Button\n      onClick={handleInit}\n      disabled={isInitializing}\n      variant=\"outline\"\n      className=\"flex items-center space-x-2\"\n    >\n      <RefreshCw className={`w-4 h-4 ${isInitializing ? 'animate-spin' : ''}`} />\n      <span>{isInitializing ? 'Initialisation...' : 'Initialiser donn√©es d√©mo'}</span>\n    </Button>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAOO,SAAS;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAC;IAErD,MAAM,aAAa;QACjB,IAAI,CAAC,QAAQ,wEAAwE;YACnF;QACF;QAEA,kBAAkB;QAElB,IAAI;YACF,MAAM,WAAW,MAAM,MACrB,CAAC,QAAQ,EAAE,uIAAS,CAAC,yDAAyD,CAAC,EAC/E;gBACE,QAAQ;gBACR,SAAS;oBACP,iBAAiB,CAAC,OAAO,EAAE,2IAAa,EAAE;oBAC1C,gBAAgB;gBAClB;YACF;YAGF,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC1D;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,OAAO,OAAO,EAAE;gBAClB,qHAAK,CAAC,OAAO,CAAC,OAAO,OAAO,IAAI;gBAChC,oDAAoD;gBACpD,WAAW,IAAM,OAAO,QAAQ,CAAC,MAAM,IAAI;YAC7C,OAAO;gBACL,qHAAK,CAAC,KAAK,CAAC,OAAO,KAAK,IAAI;YAC9B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,qHAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,kBAAkB;QACpB;IACF;IAEA,qBACE,qKAAC,qIAAM;QACL,SAAS;QACT,UAAU;QACV,SAAQ;QACR,WAAU;;0BAEV,qKAAC,sNAAS;gBAAC,WAAW,CAAC,QAAQ,EAAE,iBAAiB,iBAAiB,IAAI;;;;;;0BACvE,qKAAC;0BAAM,iBAAiB,sBAAsB;;;;;;;;;;;;AAGpD"}},
    {"offset": {"line": 5453, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/BlogFormModal.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { X, Save } from 'lucide-react';\nimport { Button } from '../../components/ui/button';\n\ninterface BlogFormModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: (data: any) => Promise<void>;\n  initialData?: any;\n  isEditing?: boolean;\n}\n\nexport function BlogFormModal({ isOpen, onClose, onSubmit, initialData, isEditing = false }: BlogFormModalProps) {\n  const [formData, setFormData] = useState({\n    titleFr: '',\n    titleEn: '',\n    slug: '',\n    summaryFr: '',\n    summaryEn: '',\n    contentFr: '',\n    contentEn: '',\n    author: 'FIMA',\n    category: 'actualites' as 'actualites' | 'conseils' | 'tendances' | 'innovations' | 'projets',\n    tags: [] as string[],\n    featuredImage: '',\n    published: false,\n    publishedDate: new Date().toISOString().split('T')[0],\n    readTime: 5\n  });\n\n  const [tagsInput, setTagsInput] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Initialiser avec les donn√©es existantes en mode √©dition\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        titleFr: initialData.titleFr || '',\n        titleEn: initialData.titleEn || '',\n        slug: initialData.slug || '',\n        summaryFr: initialData.summaryFr || '',\n        summaryEn: initialData.summaryEn || '',\n        contentFr: initialData.contentFr || '',\n        contentEn: initialData.contentEn || '',\n        author: initialData.author || 'FIMA',\n        category: initialData.category || 'actualites',\n        tags: initialData.tags || [],\n        featuredImage: initialData.featuredImage || '',\n        published: initialData.published || false,\n        publishedDate: initialData.publishedDate || new Date().toISOString().split('T')[0],\n        readTime: initialData.readTime || 5\n      });\n      setTagsInput((initialData.tags || []).join(', '));\n    }\n  }, [initialData]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n\n    // G√©n√©rer slug automatiquement si vide\n    const slug = formData.slug || formData.titleFr.toLowerCase()\n      .normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n      .replace(/[^a-z0-9]+/g, '-')\n      .replace(/(^-|-$)/g, '');\n\n    // Convertir les tags string en array\n    const tags = tagsInput\n      .split(',')\n      .map(tag => tag.trim())\n      .filter(tag => tag.length > 0);\n\n    const dataToSubmit = {\n      ...formData,\n      slug,\n      tags\n    };\n\n    try {\n      await onSubmit(dataToSubmit);\n      setIsSubmitting(false);\n    } catch (error) {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4\">\n      <div className=\"bg-white w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {isEditing ? 'Modifier l\\'article' : 'Nouvel article'}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 transition-colors\"\n            type=\"button\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        {/* Form Content - Scrollable */}\n        <form onSubmit={handleSubmit} className=\"flex-1 overflow-y-auto\">\n          <div className=\"p-6 space-y-6\">\n            {/* Titres */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Titre (Fran√ßais) *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.titleFr}\n                  onChange={(e) => setFormData({ ...formData, titleFr: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Titre de l'article en fran√ßais\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Titre (Anglais) *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.titleEn}\n                  onChange={(e) => setFormData({ ...formData, titleEn: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Article title in English\"\n                />\n              </div>\n            </div>\n\n            {/* Slug */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Slug (URL) - Laisser vide pour g√©n√©ration automatique\n              </label>\n              <input\n                type=\"text\"\n                value={formData.slug}\n                onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                placeholder=\"mon-article-slug (auto-g√©n√©r√© si vide)\"\n              />\n            </div>\n\n            {/* R√©sum√©s */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  R√©sum√© (Fran√ßais) *\n                </label>\n                <textarea\n                  required\n                  value={formData.summaryFr}\n                  onChange={(e) => setFormData({ ...formData, summaryFr: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Court r√©sum√© de l'article\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  R√©sum√© (Anglais) *\n                </label>\n                <textarea\n                  required\n                  value={formData.summaryEn}\n                  onChange={(e) => setFormData({ ...formData, summaryEn: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Short article summary\"\n                />\n              </div>\n            </div>\n\n            {/* Contenus */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Contenu complet (Fran√ßais) *\n                </label>\n                <textarea\n                  required\n                  value={formData.contentFr}\n                  onChange={(e) => setFormData({ ...formData, contentFr: e.target.value })}\n                  rows={10}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono text-sm\"\n                  placeholder=\"Contenu complet de l'article en fran√ßais (HTML accept√©)\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Contenu complet (Anglais) *\n                </label>\n                <textarea\n                  required\n                  value={formData.contentEn}\n                  onChange={(e) => setFormData({ ...formData, contentEn: e.target.value })}\n                  rows={10}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono text-sm\"\n                  placeholder=\"Full article content in English (HTML accepted)\"\n                />\n              </div>\n            </div>\n\n            {/* M√©tadonn√©es */}\n            <div className=\"grid grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Auteur\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.author}\n                  onChange={(e) => setFormData({ ...formData, author: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Auteur\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Cat√©gorie\n                </label>\n                <select\n                  value={formData.category}\n                  onChange={(e) => setFormData({ ...formData, category: e.target.value as any })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                >\n                  <option value=\"actualites\">Actualit√©s</option>\n                  <option value=\"conseils\">Conseils</option>\n                  <option value=\"tendances\">Tendances</option>\n                  <option value=\"innovations\">Innovations</option>\n                  <option value=\"projets\">Projets</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Date de publication\n                </label>\n                <input\n                  type=\"date\"\n                  value={formData.publishedDate}\n                  onChange={(e) => setFormData({ ...formData, publishedDate: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Temps de lecture (min)\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.readTime}\n                  onChange={(e) => setFormData({ ...formData, readTime: parseInt(e.target.value) })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  min=\"1\"\n                />\n              </div>\n            </div>\n\n            {/* Image et Tags */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Image en vedette (URL)\n                </label>\n                <input\n                  type=\"url\"\n                  value={formData.featuredImage}\n                  onChange={(e) => setFormData({ ...formData, featuredImage: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"https://example.com/image.jpg\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Tags (s√©par√©s par des virgules)\n                </label>\n                <input\n                  type=\"text\"\n                  value={tagsInput}\n                  onChange={(e) => setTagsInput(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"literie, matelas, sommeil\"\n                />\n              </div>\n            </div>\n\n            {/* Publi√© */}\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={formData.published}\n                onChange={(e) => setFormData({ ...formData, published: e.target.checked })}\n                className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">Article publi√© (visible sur le site)</span>\n            </div>\n          </div>\n\n          {/* Footer - Actions */}\n          <div className=\"flex items-center justify-end space-x-4 p-6 border-t border-gray-200 bg-gray-50\">\n            <Button\n              type=\"button\"\n              onClick={onClose}\n              variant=\"outline\"\n              disabled={isSubmitting}\n            >\n              Annuler\n            </Button>\n            <Button\n              type=\"submit\"\n              className=\"px-6 py-2 text-white\"\n              style={{ backgroundColor: '#B5C233' }}\n              disabled={isSubmitting}\n            >\n              <Save className=\"w-4 h-4 mr-2\" />\n              {isSubmitting ? 'Enregistrement...' : (isEditing ? 'Mettre √† jour' : 'Cr√©er')}\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6158, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/TestimonialsInitButton.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { RefreshCw } from 'lucide-react';\nimport { Button } from '../../components/ui/button';\nimport { initTestimonials } from '../../utils/initTestimonialsData';\nimport { toast } from 'sonner';\n\n/**\n * üí¨ Bouton d'initialisation des T√©moignages\n * \n * Cr√©e des t√©moignages de d√©monstration pour tous les m√©tiers FIMA\n */\nexport function TestimonialsInitButton() {\n  const [isInitializing, setIsInitializing] = useState(false);\n\n  const handleInit = async () => {\n    if (!confirm('‚ö†Ô∏è Cette action va cr√©er des t√©moignages de d√©monstration. Continuer ?')) {\n      return;\n    }\n\n    setIsInitializing(true);\n    \n    try {\n      const result = await initTestimonials();\n      \n      if (result.success) {\n        toast.success(result.message || 'T√©moignages initialis√©s avec succ√®s !');\n        // Recharger la page pour voir les nouveaux t√©moignages\n        setTimeout(() => window.location.reload(), 1500);\n      } else {\n        toast.error(result.error || 'Erreur lors de l\\'initialisation');\n      }\n    } catch (error) {\n      console.error('Error initializing testimonials:', error);\n      toast.error('Erreur fatale lors de l\\'initialisation');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n\n  return (\n    <Button\n      onClick={handleInit}\n      disabled={isInitializing}\n      variant=\"outline\"\n      className=\"flex items-center space-x-2\"\n    >\n      <RefreshCw className={`w-4 h-4 ${isInitializing ? 'animate-spin' : ''}`} />\n      <span>{isInitializing ? 'Initialisation...' : 'Initialiser donn√©es d√©mo'}</span>\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAOO,SAAS;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAC;IAErD,MAAM,aAAa;QACjB,IAAI,CAAC,QAAQ,2EAA2E;YACtF;QACF;QAEA,kBAAkB;QAElB,IAAI;YACF,MAAM,SAAS,MAAM,IAAA,iJAAgB;YAErC,IAAI,OAAO,OAAO,EAAE;gBAClB,qHAAK,CAAC,OAAO,CAAC,OAAO,OAAO,IAAI;gBAChC,uDAAuD;gBACvD,WAAW,IAAM,OAAO,QAAQ,CAAC,MAAM,IAAI;YAC7C,OAAO;gBACL,qHAAK,CAAC,KAAK,CAAC,OAAO,KAAK,IAAI;YAC9B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oCAAoC;YAClD,qHAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,kBAAkB;QACpB;IACF;IAEA,qBACE,qKAAC,qIAAM;QACL,SAAS;QACT,UAAU;QACV,SAAQ;QACR,WAAU;;0BAEV,qKAAC,sNAAS;gBAAC,WAAW,CAAC,QAAQ,EAAE,iBAAiB,iBAAiB,IAAI;;;;;;0BACvE,qKAAC;0BAAM,iBAAiB,sBAAsB;;;;;;;;;;;;AAGpD"}},
    {"offset": {"line": 6236, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/components/VideoStoriesInitButton.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { RefreshCw } from 'lucide-react';\nimport { Button } from '../../components/ui/button';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\nimport { toast } from 'sonner';\n\n/**\n * üé• Bouton d'initialisation des Video Stories\n * \n * Cr√©e des video stories de d√©monstration pour tous les m√©tiers FIMA\n */\nexport function VideoStoriesInitButton() {\n  const [isInitializing, setIsInitializing] = useState(false);\n\n  const handleInit = async () => {\n    if (!confirm('‚ö†Ô∏è Cette action va cr√©er des vid√©os de d√©monstration. Continuer ?')) {\n      return;\n    }\n\n    setIsInitializing(true);\n    \n    try {\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/init-video-stories`,\n        {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success) {\n        toast.success(result.message || 'Vid√©os initialis√©es avec succ√®s !');\n        // Recharger la page pour voir les nouvelles vid√©os\n        setTimeout(() => window.location.reload(), 1500);\n      } else {\n        toast.error(result.error || 'Erreur lors de l\\'initialisation');\n      }\n    } catch (error) {\n      console.error('Error initializing video stories:', error);\n      toast.error('Erreur fatale lors de l\\'initialisation');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n\n  return (\n    <Button\n      onClick={handleInit}\n      disabled={isInitializing}\n      variant=\"outline\"\n      className=\"flex items-center space-x-2\"\n    >\n      <RefreshCw className={`w-4 h-4 ${isInitializing ? 'animate-spin' : ''}`} />\n      <span>{isInitializing ? 'Initialisation...' : 'Initialiser donn√©es d√©mo'}</span>\n    </Button>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAOO,SAAS;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAC;IAErD,MAAM,aAAa;QACjB,IAAI,CAAC,QAAQ,sEAAsE;YACjF;QACF;QAEA,kBAAkB;QAElB,IAAI;YACF,MAAM,WAAW,MAAM,MACrB,CAAC,QAAQ,EAAE,uIAAS,CAAC,iEAAiE,CAAC,EACvF;gBACE,QAAQ;gBACR,SAAS;oBACP,iBAAiB,CAAC,OAAO,EAAE,2IAAa,EAAE;oBAC1C,gBAAgB;gBAClB;YACF;YAGF,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC1D;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,OAAO,OAAO,EAAE;gBAClB,qHAAK,CAAC,OAAO,CAAC,OAAO,OAAO,IAAI;gBAChC,mDAAmD;gBACnD,WAAW,IAAM,OAAO,QAAQ,CAAC,MAAM,IAAI;YAC7C,OAAO;gBACL,qHAAK,CAAC,KAAK,CAAC,OAAO,KAAK,IAAI;YAC9B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qCAAqC;YACnD,qHAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,kBAAkB;QACpB;IACF;IAEA,qBACE,qKAAC,qIAAM;QACL,SAAS;QACT,UAAU;QACV,SAAQ;QACR,WAAU;;0BAEV,qKAAC,sNAAS;gBAAC,WAAW,CAAC,QAAQ,EAAE,iBAAiB,iBAAiB,IAAI;;;;;;0BACvE,qKAAC;0BAAM,iBAAiB,sBAAsB;;;;;;;;;;;;AAGpD"}}]
}