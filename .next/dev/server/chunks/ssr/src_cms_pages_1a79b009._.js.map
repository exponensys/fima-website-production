{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSDashboard.tsx"],"sourcesContent":["import { StatsCard } from '../components/StatsCard';\nimport { QuickInitButton } from '../components/QuickInitButton';\nimport { Package, FileText, ShoppingCart, Users, TrendingUp } from 'lucide-react';\nimport { CMSPage } from '../CMSApp';\nimport { useEffect, useState } from 'react';\nimport { useProducts } from '../../hooks/useProducts';\nimport { useBlogs } from '../../hooks/useBlogs';\n\n// Adapter les blogs pour correspondre au format du CMS\nconst adaptBlogToArticle = (blog: any) => ({\n  id: blog.id,\n  title: blog.titleFr,\n  excerpt: blog.summaryFr,\n  category: blog.category,\n  status: blog.published ? 'published' : 'draft',\n  publishDate: blog.publishedDate || blog.createdAt,\n  views: blog.views || 0,\n  author: blog.author,\n  tags: blog.tags\n});\n\ninterface CMSDashboardProps {\n  onNavigate: (page: CMSPage) => void;\n}\n\ninterface DashboardStats {\n  totalProducts: number;\n  totalArticles: number;\n  totalOrders: number;\n  activeClients: number;\n}\n\nexport function CMSDashboard({ onNavigate }: CMSDashboardProps) {\n  const { products, loading: productsLoading } = useProducts(undefined, undefined, false, 0, true); // includeInactive = true pour le CMS\n  const { blogs, loading: articlesLoading } = useBlogs('fr', undefined, false);\n  \n  const articles = blogs.map(adaptBlogToArticle);\n  \n  const [stats, setStats] = useState<DashboardStats>({\n    totalProducts: 0,\n    totalArticles: 0,\n    totalOrders: 0,\n    activeClients: 0\n  });\n\n  useEffect(() => {\n    setStats({\n      totalProducts: products.length,\n      totalArticles: articles.length,\n      totalOrders: 0, // √Ä impl√©menter avec l'API commandes\n      activeClients: 0 // √Ä impl√©menter avec l'API clients\n    });\n  }, [products.length, articles.length]);\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Tableau de bord</h1>\n        <p className=\"text-gray-600\">\n          Bienvenue dans votre espace d'administration FIMA\n        </p>\n      </div>\n\n      {/* Bouton d'initialisation rapide */}\n      <QuickInitButton />\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <StatsCard\n          title=\"Produits\"\n          value={productsLoading ? '...' : stats.totalProducts}\n          change={`${products.length} produits au catalogue`}\n          changeType=\"neutral\"\n          icon={Package}\n          color=\"#B5C233\"\n        />\n        <StatsCard\n          title=\"Articles publi√©s\"\n          value={articlesLoading ? '...' : stats.totalArticles}\n          change={`${articles.filter(a => a.status === 'published').length} publi√©s`}\n          changeType=\"neutral\"\n          icon={FileText}\n          color=\"#6E6E6E\"\n        />\n        <StatsCard\n          title=\"Commandes\"\n          value={stats.totalOrders}\n          change=\"√Ä impl√©menter\"\n          changeType=\"neutral\"\n          icon={ShoppingCart}\n          color=\"#4A52A8\"\n        />\n        <StatsCard\n          title=\"Clients\"\n          value={stats.activeClients}\n          change=\"√Ä impl√©menter\"\n          changeType=\"neutral\"\n          icon={Users}\n          color=\"#E30613\"\n        />\n      </div>\n\n      {/* Actions rapides */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"bg-white border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl font-bold text-gray-900\">Actions rapides</h2>\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <button\n              onClick={() => onNavigate('products')}\n              className=\"p-4 border border-gray-200 hover:border-[#B5C233] hover:bg-gray-50 transition-all text-left\"\n            >\n              <div className=\"w-10 h-10 bg-[#B5C233] flex items-center justify-center mb-3\">\n                <Package className=\"w-5 h-5 text-white\" />\n              </div>\n              <h3 className=\"font-semibold text-gray-900 mb-1\">G√©rer produits</h3>\n              <p className=\"text-sm text-gray-600\">Voir le catalogue</p>\n            </button>\n\n            <button\n              onClick={() => onNavigate('articles')}\n              className=\"p-4 border border-gray-200 hover:border-[#B5C233] hover:bg-gray-50 transition-all text-left\"\n            >\n              <div className=\"w-10 h-10 bg-[#6E6E6E] flex items-center justify-center mb-3\">\n                <FileText className=\"w-5 h-5 text-white\" />\n              </div>\n              <h3 className=\"font-semibold text-gray-900 mb-1\">G√©rer articles</h3>\n              <p className=\"text-sm text-gray-600\">Voir les articles</p>\n            </button>\n          </div>\n        </div>\n\n        {/* Articles r√©cents */}\n        <div className=\"bg-white border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-xl font-bold text-gray-900\">Articles r√©cents</h2>\n          </div>\n          \n          {articlesLoading ? (\n            <p className=\"text-sm text-gray-500\">Chargement...</p>\n          ) : articles.length === 0 ? (\n            <p className=\"text-sm text-gray-500\">Aucun article</p>\n          ) : (\n            <div className=\"space-y-3\">\n              {articles.slice(0, 3).map((article) => (\n                <div key={article.id} className=\"flex items-center justify-between py-2 border-b border-gray-100 last:border-0\">\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-gray-900\">{article.title}</p>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(article.publishDate).toLocaleDateString('fr-FR')}\n                    </p>\n                  </div>\n                  <span \n                    className={`px-3 py-1 text-xs text-white ${\n                      article.status === 'published' \n                        ? 'bg-green-600' \n                        : article.status === 'draft'\n                        ? 'bg-gray-600'\n                        : 'bg-blue-600'\n                    }`}\n                  >\n                    {article.status === 'published' ? 'Publi√©' : article.status === 'draft' ? 'Brouillon' : 'Programm√©'}\n                  </span>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Produits r√©cents */}\n      <div className=\"bg-white border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-xl font-bold text-gray-900\">Produits r√©cents</h2>\n          <button\n            onClick={() => onNavigate('products')}\n            className=\"text-sm text-[#B5C233] hover:underline\"\n          >\n            Voir tout\n          </button>\n        </div>\n        \n        {productsLoading ? (\n          <p className=\"text-sm text-gray-500\">Chargement...</p>\n        ) : products.length === 0 ? (\n          <p className=\"text-sm text-gray-500\">Aucun produit</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 border-b border-gray-200\">\n                <tr>\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-900\">Produit</th>\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-900\">SKU</th>\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-900\">Prix</th>\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-900\">Stock</th>\n                </tr>\n              </thead>\n              <tbody>\n                {products.slice(0, 5).map((product) => (\n                  <tr key={product.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">{product.name}</td>\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">{product.sku}</td>\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">\n                      {product.price.toLocaleString()} FCFA\n                    </td>\n                    <td className=\"px-4 py-3\">\n                      <span className={`text-sm ${\n                        product.stock > (product.lowStockThreshold || 10)\n                          ? 'text-green-600'\n                          : 'text-red-600'\n                      }`}>\n                        {product.stock}\n                      </span>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSProducts.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Plus, Edit, Trash2, Search, Filter } from 'lucide-react';\nimport { useProducts, useProductMutation } from '../../hooks/useProducts';\nimport { AddProductModal } from '../components/AddProductModal';\nimport { EditProductModal } from '../components/EditProductModal';\nimport type { Product } from '../../hooks/useProducts';\nimport { toast } from 'sonner@2.0.3';\n\nexport function CMSProducts() {\n  const [businessFilter, setBusinessFilter] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [refreshKey, setRefreshKey] = useState(0);\n  \n  const { products, loading, error } = useProducts(\n    businessFilter === 'all' ? undefined : businessFilter,\n    undefined,\n    false,\n    refreshKey,\n    true // includeInactive = true pour le CMS\n  );\n\n  const { deleteProduct } = useProductMutation();\n\n  const filteredProducts = products.filter(product => \n    product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    product.sku.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const handleProductUpdated = () => {\n    setRefreshKey(prev => prev + 1);\n    setIsEditModalOpen(false);\n    setSelectedProduct(null);\n  };\n\n  const handleProductAdded = () => {\n    setRefreshKey(prev => prev + 1);\n    setIsAddModalOpen(false);\n  };\n\n  const handleProductDeleted = async (productId: string, productName: string) => {\n    // Demander confirmation avant suppression\n    const confirmed = window.confirm(\n      `√ätes-vous s√ªr de vouloir supprimer le produit \"${productName}\" ?\\n\\nCette action est irr√©versible.`\n    );\n    \n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      const result = await deleteProduct(productId);\n      \n      if (result.success) {\n        setRefreshKey(prev => prev + 1);\n        toast.success('Produit supprim√© avec succ√®s');\n      } else {\n        toast.error(result.error || 'Erreur lors de la suppression du produit');\n      }\n    } catch (error) {\n      console.error('Erreur lors de la suppression:', error);\n      toast.error('Erreur lors de la suppression du produit');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Catalogue Produits</h1>\n          <p className=\"text-gray-600\">{products.length} produits au total</p>\n        </div>\n        <button\n          className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90 transition-opacity\"\n          style={{ backgroundColor: '#B5C233' }}\n          onClick={() => setIsAddModalOpen(true)}\n        >\n          <Plus className=\"w-5 h-5\" />\n          <span>Nouveau produit</span>\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white border border-gray-200 p-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Search */}\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Rechercher un produit...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n            />\n          </div>\n\n          {/* Business Unit Filter */}\n          <select\n            value={businessFilter}\n            onChange={(e) => setBusinessFilter(e.target.value)}\n            className=\"px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n          >\n            <option value=\"all\">Tous les m√©tiers</option>\n            <option value=\"fima-couchage\">FIMA Couchage</option>\n            <option value=\"fima-design\">FIMA Design</option>\n            <option value=\"univers-glass\">Univers Glass</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Products Table */}\n      <div className=\"bg-white border border-gray-200 overflow-hidden\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-50 border-b border-gray-200\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900\">Image</th>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900\">Produit</th>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900\">SKU</th>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900\">Cat√©gorie</th>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900\">Prix</th>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900\">Stock</th>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900\">Statut</th>\n              <th className=\"px-6 py-3 text-right text-sm font-semibold text-gray-900\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {loading ? (\n              <tr>\n                <td colSpan={8} className=\"px-6 py-8 text-center text-gray-500\">\n                  Chargement...\n                </td>\n              </tr>\n            ) : filteredProducts.length === 0 ? (\n              <tr>\n                <td colSpan={8} className=\"px-6 py-8 text-center text-gray-500\">\n                  Aucun produit trouv√©\n                </td>\n              </tr>\n            ) : (\n              filteredProducts.map((product) => (\n                <tr key={product.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\n                  <td className=\"px-6 py-4\">\n                    <div className=\"w-16 h-16 bg-gray-100 flex items-center justify-center overflow-hidden\">\n                      {product.images && product.images[0] ? (\n                        <img\n                          src={product.images[0]}\n                          alt={product.name}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <span className=\"text-gray-400 text-xs\">No image</span>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <div>\n                      <p className=\"font-medium text-gray-900\">{product.name}</p>\n                      <p className=\"text-sm text-gray-500 line-clamp-1\">{product.shortDescription}</p>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 text-sm text-gray-600\">{product.sku}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-600\">{product.category}</td>\n                  <td className=\"px-6 py-4\">\n                    <div>\n                      <p className=\"font-medium text-gray-900\">{product.price.toLocaleString()} FCFA</p>\n                      {product.compareAtPrice && (\n                        <p className=\"text-sm text-gray-500 line-through\">\n                          {product.compareAtPrice.toLocaleString()} FCFA\n                        </p>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <span className={`text-sm ${\n                      product.stock > (product.lowStockThreshold || 10)\n                        ? 'text-green-600'\n                        : 'text-red-600'\n                    }`}>\n                      {product.stock} {product.unit}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <span className={`px-3 py-1 text-xs text-white ${\n                      product.status === 'active'\n                        ? 'bg-green-600'\n                        : product.status === 'inactive'\n                        ? 'bg-gray-600'\n                        : 'bg-red-600'\n                    }`}>\n                      {product.status === 'active' ? 'Actif' : product.status === 'inactive' ? 'Inactif' : 'Rupture'}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex items-center justify-end space-x-2\">\n                      <button\n                        className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors\"\n                        onClick={() => {\n                          setSelectedProduct(product);\n                          setIsEditModalOpen(true);\n                        }}\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        className=\"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 transition-colors\"\n                        onClick={() => handleProductDeleted(product.id, product.name)}\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Add Product Modal */}\n      <AddProductModal\n        isOpen={isAddModalOpen}\n        onClose={() => setIsAddModalOpen(false)}\n        onProductAdded={handleProductAdded}\n      />\n\n      {/* Edit Product Modal */}\n      <EditProductModal\n        isOpen={isEditModalOpen}\n        onClose={() => setIsEditModalOpen(false)}\n        product={selectedProduct}\n        onProductUpdated={handleProductUpdated}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSHeroSlides.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Plus, Image as ImageIcon, Video as VideoIcon, Trash2, Edit, GripVertical, Wand2, Eye, EyeOff } from 'lucide-react';\nimport { toast } from 'sonner@2.0.3';\nimport { useHeroSlides } from '../../hooks/useHeroSlides';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\nimport { initHeroSlides } from '../../utils/initHeroSlidesData';\nimport { ImagePicker } from '../components/ImagePicker';\n\ninterface HeroSlideForm {\n  id?: string;\n  title_fr: string;\n  title_en: string;\n  subtitle_fr: string;\n  subtitle_en: string;\n  description_fr: string;\n  description_en: string;\n  cta_primary_fr: string;\n  cta_primary_en: string;\n  badge_fr: string;\n  badge_en: string;\n  background_image_url: string;\n  is_video: boolean;\n  video_url?: string;\n  slide_duration: number;\n  video_play_duration?: number;\n  video_loop: boolean;\n  is_active: boolean;\n  sort_order: number;\n  cta_bg_color?: string;\n  cta_text_color?: string;\n}\n\nexport function CMSHeroSlides() {\n  const { slides, loading, error, refetch } = useHeroSlides();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingSlide, setEditingSlide] = useState<HeroSlideForm | null>(null);\n  const [formData, setFormData] = useState<HeroSlideForm>({\n    title_fr: '',\n    title_en: '',\n    subtitle_fr: '',\n    subtitle_en: '',\n    description_fr: '',\n    description_en: '',\n    cta_primary_fr: 'D√©couvrir',\n    cta_primary_en: 'Discover',\n    badge_fr: '',\n    badge_en: '',\n    background_image_url: '',\n    is_video: false,\n    video_url: '',\n    slide_duration: 5000,\n    video_play_duration: 10000,\n    video_loop: true,\n    is_active: true,\n    sort_order: slides.length + 1,\n    cta_bg_color: '#FFFFFF',\n    cta_text_color: '#B5C233'\n  });\n  const [activeTab, setActiveTab] = useState<'content' | 'media' | 'settings'>('content');\n  const [saving, setSaving] = useState(false);\n  const [initializing, setInitializing] = useState(false);\n\n  const handleInitSlides = async () => {\n    if (!confirm('‚ö†Ô∏è Cela va cr√©er 7 slides par d√©faut (3 vid√©os + 4 images). Continuer ?')) return;\n    \n    setInitializing(true);\n    try {\n      const result = await initHeroSlides();\n      if (result.success) {\n        alert(`‚úÖ ${result.message}\\n\\nüìä ${result.data.total_slides} slides cr√©√©s:\\nüé• ${result.data.video_slides} vid√©os\\nüñºÔ∏è ${result.data.image_slides} images`);\n        window.location.reload();\n      } else {\n        alert(`‚ùå Erreur: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Erreur:', error);\n      alert('‚ùå Erreur lors de l\\'initialisation des slides');\n    } finally {\n      setInitializing(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSaving(true);\n\n    try {\n      const isEditing = !!editingSlide;\n      const endpoint = isEditing \n        ? `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/hero-slides/${editingSlide.id}`\n        : `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/hero-slides`;\n      \n      const method = isEditing ? 'PUT' : 'POST';\n\n      // Mapper le formData vers le format attendu par l'API\n      const payload = {\n        sort_order: formData.sort_order,\n        background_image_url: formData.background_image_url,\n        is_video: formData.is_video,\n        video_url: formData.is_video ? formData.video_url : null,\n        slide_duration: formData.slide_duration,\n        video_play_duration: formData.is_video ? formData.video_play_duration : null,\n        video_loop: formData.video_loop,\n        is_active: formData.is_active,\n        cta_bg_color: formData.cta_bg_color || '#FFFFFF',\n        cta_text_color: formData.cta_text_color || '#B5C233',\n        translations: {\n          fr: {\n            title: formData.title_fr,\n            subtitle: formData.subtitle_fr,\n            description: formData.description_fr,\n            cta_primary: formData.cta_primary_fr,\n            badge: formData.badge_fr\n          },\n          en: {\n            title: formData.title_en,\n            subtitle: formData.subtitle_en,\n            description: formData.description_en,\n            cta_primary: formData.cta_primary_en,\n            badge: formData.badge_en\n          }\n        }\n      };\n\n      console.log(`üì§ ${isEditing ? 'Modification' : 'Cr√©ation'} du slide:`, payload);\n\n      const response = await fetch(endpoint, {\n        method,\n        headers: {\n          'Authorization': `Bearer ${publicAnonKey}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload)\n      });\n\n      const result = await response.json();\n\n      if (!response.ok || !result.success) {\n        const errorMessage = result.error || `Erreur HTTP ${response.status}`;\n        console.error('‚ùå Erreur API:', errorMessage);\n        throw new Error(errorMessage);\n      }\n\n      console.log('‚úÖ Slide sauvegard√©:', result);\n\n      // Afficher le message appropri√©\n      toast.success(isEditing ? 'Slide modifi√© avec succ√®s !' : 'Slide cr√©√© avec succ√®s !');\n      \n      // Rafra√Æchir la liste\n      setIsModalOpen(false);\n      setEditingSlide(null);\n      await refetch();\n    } catch (err) {\n      console.error('‚ùå Erreur:', err);\n      const errorMessage = err instanceof Error ? err.message : 'Erreur inconnue';\n      toast.error(`Erreur lors de la sauvegarde: ${errorMessage}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleToggleActive = async (id: string, currentStatus: boolean) => {\n    try {\n      const newStatus = !currentStatus;\n      console.log(`üîÑ Toggle slide ${id}: ${currentStatus} ‚Üí ${newStatus}`);\n      \n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/hero-slides/${id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            is_active: newStatus\n          })\n        }\n      );\n\n      const result = await response.json();\n\n      if (!response.ok || !result.success) {\n        const errorMessage = result.error || `Erreur HTTP ${response.status}`;\n        console.error('‚ùå Erreur API toggle:', errorMessage);\n        throw new Error(errorMessage);\n      }\n\n      console.log('‚úÖ Toggle r√©ussi:', result);\n      toast.success(newStatus ? 'Slide activ√© avec succ√®s' : 'Slide d√©sactiv√© avec succ√®s');\n      await refetch();\n    } catch (err) {\n      console.error('‚ùå Erreur toggle:', err);\n      const errorMessage = err instanceof Error ? err.message : 'Erreur inconnue';\n      toast.error(`Erreur lors de la mise √† jour: ${errorMessage}`);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('‚ö†Ô∏è √ätes-vous s√ªr de vouloir SUPPRIMER D√âFINITIVEMENT ce slide ?\\n\\n‚ÑπÔ∏è Conseil : Utilisez plut√¥t le bouton \"D√©sactiver\" pour masquer temporairement un slide.')) return;\n\n    try {\n      console.log(`üóëÔ∏è Suppression slide ${id}`);\n      \n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/hero-slides/${id}`,\n        {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n          }\n        }\n      );\n\n      const result = await response.json();\n\n      if (!response.ok || !result.success) {\n        const errorMessage = result.error || `Erreur HTTP ${response.status}`;\n        console.error('‚ùå Erreur API suppression:', errorMessage);\n        throw new Error(errorMessage);\n      }\n\n      console.log('‚úÖ Suppression r√©ussie:', result);\n      toast.success('Slide supprim√© d√©finitivement');\n      await refetch();\n    } catch (err) {\n      console.error('‚ùå Erreur suppression:', err);\n      const errorMessage = err instanceof Error ? err.message : 'Erreur inconnue';\n      toast.error(`Erreur lors de la suppression: ${errorMessage}`);\n    }\n  };\n\n  const openEditModal = (slide: any) => {\n    setEditingSlide(slide);\n    \n    // R√©cup√©rer les traductions FR/EN si disponibles, sinon utiliser la traduction courante\n    const frTranslation = slide.translations?.fr || slide.translation || {};\n    const enTranslation = slide.translations?.en || slide.translation || {};\n    \n    setFormData({\n      id: slide.id,\n      title_fr: frTranslation.title || '',\n      title_en: enTranslation.title || '',\n      subtitle_fr: frTranslation.subtitle || '',\n      subtitle_en: enTranslation.subtitle || '',\n      description_fr: frTranslation.description || '',\n      description_en: enTranslation.description || '',\n      cta_primary_fr: frTranslation.cta_primary || 'D√©couvrir',\n      cta_primary_en: enTranslation.cta_primary || 'Discover',\n      badge_fr: frTranslation.badge || '',\n      badge_en: enTranslation.badge || '',\n      background_image_url: slide.background_image_url || '',\n      is_video: slide.is_video || false,\n      video_url: slide.video_url || '',\n      slide_duration: slide.slide_duration || 5000,\n      video_play_duration: slide.video_play_duration || 10000,\n      video_loop: slide.video_loop !== undefined ? slide.video_loop : true,\n      is_active: slide.is_active !== undefined ? slide.is_active : true,\n      sort_order: slide.sort_order || 1,\n      cta_bg_color: slide.cta_bg_color || '#FFFFFF',\n      cta_text_color: slide.cta_text_color || '#B5C233'\n    });\n    setIsModalOpen(true);\n  };\n\n  const openCreateModal = () => {\n    setEditingSlide(null);\n    setFormData({\n      title_fr: '',\n      title_en: '',\n      subtitle_fr: '',\n      subtitle_en: '',\n      description_fr: '',\n      description_en: '',\n      cta_primary_fr: 'D√©couvrir',\n      cta_primary_en: 'Discover',\n      badge_fr: '',\n      badge_en: '',\n      background_image_url: '',\n      is_video: false,\n      video_url: '',\n      slide_duration: 5000,\n      video_play_duration: 10000,\n      video_loop: true,\n      is_active: true,\n      sort_order: slides.length + 1,\n      cta_bg_color: '#FFFFFF',\n      cta_text_color: '#B5C233'\n    });\n    setIsModalOpen(true);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Gestion des Slides Hero</h1>\n          <p className=\"text-gray-600\">\n            {slides.length} slides configur√©s \n            <span className=\"ml-2 text-green-600 font-medium\">\n              ‚Ä¢ {slides.filter(s => s.is_active).length} actifs\n            </span>\n            {slides.filter(s => !s.is_active).length > 0 && (\n              <span className=\"ml-2 text-red-600 font-medium\">\n                ‚Ä¢ {slides.filter(s => !s.is_active).length} masqu√©s\n              </span>\n            )}\n            {slides.filter(s => s.is_video).length > 0 && (\n              <span className=\"ml-2 text-gray-500\">\n                ‚Ä¢ {slides.filter(s => s.is_video).length} vid√©o(s)\n              </span>\n            )}\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          {/* Bouton d'initialisation */}\n          {slides.length === 0 && (\n            <button\n              onClick={handleInitSlides}\n              disabled={initializing}\n              className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90 transition-opacity disabled:opacity-50\"\n              style={{ backgroundColor: '#E30613' }}\n            >\n              <Wand2 className=\"w-5 h-5\" />\n              <span>{initializing ? 'Initialisation...' : 'Initialiser 7 slides'}</span>\n            </button>\n          )}\n          \n          {/* Bouton de cr√©ation */}\n          <button\n            onClick={openCreateModal}\n            className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90 transition-opacity\"\n            style={{ backgroundColor: '#B5C233' }}\n          >\n            <Plus className=\"w-5 h-5\" />\n            <span>Ajouter un slide</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Slides Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {slides.map((slide) => (\n          <div key={slide.id} className={`bg-white border overflow-hidden hover:shadow-lg transition-shadow ${\n            slide.is_active ? 'border-gray-200' : 'border-gray-300 bg-gray-50 opacity-75'\n          }`}>\n            {/* Preview */}\n            <div className={`relative h-48 bg-gray-100 ${!slide.is_active ? 'opacity-60' : ''}`}>\n              {slide.is_video ? (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-gray-900\">\n                  <VideoIcon className=\"w-12 h-12 text-white\" />\n                  <span className=\"absolute bottom-2 right-2 px-2 py-1 bg-black bg-opacity-75 text-white text-xs\">\n                    Vid√©o\n                  </span>\n                </div>\n              ) : (\n                <img\n                  src={slide.background_image_url}\n                  alt={slide.translation.title}\n                  className=\"w-full h-full object-cover\"\n                />\n              )}\n              {!slide.is_active && (\n                <div className=\"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center\">\n                  <div className=\"text-center\">\n                    <svg className=\"w-16 h-16 text-white mx-auto mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n                    </svg>\n                    <p className=\"text-white font-medium\">Masqu√© du site</p>\n                  </div>\n                </div>\n              )}\n              <div className=\"absolute top-2 left-2\">\n                <span className={`px-3 py-1.5 text-xs font-semibold text-white shadow-lg ${\n                  slide.is_active ? 'bg-green-600' : 'bg-red-600'\n                }`}>\n                  {slide.is_active ? '‚úì Visible sur le site' : '‚úï Masqu√© du site'}\n                </span>\n              </div>\n              <div className=\"absolute top-2 right-2\">\n                <span className=\"px-2 py-1 text-xs bg-black bg-opacity-50 text-white\">\n                  Ordre: {slide.sort_order}\n                </span>\n              </div>\n            </div>\n\n            {/* Content */}\n            <div className=\"p-4\">\n              <div className=\"flex items-start justify-between mb-3\">\n                <div className=\"flex items-center space-x-2\">\n                  <GripVertical className=\"w-4 h-4 text-gray-400\" />\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">{slide.translation.title}</h3>\n                    <p className=\"text-sm text-gray-600\">{slide.translation.subtitle}</p>\n                  </div>\n                </div>\n              </div>\n              \n              <p className=\"text-sm text-gray-700 mb-4 line-clamp-2\">\n                {slide.translation.description}\n              </p>\n\n              {slide.translation.badge && (\n                <div className=\"mb-4\">\n                  <span className=\"px-2 py-1 text-xs text-white\" style={{ backgroundColor: '#B5C233' }}>\n                    {slide.translation.badge}\n                  </span>\n                </div>\n              )}\n\n              {/* Actions */}\n              <div className=\"flex items-center space-x-2 pt-4 border-t border-gray-100\">\n                <button\n                  onClick={() => openEditModal(slide)}\n                  className=\"flex-1 flex items-center justify-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors\"\n                >\n                  <Edit className=\"w-4 h-4\" />\n                  <span>Modifier</span>\n                </button>\n                <button\n                  onClick={() => handleToggleActive(slide.id, slide.is_active)}\n                  className={`px-4 py-2 border transition-colors ${\n                    slide.is_active\n                      ? 'border-gray-300 text-gray-700 hover:bg-gray-50'\n                      : 'border-green-300 text-green-600 hover:bg-green-50'\n                  }`}\n                  title={slide.is_active ? 'D√©sactiver le slide' : 'Activer le slide'}\n                >\n                  {slide.is_active ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n                </button>\n                <button\n                  onClick={() => handleDelete(slide.id)}\n                  className=\"px-4 py-2 border border-red-300 text-red-600 hover:bg-red-50 transition-colors\"\n                  title=\"Supprimer d√©finitivement le slide\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Modal */}\n      {isModalOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <form onSubmit={handleSubmit}>\n              {/* Modal Header */}\n              <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-900\">\n                  {editingSlide ? 'Modifier le slide' : 'Nouveau slide'}\n                </h2>\n                <button\n                  type=\"button\"\n                  onClick={() => setIsModalOpen(false)}\n                  className=\"text-gray-500 hover:text-gray-700\"\n                >\n                  ‚úï\n                </button>\n              </div>\n\n              {/* Tabs */}\n              <div className=\"border-b border-gray-200 px-6\">\n                <div className=\"flex space-x-6\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setActiveTab('content')}\n                    className={`py-3 border-b-2 ${\n                      activeTab === 'content'\n                        ? 'border-[#B5C233] text-gray-900'\n                        : 'border-transparent text-gray-600'\n                    }`}\n                  >\n                    Contenu\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setActiveTab('media')}\n                    className={`py-3 border-b-2 ${\n                      activeTab === 'media'\n                        ? 'border-[#B5C233] text-gray-900'\n                        : 'border-transparent text-gray-600'\n                    }`}\n                  >\n                    M√©dia\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setActiveTab('settings')}\n                    className={`py-3 border-b-2 ${\n                      activeTab === 'settings'\n                        ? 'border-[#B5C233] text-gray-900'\n                        : 'border-transparent text-gray-600'\n                    }`}\n                  >\n                    Param√®tres\n                  </button>\n                </div>\n              </div>\n\n              {/* Modal Body */}\n              <div className=\"p-6 space-y-6\">\n                {activeTab === 'content' && (\n                  <div className=\"space-y-6\">\n                    {/* Fran√ßais */}\n                    <div>\n                      <h3 className=\"font-semibold text-gray-900 mb-4\">Textes du Slide 1 (Fran√ßais)</h3>\n                      <div className=\"space-y-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            H2 - Surtitre (Fran√ßais) *\n                          </label>\n                          <input\n                            type=\"text\"\n                            required\n                            value={formData.subtitle_fr}\n                            onChange={(e) => setFormData({ ...formData, subtitle_fr: e.target.value })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"FIMA Couchage\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            H1 - Titre principal (Fran√ßais) *\n                          </label>\n                          <input\n                            type=\"text\"\n                            required\n                            value={formData.title_fr}\n                            onChange={(e) => setFormData({ ...formData, title_fr: e.target.value })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"Excellence en Literie\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Description (Fran√ßais)\n                          </label>\n                          <textarea\n                            value={formData.description_fr}\n                            onChange={(e) => setFormData({ ...formData, description_fr: e.target.value })}\n                            rows={3}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"D√©couvrez notre gamme compl√®te de matelas...\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Texte du bouton (Fran√ßais)\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={formData.cta_primary_fr}\n                            onChange={(e) => setFormData({ ...formData, cta_primary_fr: e.target.value })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"D√©couvrir\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Badge (Fran√ßais) <span className=\"text-xs text-gray-500\">(optionnel)</span>\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={formData.badge_fr}\n                            onChange={(e) => setFormData({ ...formData, badge_fr: e.target.value })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"Nouveaut√©\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Anglais */}\n                    <div>\n                      <h3 className=\"font-semibold text-gray-900 mb-4\">Textes du Slide 1 (Anglais)</h3>\n                      <div className=\"space-y-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            H2 - Surtitre (Anglais) *\n                          </label>\n                          <input\n                            type=\"text\"\n                            required\n                            value={formData.subtitle_en}\n                            onChange={(e) => setFormData({ ...formData, subtitle_en: e.target.value })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"FIMA Bedding\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            H1 - Titre principal (Anglais) *\n                          </label>\n                          <input\n                            type=\"text\"\n                            required\n                            value={formData.title_en}\n                            onChange={(e) => setFormData({ ...formData, title_en: e.target.value })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"Excellence in Bedding\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Description (Anglais)\n                          </label>\n                          <textarea\n                            value={formData.description_en}\n                            onChange={(e) => setFormData({ ...formData, description_en: e.target.value })}\n                            rows={3}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"Discover our complete range of mattresses...\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Texte du bouton (Anglais)\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={formData.cta_primary_en}\n                            onChange={(e) => setFormData({ ...formData, cta_primary_en: e.target.value })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"Discover\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Badge (Anglais) <span className=\"text-xs text-gray-500\">(optionnel)</span>\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={formData.badge_en}\n                            onChange={(e) => setFormData({ ...formData, badge_en: e.target.value })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                            placeholder=\"New\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {activeTab === 'media' && (\n                  <div className=\"space-y-6\">\n                    <div>\n                      <label className=\"flex items-center space-x-2 mb-4\">\n                        <input\n                          type=\"checkbox\"\n                          checked={formData.is_video}\n                          onChange={(e) => setFormData({ ...formData, is_video: e.target.checked })}\n                          className=\"w-4 h-4\"\n                        />\n                        <span className=\"text-sm font-medium text-gray-700\">Ce slide contient une vid√©o</span>\n                      </label>\n                    </div>\n\n                    {/* Image de fond (toujours requise comme fallback) */}\n                    <div>\n                      <ImagePicker\n                        value={formData.background_image_url}\n                        onChange={(url) => setFormData({ ...formData, background_image_url: url })}\n                        label={`Image de fond * ${formData.is_video ? '(fallback si la vid√©o ne charge pas)' : ''}`}\n                        placeholder=\"S√©lectionnez une image de banni√®re depuis la biblioth√®que\"\n                        category=\"hero\"\n                      />\n                    </div>\n\n                    {/* URL vid√©o si type vid√©o */}\n                    {formData.is_video && (\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          URL de la vid√©o *\n                        </label>\n                        <input\n                          type=\"url\"\n                          required={formData.is_video}\n                          value={formData.video_url}\n                          onChange={(e) => setFormData({ ...formData, video_url: e.target.value })}\n                          className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                          placeholder=\"https://commondatastorage.googleapis.com/.../video.mp4\"\n                        />\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          Format recommand√© : MP4 (H.264), max 10-15 secondes\n                        </p>\n                      </div>\n                    )}\n\n                    {/* Preview */}\n                    {(formData.background_image_url || formData.video_url) && (\n                      <div className=\"mt-4\">\n                        <p className=\"text-sm font-medium text-gray-700 mb-2\">Aper√ßu</p>\n                        <div className=\"h-48 bg-gray-100 border border-gray-300\">\n                          {formData.is_video ? (\n                            <div className=\"h-full flex items-center justify-center bg-gray-900\">\n                              <VideoIcon className=\"w-12 h-12 text-white\" />\n                            </div>\n                          ) : (\n                            <img\n                              src={formData.background_image_url}\n                              alt=\"Preview\"\n                              className=\"w-full h-full object-cover\"\n                              onError={(e) => {\n                                e.currentTarget.src = 'https://via.placeholder.com/800x400?text=Image+invalide';\n                              }}\n                            />\n                          )}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {activeTab === 'settings' && (\n                  <div className=\"space-y-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Dur√©e du slide (ms)\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={formData.slide_duration}\n                        onChange={(e) => setFormData({ ...formData, slide_duration: parseInt(e.target.value) })}\n                        className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      />\n                    </div>\n\n                    {formData.is_video && (\n                      <>\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Dur√©e de lecture vid√©o (ms)\n                          </label>\n                          <input\n                            type=\"number\"\n                            value={formData.video_play_duration}\n                            onChange={(e) => setFormData({ ...formData, video_play_duration: parseInt(e.target.value) })}\n                            className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"flex items-center space-x-2\">\n                            <input\n                              type=\"checkbox\"\n                              checked={formData.video_loop}\n                              onChange={(e) => setFormData({ ...formData, video_loop: e.target.checked })}\n                              className=\"w-4 h-4\"\n                            />\n                            <span className=\"text-sm font-medium text-gray-700\">Vid√©o en boucle</span>\n                          </label>\n                        </div>\n                      </>\n                    )}\n\n                    <div>\n                      <label className=\"flex items-center space-x-2\">\n                        <input\n                          type=\"checkbox\"\n                          checked={formData.is_active}\n                          onChange={(e) => setFormData({ ...formData, is_active: e.target.checked })}\n                          className=\"w-4 h-4\"\n                        />\n                        <span className=\"text-sm font-medium text-gray-700\">Slide actif</span>\n                      </label>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Ordre d'affichage\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={formData.sort_order}\n                        onChange={(e) => setFormData({ ...formData, sort_order: parseInt(e.target.value) })}\n                        className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                      />\n                    </div>\n\n                    {/* Couleurs du bouton CTA */}\n                    <div className=\"border-t border-gray-200 pt-6 mt-6\">\n                      <h4 className=\"font-semibold text-gray-900 mb-4\">üé® Style du bouton</h4>\n                      \n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Couleur de fond\n                          </label>\n                          <div className=\"flex items-center space-x-2\">\n                            <input\n                              type=\"color\"\n                              value={formData.cta_bg_color || '#FFFFFF'}\n                              onChange={(e) => setFormData({ ...formData, cta_bg_color: e.target.value })}\n                              className=\"w-12 h-10 border border-gray-300 cursor-pointer\"\n                            />\n                            <input\n                              type=\"text\"\n                              value={formData.cta_bg_color || '#FFFFFF'}\n                              onChange={(e) => setFormData({ ...formData, cta_bg_color: e.target.value })}\n                              className=\"flex-1 px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                              placeholder=\"#FFFFFF\"\n                            />\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Couleur du texte\n                          </label>\n                          <div className=\"flex items-center space-x-2\">\n                            <input\n                              type=\"color\"\n                              value={formData.cta_text_color || '#B5C233'}\n                              onChange={(e) => setFormData({ ...formData, cta_text_color: e.target.value })}\n                              className=\"w-12 h-10 border border-gray-300 cursor-pointer\"\n                            />\n                            <input\n                              type=\"text\"\n                              value={formData.cta_text_color || '#B5C233'}\n                              onChange={(e) => setFormData({ ...formData, cta_text_color: e.target.value })}\n                              className=\"flex-1 px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                              placeholder=\"#B5C233\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Aper√ßu du bouton */}\n                      <div className=\"mt-4 p-4 bg-gray-50 border border-gray-200\">\n                        <p className=\"text-xs text-gray-600 mb-2\">Aper√ßu du bouton :</p>\n                        <button\n                          type=\"button\"\n                          className=\"px-6 py-3 transition-all\"\n                          style={{\n                            backgroundColor: formData.cta_bg_color || '#FFFFFF',\n                            color: formData.cta_text_color || '#B5C233',\n                            border: `2px solid ${formData.cta_text_color || '#B5C233'}`\n                          }}\n                        >\n                          {formData.cta_primary_fr || 'D√©couvrir'}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Modal Footer */}\n              <div className=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-end space-x-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setIsModalOpen(false)}\n                  className=\"px-6 py-2 border border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors\"\n                >\n                  Annuler\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={saving}\n                  className=\"px-6 py-2 text-white hover:opacity-90 transition-opacity disabled:opacity-50\"\n                  style={{ backgroundColor: '#B5C233' }}\n                >\n                  {saving ? 'Enregistrement...' : 'Enregistrer'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2816, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSArticles.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Plus, Edit, Trash2, Eye, EyeOff, FileText } from 'lucide-react';\nimport { useBlogs, useBlogMutation } from '../../hooks/useBlogs';\nimport { toast } from 'sonner@2.0.3';\nimport { ArticlesInitButton } from '../components/ArticlesInitButton';\nimport { BlogFormModal } from '../components/BlogFormModal';\n\nexport function CMSArticles() {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingBlog, setEditingBlog] = useState<any | null>(null);\n  const { blogs, loading, error, refetch } = useBlogs('fr', undefined, false);\n  const { createBlog, updateBlog, deleteBlog } = useBlogMutation();\n\n  const handleEdit = (blog: any) => {\n    setEditingBlog(blog);\n    setIsModalOpen(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer cet article ?')) return;\n\n    const result = await deleteBlog(id);\n    if (result.success) {\n      toast.success('Article supprim√© avec succ√®s');\n      await refetch();\n    } else {\n      toast.error(result.error || 'Erreur lors de la suppression');\n    }\n  };\n\n  const handleSubmit = async (data: any) => {\n    if (editingBlog) {\n      const result = await updateBlog(editingBlog.id, data);\n      if (result.success) {\n        toast.success('Article mis √† jour avec succ√®s');\n        setIsModalOpen(false);\n        setEditingBlog(null);\n        await refetch();\n      } else {\n        toast.error(result.error || 'Erreur lors de la mise √† jour');\n        throw new Error(result.error);\n      }\n    } else {\n      const result = await createBlog(data);\n      if (result.success) {\n        toast.success('Article cr√©√© avec succ√®s');\n        setIsModalOpen(false);\n        await refetch();\n      } else {\n        toast.error(result.error || 'Erreur lors de la cr√©ation');\n        throw new Error(result.error);\n      }\n    }\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setEditingBlog(null);\n  };\n\n  const handleNewArticle = () => {\n    setEditingBlog(null);\n    setIsModalOpen(true);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Actualit√©s & Blog</h1>\n            <p className=\"text-gray-600\">G√©rer les articles</p>\n          </div>\n        </div>\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n          <p>Chargement des articles...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Actualit√©s & Blog</h1>\n            <p className=\"text-gray-600\">G√©rer les articles</p>\n          </div>\n        </div>\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-red-500\">\n          <p>Erreur: {error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Actualit√©s & Blog</h1>\n          <p className=\"text-gray-600\">\n            {blogs.length} article{blogs.length > 1 ? 's' : ''} ‚Ä¢ G√©rer le contenu √©ditorial\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <ArticlesInitButton />\n          <button\n            onClick={handleNewArticle}\n            className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90\"\n            style={{ backgroundColor: '#B5C233' }}\n          >\n            <Plus className=\"w-5 h-5\" />\n            <span>Nouvel article</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Modal de formulaire */}\n      <BlogFormModal\n        isOpen={isModalOpen}\n        onClose={handleCloseModal}\n        onSubmit={handleSubmit}\n        initialData={editingBlog}\n        isEditing={!!editingBlog}\n      />\n\n      {/* Liste des articles */}\n      {blogs.length === 0 ? (\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n          <FileText className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\n          <p className=\"text-lg font-medium mb-2\">Aucun article</p>\n          <p className=\"text-sm\">Cr√©ez votre premier article pour commencer</p>\n        </div>\n      ) : (\n        <div className=\"bg-white border border-gray-200\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Titre</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Cat√©gorie</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Auteur</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Date</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Statut</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {blogs.map((blog) => (\n                <tr key={blog.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-start space-x-3\">\n                      {blog.featuredImage && (\n                        <img\n                          src={blog.featuredImage}\n                          alt={blog.titleFr}\n                          className=\"w-16 h-16 object-cover\"\n                        />\n                      )}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"font-medium text-gray-900 truncate\">{blog.titleFr}</div>\n                        <div className=\"text-sm text-gray-500 truncate\">{blog.titleEn}</div>\n                        <div className=\"text-xs text-gray-400 mt-1\">\n                          {blog.readTime} min ‚Ä¢ {blog.tags?.length || 0} tags\n                        </div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-800\">\n                      {blog.category}\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4 text-sm text-gray-900\">{blog.author}</td>\n                  <td className=\"py-3 px-4 text-sm text-gray-500\">\n                    {new Date(blog.publishedDate || blog.createdAt).toLocaleDateString('fr-FR')}\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    {blog.published ? (\n                      <span className=\"flex items-center text-green-600 text-sm\">\n                        <Eye className=\"w-4 h-4 mr-1\" />\n                        Publi√©\n                      </span>\n                    ) : (\n                      <span className=\"flex items-center text-gray-400 text-sm\">\n                        <EyeOff className=\"w-4 h-4 mr-1\" />\n                        Brouillon\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => handleEdit(blog)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50\"\n                        title=\"Modifier\"\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(blog.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-50\"\n                        title=\"Supprimer\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3429, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSArticleCategories.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Plus, Edit, Trash2, Save, X, Tag, Eye, EyeOff } from 'lucide-react';\nimport { useArticleCategories, useArticleCategoryMutation } from '../../hooks/useArticleCategories';\nimport { Button } from '../../components/ui/button';\nimport { toast } from 'sonner@2.0.3';\n\nexport function CMSArticleCategories() {\n  const [isAddingNew, setIsAddingNew] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const { categories, loading, error, refetch } = useArticleCategories();\n  const { createCategory, updateCategory, deleteCategory } = useArticleCategoryMutation();\n\n  // √âtat du formulaire\n  const [formData, setFormData] = useState({\n    name: '',\n    slug: '',\n    description: '',\n    color: '#0EA5E9',\n    icon: 'üì∞',\n    isActive: true,\n    orderIndex: 1\n  });\n\n  const handleEdit = (category: any) => {\n    setEditingId(category.id);\n    setFormData({\n      name: category.name || '',\n      slug: category.slug || '',\n      description: category.description || '',\n      color: category.color || '#0EA5E9',\n      icon: category.icon || 'üì∞',\n      isActive: category.isActive !== undefined ? category.isActive : true,\n      orderIndex: category.orderIndex || 1\n    });\n    setIsAddingNew(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer cette cat√©gorie ?')) return;\n\n    const result = await deleteCategory(id);\n    if (result.success) {\n      toast.success('Cat√©gorie supprim√©e avec succ√®s');\n      await refetch();\n    } else {\n      toast.error(result.error || 'Erreur lors de la suppression');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (editingId) {\n      const result = await updateCategory(editingId, formData);\n      if (result.success) {\n        toast.success('Cat√©gorie mise √† jour avec succ√®s');\n        setIsAddingNew(false);\n        setEditingId(null);\n        resetForm();\n        await refetch();\n      } else {\n        toast.error(result.error || 'Erreur lors de la mise √† jour');\n      }\n    } else {\n      const result = await createCategory(formData);\n      if (result.success) {\n        toast.success('Cat√©gorie cr√©√©e avec succ√®s');\n        setIsAddingNew(false);\n        resetForm();\n        await refetch();\n      } else {\n        toast.error(result.error || 'Erreur lors de la cr√©ation');\n      }\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      slug: '',\n      description: '',\n      color: '#0EA5E9',\n      icon: 'üì∞',\n      isActive: true,\n      orderIndex: 1\n    });\n  };\n\n  const handleCancel = () => {\n    setIsAddingNew(false);\n    setEditingId(null);\n    resetForm();\n  };\n\n  // G√©n√©rer automatiquement le slug √† partir du nom\n  const handleNameChange = (value: string) => {\n    setFormData({ \n      ...formData, \n      name: value,\n      slug: value.toLowerCase()\n        .normalize('NFD')\n        .replace(/[\\u0300-\\u036f]/g, '')\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/(^-|-$)/g, '')\n    });\n  };\n\n  // Initialiser les cat√©gories par d√©faut\n  const initializeDefaultCategories = async () => {\n    const defaultCategories = [\n      {\n        name: \"Guides d'achat\",\n        slug: \"guides-achat\",\n        description: \"Guides complets pour vous aider √† choisir les meilleurs produits\",\n        color: \"#B5C233\",\n        icon: \"üìñ\",\n        isActive: true,\n        orderIndex: 1\n      },\n      {\n        name: \"Conseils sommeil\",\n        slug: \"conseils-sommeil\",\n        description: \"Astuces et recommandations pour am√©liorer votre sommeil\",\n        color: \"#6E6E6E\",\n        icon: \"üí§\",\n        isActive: true,\n        orderIndex: 2\n      },\n      {\n        name: \"Tendances d√©co\",\n        slug: \"tendances-deco\",\n        description: \"D√©couvrez les derni√®res tendances en d√©coration d'int√©rieur\",\n        color: \"#E30613\",\n        icon: \"üé®\",\n        isActive: true,\n        orderIndex: 3\n      },\n      {\n        name: \"Fiches techniques\",\n        slug: \"fiches-techniques\",\n        description: \"Informations techniques d√©taill√©es sur nos produits et services\",\n        color: \"#0EA5E9\",\n        icon: \"‚öôÔ∏è\",\n        isActive: true,\n        orderIndex: 4\n      }\n    ];\n\n    let successCount = 0;\n    for (const category of defaultCategories) {\n      const result = await createCategory(category);\n      if (result.success) {\n        successCount++;\n      }\n    }\n\n    if (successCount > 0) {\n      toast.success(`${successCount} cat√©gories initialis√©es avec succ√®s`);\n      await refetch();\n    } else {\n      toast.error('Erreur lors de l\\'initialisation des cat√©gories');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Cat√©gories d'articles</h1>\n            <p className=\"text-gray-600\">G√©rer les cat√©gories des articles de blog</p>\n          </div>\n        </div>\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n          <p>Chargement des cat√©gories...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Cat√©gories d'articles</h1>\n            <p className=\"text-gray-600\">G√©rer les cat√©gories des articles de blog</p>\n          </div>\n        </div>\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-red-500\">\n          <p>Erreur: {error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Cat√©gories d'articles</h1>\n          <p className=\"text-gray-600\">\n            {categories.length} cat√©gorie{categories.length > 1 ? 's' : ''} ‚Ä¢ G√©rer les cat√©gories des articles\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          {categories.length === 0 && (\n            <button\n              onClick={initializeDefaultCategories}\n              className=\"flex items-center space-x-2 px-6 py-3 bg-blue-500 text-white hover:bg-blue-600\"\n            >\n              <Plus className=\"w-5 h-5\" />\n              <span>Initialiser les cat√©gories</span>\n            </button>\n          )}\n          {!isAddingNew && (\n            <button\n              onClick={() => setIsAddingNew(true)}\n              className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90\"\n              style={{ backgroundColor: '#B5C233' }}\n            >\n              <Plus className=\"w-5 h-5\" />\n              <span>Nouvelle cat√©gorie</span>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Formulaire d'ajout/√©dition */}\n      {isAddingNew && (\n        <div className=\"bg-white border border-gray-200 p-6\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">\n            {editingId ? 'Modifier la cat√©gorie' : 'Nouvelle cat√©gorie'}\n          </h2>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Nom et Slug */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Nom de la cat√©gorie *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.name}\n                  onChange={(e) => handleNameChange(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Guides d'achat\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Slug (URL) *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.slug}\n                  onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"guides-achat\"\n                />\n              </div>\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Description\n              </label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                rows={3}\n                className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                placeholder=\"Description de la cat√©gorie\"\n              />\n            </div>\n\n            {/* Ic√¥ne, Couleur et Ordre */}\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Ic√¥ne (emoji)\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.icon}\n                  onChange={(e) => setFormData({ ...formData, icon: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent text-2xl text-center\"\n                  placeholder=\"üì∞\"\n                  maxLength={2}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Couleur\n                </label>\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"color\"\n                    value={formData.color}\n                    onChange={(e) => setFormData({ ...formData, color: e.target.value })}\n                    className=\"w-12 h-10 border border-gray-300 cursor-pointer\"\n                  />\n                  <input\n                    type=\"text\"\n                    value={formData.color}\n                    onChange={(e) => setFormData({ ...formData, color: e.target.value })}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"#0EA5E9\"\n                  />\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Ordre d'affichage\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.orderIndex}\n                  onChange={(e) => setFormData({ ...formData, orderIndex: parseInt(e.target.value) })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  min=\"1\"\n                />\n              </div>\n            </div>\n\n            {/* Checkbox Active */}\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={formData.isActive}\n                onChange={(e) => setFormData({ ...formData, isActive: e.target.checked })}\n                className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">Cat√©gorie active</span>\n            </div>\n\n            {/* Boutons */}\n            <div className=\"flex items-center space-x-4 pt-4 border-t\">\n              <Button\n                type=\"submit\"\n                className=\"px-6 py-2 text-white\"\n                style={{ backgroundColor: '#B5C233' }}\n              >\n                <Save className=\"w-4 h-4 mr-2\" />\n                {editingId ? 'Mettre √† jour' : 'Cr√©er'}\n              </Button>\n              <Button\n                type=\"button\"\n                onClick={handleCancel}\n                variant=\"outline\"\n              >\n                <X className=\"w-4 h-4 mr-2\" />\n                Annuler\n              </Button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Liste des cat√©gories */}\n      {categories.length === 0 ? (\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n          <Tag className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\n          <p className=\"text-lg font-medium mb-2\">Aucune cat√©gorie</p>\n          <p className=\"text-sm\">Initialisez les cat√©gories par d√©faut ou cr√©ez votre premi√®re cat√©gorie</p>\n        </div>\n      ) : (\n        <div className=\"bg-white border border-gray-200\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Ic√¥ne</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Nom</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Slug</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Description</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Couleur</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Ordre</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Statut</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {categories.map((category) => (\n                <tr key={category.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-3 px-4\">\n                    <div className=\"text-3xl\">{category.icon}</div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"font-medium text-gray-900\">{category.name}</div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <code className=\"text-sm bg-gray-100 px-2 py-1 text-gray-700\">{category.slug}</code>\n                  </td>\n                  <td className=\"py-3 px-4 max-w-xs\">\n                    <div className=\"text-sm text-gray-600 truncate\">{category.description || '-'}</div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <div \n                        className=\"w-8 h-8 border border-gray-300\"\n                        style={{ backgroundColor: category.color }}\n                      ></div>\n                      <code className=\"text-xs text-gray-600\">{category.color}</code>\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <span className=\"text-sm text-gray-900\">{category.orderIndex}</span>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    {category.isActive ? (\n                      <span className=\"flex items-center text-green-600 text-sm\">\n                        <Eye className=\"w-4 h-4 mr-1\" />\n                        Active\n                      </span>\n                    ) : (\n                      <span className=\"flex items-center text-gray-400 text-sm\">\n                        <EyeOff className=\"w-4 h-4 mr-1\" />\n                        Inactive\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => handleEdit(category)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50\"\n                        title=\"Modifier\"\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(category.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-50\"\n                        title=\"Supprimer\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4496, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSTestimonials.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Plus, Edit, Trash2, Star, Eye, EyeOff } from 'lucide-react';\nimport { useTestimonials, useTestimonialMutation } from '../../hooks/useTestimonials';\nimport { Button } from '../../components/ui/button';\nimport { toast } from 'sonner@2.0.3';\nimport { TestimonialsInitButton } from '../components/TestimonialsInitButton';\n\nexport function CMSTestimonials() {\n  const [isAddingNew, setIsAddingNew] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const { testimonials, loading, error, refetch } = useTestimonials('fr', undefined, false, false);\n  const { createTestimonial, updateTestimonial, deleteTestimonial } = useTestimonialMutation();\n\n  // √âtat du formulaire\n  const [formData, setFormData] = useState({\n    clientName: '',\n    clientLocation: '',\n    clientPhoto: '',\n    testimonialFr: '',\n    testimonialEn: '',\n    project: '',\n    rating: 5,\n    category: 'general' as 'couchage' | 'design' | 'glass' | 'general',\n    featured: false,\n    published: false,\n    testimonialDate: new Date().toISOString().split('T')[0]\n  });\n\n  const handleEdit = (testimonial: any) => {\n    setEditingId(testimonial.id);\n    setFormData({\n      clientName: testimonial.clientName || '',\n      clientLocation: testimonial.clientLocation || '',\n      clientPhoto: testimonial.clientPhoto || '',\n      testimonialFr: testimonial.testimonialFr || '',\n      testimonialEn: testimonial.testimonialEn || '',\n      project: testimonial.project || '',\n      rating: testimonial.rating || 5,\n      category: testimonial.category || 'general',\n      featured: testimonial.featured || false,\n      published: testimonial.published || false,\n      testimonialDate: testimonial.testimonialDate || new Date().toISOString().split('T')[0]\n    });\n    setIsAddingNew(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer ce t√©moignage ?')) return;\n\n    const result = await deleteTestimonial(id);\n    if (result.success) {\n      toast.success('T√©moignage supprim√© avec succ√®s');\n      await refetch();\n    } else {\n      toast.error(result.error || 'Erreur lors de la suppression');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (editingId) {\n      const result = await updateTestimonial(editingId, formData);\n      if (result.success) {\n        toast.success('T√©moignage mis √† jour avec succ√®s');\n        setIsAddingNew(false);\n        setEditingId(null);\n        resetForm();\n        await refetch();\n      } else {\n        toast.error(result.error || 'Erreur lors de la mise √† jour');\n      }\n    } else {\n      const result = await createTestimonial(formData);\n      if (result.success) {\n        toast.success('T√©moignage cr√©√© avec succ√®s');\n        setIsAddingNew(false);\n        resetForm();\n        await refetch();\n      } else {\n        toast.error(result.error || 'Erreur lors de la cr√©ation');\n      }\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      clientName: '',\n      clientLocation: '',\n      clientPhoto: '',\n      testimonialFr: '',\n      testimonialEn: '',\n      project: '',\n      rating: 5,\n      category: 'general',\n      featured: false,\n      published: false,\n      testimonialDate: new Date().toISOString().split('T')[0]\n    });\n  };\n\n  const handleCancel = () => {\n    setIsAddingNew(false);\n    setEditingId(null);\n    resetForm();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">T√©moignages</h1>\n            <p className=\"text-gray-600\">G√©rer les avis clients</p>\n          </div>\n        </div>\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n          <p>Chargement des t√©moignages...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">T√©moignages</h1>\n            <p className=\"text-gray-600\">G√©rer les avis clients</p>\n          </div>\n        </div>\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-red-500\">\n          <p>Erreur: {error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">T√©moignages</h1>\n          <p className=\"text-gray-600\">\n            {testimonials.length} t√©moignage{testimonials.length > 1 ? 's' : ''} ‚Ä¢ G√©rer les avis clients\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <TestimonialsInitButton />\n          {!isAddingNew && (\n            <button\n              onClick={() => setIsAddingNew(true)}\n              className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90\"\n              style={{ backgroundColor: '#B5C233' }}\n            >\n              <Plus className=\"w-5 h-5\" />\n              <span>Nouveau t√©moignage</span>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Formulaire d'ajout/√©dition */}\n      {isAddingNew && (\n        <div className=\"bg-white border border-gray-200 p-6\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">\n            {editingId ? 'Modifier le t√©moignage' : 'Nouveau t√©moignage'}\n          </h2>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Informations client */}\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Nom du client *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.clientName}\n                  onChange={(e) => setFormData({ ...formData, clientName: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Jean Dupont\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Localisation *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.clientLocation}\n                  onChange={(e) => setFormData({ ...formData, clientLocation: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Abidjan, C√¥te d'Ivoire\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Photo URL (ou emoji)\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.clientPhoto}\n                  onChange={(e) => setFormData({ ...formData, clientPhoto: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"üë§ ou URL\"\n                />\n              </div>\n            </div>\n\n            {/* T√©moignages */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  T√©moignage (Fran√ßais) *\n                </label>\n                <textarea\n                  required\n                  value={formData.testimonialFr}\n                  onChange={(e) => setFormData({ ...formData, testimonialFr: e.target.value })}\n                  rows={4}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"T√©moignage en fran√ßais\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  T√©moignage (Anglais) *\n                </label>\n                <textarea\n                  required\n                  value={formData.testimonialEn}\n                  onChange={(e) => setFormData({ ...formData, testimonialEn: e.target.value })}\n                  rows={4}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"T√©moignage en anglais\"\n                />\n              </div>\n            </div>\n\n            {/* Projet et Note */}\n            <div className=\"grid grid-cols-4 gap-4\">\n              <div className=\"col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Projet / Produit\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.project}\n                  onChange={(e) => setFormData({ ...formData, project: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Matelas King Size Premium\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Note *\n                </label>\n                <select\n                  value={formData.rating}\n                  onChange={(e) => setFormData({ ...formData, rating: parseInt(e.target.value) })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                >\n                  <option value={5}>5 √©toiles</option>\n                  <option value={4}>4 √©toiles</option>\n                  <option value={3}>3 √©toiles</option>\n                  <option value={2}>2 √©toiles</option>\n                  <option value={1}>1 √©toile</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Cat√©gorie *\n                </label>\n                <select\n                  value={formData.category}\n                  onChange={(e) => setFormData({ ...formData, category: e.target.value as any })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                >\n                  <option value=\"general\">G√©n√©ral</option>\n                  <option value=\"couchage\">Couchage</option>\n                  <option value=\"design\">Design</option>\n                  <option value=\"glass\">Glass</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Date */}\n            <div className=\"grid grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={formData.testimonialDate}\n                  onChange={(e) => setFormData({ ...formData, testimonialDate: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n\n            {/* Checkboxes */}\n            <div className=\"flex items-center space-x-6\">\n              <label className=\"flex items-center space-x-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.featured}\n                  onChange={(e) => setFormData({ ...formData, featured: e.target.checked })}\n                  className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">En vedette</span>\n              </label>\n              <label className=\"flex items-center space-x-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.published}\n                  onChange={(e) => setFormData({ ...formData, published: e.target.checked })}\n                  className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">Publi√©</span>\n              </label>\n            </div>\n\n            {/* Boutons */}\n            <div className=\"flex items-center space-x-4 pt-4 border-t\">\n              <Button\n                type=\"submit\"\n                className=\"px-6 py-2 text-white\"\n                style={{ backgroundColor: '#B5C233' }}\n              >\n                {editingId ? 'Mettre √† jour' : 'Cr√©er'}\n              </Button>\n              <Button\n                type=\"button\"\n                onClick={handleCancel}\n                variant=\"outline\"\n              >\n                Annuler\n              </Button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Liste des t√©moignages */}\n      {testimonials.length === 0 ? (\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n          <Star className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\n          <p className=\"text-lg font-medium mb-2\">Aucun t√©moignage</p>\n          <p className=\"text-sm\">Commencez par cr√©er votre premier t√©moignage</p>\n        </div>\n      ) : (\n        <div className=\"bg-white border border-gray-200\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Client</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">T√©moignage</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Note</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Cat√©gorie</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Statut</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {testimonials.map((testimonial) => (\n                <tr key={testimonial.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center space-x-3\">\n                      {testimonial.clientPhoto && testimonial.clientPhoto.startsWith('http') ? (\n                        <img \n                          src={testimonial.clientPhoto} \n                          alt={testimonial.clientName}\n                          className=\"w-10 h-10 object-cover\"\n                        />\n                      ) : (\n                        <div className=\"text-2xl\">{testimonial.clientPhoto || 'üë§'}</div>\n                      )}\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{testimonial.clientName}</div>\n                        <div className=\"text-sm text-gray-500\">{testimonial.clientLocation}</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4 max-w-xs\">\n                    <div className=\"text-sm text-gray-900 truncate\">{testimonial.testimonialFr}</div>\n                    {testimonial.project && (\n                      <div className=\"text-xs text-green-600 font-medium mt-1\">{testimonial.project}</div>\n                    )}\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center\">\n                      {[...Array(testimonial.rating)].map((_, i) => (\n                        <Star key={i} className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n                      ))}\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800\">\n                      {testimonial.category}\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      {testimonial.published ? (\n                        <span className=\"flex items-center text-green-600 text-sm\">\n                          <Eye className=\"w-4 h-4 mr-1\" />\n                          Publi√©\n                        </span>\n                      ) : (\n                        <span className=\"flex items-center text-gray-400 text-sm\">\n                          <EyeOff className=\"w-4 h-4 mr-1\" />\n                          Brouillon\n                        </span>\n                      )}\n                      {testimonial.featured && (\n                        <span className=\"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800\">\n                          ‚≠ê Vedette\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => handleEdit(testimonial)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50\"\n                        title=\"Modifier\"\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(testimonial.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-50\"\n                        title=\"Supprimer\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5685, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSTeam.tsx"],"sourcesContent":["import { Plus } from 'lucide-react';\n\nexport function CMSTeam() {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">√âquipe</h1>\n          <p className=\"text-gray-600\">G√©rer les membres de l'√©quipe</p>\n        </div>\n        <button\n          className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90\"\n          style={{ backgroundColor: '#B5C233' }}\n        >\n          <Plus className=\"w-5 h-5\" />\n          <span>Nouveau membre</span>\n        </button>\n      </div>\n      \n      <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n        <p>Fonctionnalit√© en d√©veloppement</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,SAAS;IACd,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;;0CACC,qKAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,qKAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;kCAE/B,qKAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,iBAAiB;wBAAU;;0CAEpC,qKAAC,mMAAI;gCAAC,WAAU;;;;;;0CAChB,qKAAC;0CAAK;;;;;;;;;;;;;;;;;;0BAIV,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;8BAAE;;;;;;;;;;;;;;;;;AAIX"}},
    {"offset": {"line": 5783, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSVideos.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Plus, Trash2, Edit, Video, Eye, EyeOff } from 'lucide-react';\nimport { useVideoStories, useVideoStoryMutation } from '../../hooks/useVideoStories';\nimport { Button } from '../../components/ui/button';\nimport { toast } from 'sonner@2.0.3';\nimport { VideoStoriesInitButton } from '../components/VideoStoriesInitButton';\n\nexport function CMSVideos() {\n  const [isAddingNew, setIsAddingNew] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const { videoStories, loading, error, refetch } = useVideoStories('fr', undefined, false, false);\n  const { createVideoStory, updateVideoStory, deleteVideoStory } = useVideoStoryMutation();\n\n  // √âtat du formulaire\n  const [formData, setFormData] = useState({\n    titleFr: '',\n    titleEn: '',\n    descriptionFr: '',\n    descriptionEn: '',\n    videoUrl: '',\n    thumbnailUrl: '',\n    duration: '',\n    category: 'general' as 'couchage' | 'design' | 'glass' | 'general',\n    featured: false,\n    published: false,\n    publishedDate: new Date().toISOString().split('T')[0],\n    order: 0,\n    quoteFr: '',\n    quoteEn: '',\n    quoteAuthorFr: '',\n    quoteAuthorEn: ''\n  });\n\n  const handleEdit = (videoStory: any) => {\n    setEditingId(videoStory.id);\n    setFormData({\n      titleFr: videoStory.titleFr || '',\n      titleEn: videoStory.titleEn || '',\n      descriptionFr: videoStory.descriptionFr || '',\n      descriptionEn: videoStory.descriptionEn || '',\n      videoUrl: videoStory.videoUrl || '',\n      thumbnailUrl: videoStory.thumbnailUrl || '',\n      duration: videoStory.duration || '',\n      category: videoStory.category || 'general',\n      featured: videoStory.featured || false,\n      published: videoStory.published || false,\n      publishedDate: videoStory.publishedDate || new Date().toISOString().split('T')[0],\n      order: videoStory.order || 0,\n      quoteFr: videoStory.quoteFr || '',\n      quoteEn: videoStory.quoteEn || '',\n      quoteAuthorFr: videoStory.quoteAuthorFr || '',\n      quoteAuthorEn: videoStory.quoteAuthorEn || ''\n    });\n    setIsAddingNew(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer cette vid√©o ?')) return;\n\n    const result = await deleteVideoStory(id);\n    if (result.success) {\n      toast.success('Vid√©o supprim√©e avec succ√®s');\n      await refetch();\n    } else {\n      toast.error(result.error || 'Erreur lors de la suppression');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (editingId) {\n      const result = await updateVideoStory(editingId, formData);\n      if (result.success) {\n        toast.success('Vid√©o mise √† jour avec succ√®s');\n        setIsAddingNew(false);\n        setEditingId(null);\n        resetForm();\n        await refetch();\n      } else {\n        toast.error(result.error || 'Erreur lors de la mise √† jour');\n      }\n    } else {\n      const result = await createVideoStory(formData);\n      if (result.success) {\n        toast.success('Vid√©o cr√©√©e avec succ√®s');\n        setIsAddingNew(false);\n        resetForm();\n        await refetch();\n      } else {\n        toast.error(result.error || 'Erreur lors de la cr√©ation');\n      }\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      titleFr: '',\n      titleEn: '',\n      descriptionFr: '',\n      descriptionEn: '',\n      videoUrl: '',\n      thumbnailUrl: '',\n      duration: '',\n      category: 'general',\n      featured: false,\n      published: false,\n      publishedDate: new Date().toISOString().split('T')[0],\n      order: 0,\n      quoteFr: '',\n      quoteEn: '',\n      quoteAuthorFr: '',\n      quoteAuthorEn: ''\n    });\n  };\n\n  const handleCancel = () => {\n    setIsAddingNew(false);\n    setEditingId(null);\n    resetForm();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Video Stories</h1>\n            <p className=\"text-gray-600\">G√©rer les vid√©os du site</p>\n          </div>\n        </div>\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n          <p>Chargement des vid√©os...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Video Stories</h1>\n            <p className=\"text-gray-600\">G√©rer les vid√©os du site</p>\n          </div>\n        </div>\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-red-500\">\n          <p>Erreur: {error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Video Stories</h1>\n          <p className=\"text-gray-600\">\n            {videoStories.length} vid√©o{videoStories.length > 1 ? 's' : ''} ‚Ä¢ G√©rer les vid√©os du site\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <VideoStoriesInitButton />\n          {!isAddingNew && (\n            <button\n              onClick={() => setIsAddingNew(true)}\n              className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90\"\n              style={{ backgroundColor: '#B5C233' }}\n            >\n              <Plus className=\"w-5 h-5\" />\n              <span>Nouvelle vid√©o</span>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Formulaire d'ajout/√©dition */}\n      {isAddingNew && (\n        <div className=\"bg-white border border-gray-200 p-6\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">\n            {editingId ? 'Modifier la vid√©o' : 'Nouvelle vid√©o'}\n          </h2>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Titres */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Titre (Fran√ßais) *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.titleFr}\n                  onChange={(e) => setFormData({ ...formData, titleFr: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Titre en fran√ßais\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Titre (Anglais) *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.titleEn}\n                  onChange={(e) => setFormData({ ...formData, titleEn: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Titre en anglais\"\n                />\n              </div>\n            </div>\n\n            {/* Descriptions */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description (Fran√ßais)\n                </label>\n                <textarea\n                  value={formData.descriptionFr}\n                  onChange={(e) => setFormData({ ...formData, descriptionFr: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Description en fran√ßais\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description (Anglais)\n                </label>\n                <textarea\n                  value={formData.descriptionEn}\n                  onChange={(e) => setFormData({ ...formData, descriptionEn: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Description en anglais\"\n                />\n              </div>\n            </div>\n\n            {/* URL et Thumbnail */}\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div className=\"col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  URL de la vid√©o *\n                </label>\n                <input\n                  type=\"url\"\n                  required\n                  value={formData.videoUrl}\n                  onChange={(e) => setFormData({ ...formData, videoUrl: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"https://www.youtube.com/watch?v=...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Dur√©e *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.duration}\n                  onChange={(e) => setFormData({ ...formData, duration: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"3:45\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                URL de la miniature\n              </label>\n              <input\n                type=\"url\"\n                value={formData.thumbnailUrl}\n                onChange={(e) => setFormData({ ...formData, thumbnailUrl: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                placeholder=\"https://images.unsplash.com/...\"\n              />\n            </div>\n\n            {/* Citations (optionnel) */}\n            <div className=\"border-t pt-4\">\n              <h3 className=\"text-md font-semibold text-gray-800 mb-3\">Citation (Optionnel)</h3>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Citation (Fran√ßais)\n                  </label>\n                  <textarea\n                    value={formData.quoteFr}\n                    onChange={(e) => setFormData({ ...formData, quoteFr: e.target.value })}\n                    rows={2}\n                    className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"Citation en fran√ßais\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Citation (Anglais)\n                  </label>\n                  <textarea\n                    value={formData.quoteEn}\n                    onChange={(e) => setFormData({ ...formData, quoteEn: e.target.value })}\n                    rows={2}\n                    className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"Citation en anglais\"\n                  />\n                </div>\n              </div>\n              <div className=\"grid grid-cols-2 gap-4 mt-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Auteur (Fran√ßais)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.quoteAuthorFr}\n                    onChange={(e) => setFormData({ ...formData, quoteAuthorFr: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"Auteur en fran√ßais\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Auteur (Anglais)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.quoteAuthorEn}\n                    onChange={(e) => setFormData({ ...formData, quoteAuthorEn: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"Auteur en anglais\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Cat√©gorie et Options */}\n            <div className=\"grid grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Cat√©gorie *\n                </label>\n                <select\n                  value={formData.category}\n                  onChange={(e) => setFormData({ ...formData, category: e.target.value as any })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                >\n                  <option value=\"general\">G√©n√©ral</option>\n                  <option value=\"couchage\">Couchage</option>\n                  <option value=\"design\">Design</option>\n                  <option value=\"glass\">Glass</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Ordre\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.order}\n                  onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"0\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Date de publication\n                </label>\n                <input\n                  type=\"date\"\n                  value={formData.publishedDate}\n                  onChange={(e) => setFormData({ ...formData, publishedDate: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n\n            {/* Checkboxes */}\n            <div className=\"flex items-center space-x-6\">\n              <label className=\"flex items-center space-x-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.featured}\n                  onChange={(e) => setFormData({ ...formData, featured: e.target.checked })}\n                  className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">En vedette</span>\n              </label>\n              <label className=\"flex items-center space-x-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.published}\n                  onChange={(e) => setFormData({ ...formData, published: e.target.checked })}\n                  className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">Publi√©</span>\n              </label>\n            </div>\n\n            {/* Boutons */}\n            <div className=\"flex items-center space-x-4 pt-4 border-t\">\n              <Button\n                type=\"submit\"\n                className=\"px-6 py-2 text-white\"\n                style={{ backgroundColor: '#B5C233' }}\n              >\n                {editingId ? 'Mettre √† jour' : 'Cr√©er'}\n              </Button>\n              <Button\n                type=\"button\"\n                onClick={handleCancel}\n                variant=\"outline\"\n              >\n                Annuler\n              </Button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Liste des vid√©os */}\n      {videoStories.length === 0 ? (\n        <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n          <Video className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\n          <p className=\"text-lg font-medium mb-2\">Aucune vid√©o</p>\n          <p className=\"text-sm\">Commencez par cr√©er votre premi√®re vid√©o</p>\n        </div>\n      ) : (\n        <div className=\"bg-white border border-gray-200\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Vid√©o</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Cat√©gorie</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Dur√©e</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Statut</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {videoStories.map((video) => (\n                <tr key={video.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center space-x-3\">\n                      {video.thumbnailUrl && (\n                        <img \n                          src={video.thumbnailUrl} \n                          alt={video.titleFr}\n                          className=\"w-16 h-10 object-cover\"\n                        />\n                      )}\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{video.titleFr}</div>\n                        <div className=\"text-sm text-gray-500\">{video.titleEn}</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800\">\n                      {video.category}\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4 text-sm text-gray-600\">{video.duration}</td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      {video.published ? (\n                        <span className=\"flex items-center text-green-600 text-sm\">\n                          <Eye className=\"w-4 h-4 mr-1\" />\n                          Publi√©\n                        </span>\n                      ) : (\n                        <span className=\"flex items-center text-gray-400 text-sm\">\n                          <EyeOff className=\"w-4 h-4 mr-1\" />\n                          Brouillon\n                        </span>\n                      )}\n                      {video.featured && (\n                        <span className=\"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800\">\n                          ‚≠ê Vedette\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => handleEdit(video)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50\"\n                        title=\"Modifier\"\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(video.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-50\"\n                        title=\"Supprimer\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7079, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSOrders.tsx"],"sourcesContent":["import { Search, Download } from 'lucide-react';\n\nexport function CMSOrders() {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Commandes</h1>\n          <p className=\"text-gray-600\">G√©rer les commandes clients</p>\n        </div>\n        <button\n          className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90\"\n          style={{ backgroundColor: '#B5C233' }}\n        >\n          <Download className=\"w-5 h-5\" />\n          <span>Exporter</span>\n        </button>\n      </div>\n      \n      <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n        <p>Fonctionnalit√© en d√©veloppement</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,SAAS;IACd,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;;0CACC,qKAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,qKAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;kCAE/B,qKAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,iBAAiB;wBAAU;;0CAEpC,qKAAC,+MAAQ;gCAAC,WAAU;;;;;;0CACpB,qKAAC;0CAAK;;;;;;;;;;;;;;;;;;0BAIV,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;8BAAE;;;;;;;;;;;;;;;;;AAIX"}},
    {"offset": {"line": 7175, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSClients.tsx"],"sourcesContent":["import { Search, UserPlus } from 'lucide-react';\n\nexport function CMSClients() {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Clients</h1>\n          <p className=\"text-gray-600\">G√©rer la base clients</p>\n        </div>\n        <button\n          className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90\"\n          style={{ backgroundColor: '#B5C233' }}\n        >\n          <UserPlus className=\"w-5 h-5\" />\n          <span>Nouveau client</span>\n        </button>\n      </div>\n      \n      <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n        <p>Fonctionnalit√© en d√©veloppement</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,SAAS;IACd,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;;0CACC,qKAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,qKAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;kCAE/B,qKAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,iBAAiB;wBAAU;;0CAEpC,qKAAC,mNAAQ;gCAAC,WAAU;;;;;;0CACpB,qKAAC;0CAAK;;;;;;;;;;;;;;;;;;0BAIV,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;8BAAE;;;;;;;;;;;;;;;;;AAIX"}},
    {"offset": {"line": 7271, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSSettings.tsx"],"sourcesContent":["import { Settings as SettingsIcon, Save } from 'lucide-react';\n\nexport function CMSSettings() {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Param√®tres</h1>\n        <p className=\"text-gray-600\">Configuration du site et du CMS</p>\n      </div>\n\n      <div className=\"bg-white border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Informations g√©n√©rales</h2>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Nom du site\n            </label>\n            <input\n              type=\"text\"\n              defaultValue=\"FIMA\"\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Email de contact\n            </label>\n            <input\n              type=\"email\"\n              defaultValue=\"contact@fima.com\"\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              T√©l√©phone\n            </label>\n            <input\n              type=\"tel\"\n              defaultValue=\"+225 XX XX XX XX\"\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Adresse\n            </label>\n            <textarea\n              rows={3}\n              defaultValue=\"Abidjan, C√¥te d'Ivoire\"\n              className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n            />\n          </div>\n\n          <div className=\"pt-4\">\n            <button\n              className=\"flex items-center space-x-2 px-6 py-3 text-white hover:opacity-90\"\n              style={{ backgroundColor: '#B5C233' }}\n            >\n              <Save className=\"w-5 h-5\" />\n              <span>Enregistrer les modifications</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white border border-gray-200 p-12 text-center text-gray-500\">\n        <SettingsIcon className=\"w-12 h-12 mx-auto mb-4 text-gray-400\" />\n        <p>Autres param√®tres en d√©veloppement</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;;;AAEO,SAAS;IACd,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;;kCACC,qKAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,qKAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;0BAG/B,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAuC;;;;;;kCAErD,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;;kDACC,qKAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,qKAAC;wCACC,MAAK;wCACL,cAAa;wCACb,WAAU;;;;;;;;;;;;0CAId,qKAAC;;kDACC,qKAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,qKAAC;wCACC,MAAK;wCACL,cAAa;wCACb,WAAU;;;;;;;;;;;;0CAId,qKAAC;;kDACC,qKAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,qKAAC;wCACC,MAAK;wCACL,cAAa;wCACb,WAAU;;;;;;;;;;;;0CAId,qKAAC;;kDACC,qKAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,qKAAC;wCACC,MAAM;wCACN,cAAa;wCACb,WAAU;;;;;;;;;;;;0CAId,qKAAC;gCAAI,WAAU;0CACb,cAAA,qKAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,iBAAiB;oCAAU;;sDAEpC,qKAAC,mMAAI;4CAAC,WAAU;;;;;;sDAChB,qKAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMd,qKAAC;gBAAI,WAAU;;kCACb,qKAAC,+MAAY;wBAAC,WAAU;;;;;;kCACxB,qKAAC;kCAAE;;;;;;;;;;;;;;;;;;AAIX"}},
    {"offset": {"line": 7501, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSLogin.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { ExternalLink, Lock } from 'lucide-react';\nimport { useUser } from '../../contexts/UserContext';\n\ninterface CMSLoginProps {\n  onLogin: () => void;\n  onBackToSite: () => void;\n}\n\nexport function CMSLogin({ onLogin, onBackToSite }: CMSLoginProps) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useUser();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      // V√©rifier les identifiants admin\n      if (email === 'admin@fima.com' && password === 'admin123') {\n        // Utiliser la fonction login du UserContext avec un email contenant \"admin\"\n        await login('admin@fima.com', password);\n        onLogin();\n      } else {\n        setError('Email ou mot de passe incorrect');\n      }\n    } catch (err) {\n      setError('Une erreur est survenue');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo */}\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 mb-4\" style={{ backgroundColor: '#B5C233' }}>\n            <span className=\"text-white font-bold text-2xl\">F</span>\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">FIMA Admin</h1>\n          <p className=\"text-gray-600\">Connectez-vous √† votre espace d'administration</p>\n        </div>\n\n        {/* Login Form */}\n        <div className=\"bg-white border border-gray-200 p-8 shadow-lg\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3\">\n                <p className=\"text-sm\">{error}</p>\n              </div>\n            )}\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                placeholder=\"admin@fima.com\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Mot de passe\n              </label>\n              <input\n                type=\"password\"\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#B5C233]\"\n                placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full px-6 py-3 text-white hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center space-x-2\"\n              style={{ backgroundColor: '#B5C233' }}\n            >\n              <Lock className=\"w-5 h-5\" />\n              <span>{loading ? 'Connexion...' : 'Se connecter'}</span>\n            </button>\n          </form>\n\n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\n            <button\n              onClick={onBackToSite}\n              className=\"w-full flex items-center justify-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\"\n            >\n              <ExternalLink className=\"w-4 h-4\" />\n              <span>Retour au site</span>\n            </button>\n          </div>\n        </div>\n\n        {/* Demo credentials */}\n        <div className=\"mt-6 bg-blue-50 border border-blue-200 p-4 text-center\">\n          <p className=\"text-sm text-blue-900 mb-2\">\n            <strong>Identifiants de d√©monstration :</strong>\n          </p>\n          <p className=\"text-sm text-blue-800\">\n            Email: <span className=\"font-mono\">admin@fima.com</span><br />\n            Mot de passe: <span className=\"font-mono\">admin123</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;;;;;AAOO,SAAS,SAAS,EAAE,OAAO,EAAE,YAAY,EAAiB;IAC/D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,mIAAO;IAEzB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,kCAAkC;YAClC,IAAI,UAAU,oBAAoB,aAAa,YAAY;gBACzD,4EAA4E;gBAC5E,MAAM,MAAM,kBAAkB;gBAC9B;YACF,OAAO;gBACL,SAAS;YACX;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BAEb,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAI,WAAU;4BAAyD,OAAO;gCAAE,iBAAiB;4BAAU;sCAC1G,cAAA,qKAAC;gCAAK,WAAU;0CAAgC;;;;;;;;;;;sCAElD,qKAAC;4BAAG,WAAU;sCAAwC;;;;;;sCACtD,qKAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;8BAI/B,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAK,UAAU;4BAAc,WAAU;;gCACrC,uBACC,qKAAC;oCAAI,WAAU;8CACb,cAAA,qKAAC;wCAAE,WAAU;kDAAW;;;;;;;;;;;8CAI5B,qKAAC;;sDACC,qKAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,qKAAC;4CACC,MAAK;4CACL,QAAQ;4CACR,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,qKAAC;;sDACC,qKAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,qKAAC;4CACC,MAAK;4CACL,QAAQ;4CACR,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,qKAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAU;oCACV,OAAO;wCAAE,iBAAiB;oCAAU;;sDAEpC,qKAAC,mMAAI;4CAAC,WAAU;;;;;;sDAChB,qKAAC;sDAAM,UAAU,iBAAiB;;;;;;;;;;;;;;;;;;sCAItC,qKAAC;4BAAI,WAAU;sCACb,cAAA,qKAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,qKAAC,+NAAY;wCAAC,WAAU;;;;;;kDACxB,qKAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;;8BAMZ,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAE,WAAU;sCACX,cAAA,qKAAC;0CAAO;;;;;;;;;;;sCAEV,qKAAC;4BAAE,WAAU;;gCAAwB;8CAC5B,qKAAC;oCAAK,WAAU;8CAAY;;;;;;8CAAqB,qKAAC;;;;;gCAAK;8CAChD,qKAAC;oCAAK,WAAU;8CAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtD"}},
    {"offset": {"line": 7807, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSBusinessUnits.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Plus, Edit2, Trash2, Save, X, Image as ImageIcon, Palette } from 'lucide-react';\nimport { toast } from 'sonner@2.0.3';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\n\ninterface BusinessUnit {\n  id: string;\n  slug: string;\n  name: string;\n  name_fr: string;\n  name_en: string;\n  description: string;\n  description_fr: string;\n  description_en: string;\n  icon: string;\n  primary_color: string;\n  order_index: number;\n  is_active: boolean;\n}\n\n// Ic√¥nes disponibles pour les m√©tiers\nconst AVAILABLE_ICONS = [\n  { value: 'Bed', label: 'üõèÔ∏è Lit (Bed)' },\n  { value: 'Armchair', label: 'ü™ë Fauteuil (Armchair)' },\n  { value: 'Building2', label: 'üè¢ B√¢timent (Building)' },\n  { value: 'Sofa', label: 'üõãÔ∏è Sofa' },\n  { value: 'Lamp', label: 'üí° Lampe' },\n  { value: 'Home', label: 'üè† Maison' },\n  { value: 'Wrench', label: 'üîß Outils' },\n  { value: 'Package', label: 'üì¶ Paquet' },\n];\n\n// Couleurs pr√©d√©finies FIMA\nconst FIMA_COLORS = [\n  { value: '#B5C233', label: 'Vert FIMA (Green)' },\n  { value: '#6E6E6E', label: 'Gris FIMA (Gray)' },\n  { value: '#E30613', label: 'Rouge FIMA (Red)' },\n  { value: '#0EA5E9', label: 'Bleu Cyan (Univers Glass)' },\n  { value: '#4A52A8', label: 'Bleu FIMA (Blue)' },\n];\n\n// Donn√©es de fallback - identiques au hook frontend\nconst DEFAULT_BUSINESS_UNITS: BusinessUnit[] = [\n  {\n    id: 'fima-couchage',\n    slug: 'fima-couchage',\n    name: 'FIMA Couchage',\n    name_fr: 'FIMA Couchage',\n    name_en: 'FIMA Bedding',\n    description: 'Solutions compl√®tes pour literie professionnelle et particuliers',\n    description_fr: 'Solutions compl√®tes pour literie professionnelle et particuliers',\n    description_en: 'Complete solutions for professional and residential bedding',\n    icon: 'Bed',\n    primary_color: '#B5C233',\n    order_index: 1,\n    is_active: true\n  },\n  {\n    id: 'fima-design',\n    slug: 'fima-design',\n    name: 'FIMA Design',\n    name_fr: 'FIMA Design',\n    name_en: 'FIMA Design',\n    description: 'Menuiserie et ameublement sur mesure',\n    description_fr: 'Menuiserie et ameublement sur mesure',\n    description_en: 'Custom carpentry and furniture',\n    icon: 'Armchair',\n    primary_color: '#6E6E6E',\n    order_index: 2,\n    is_active: true\n  },\n  {\n    id: 'univers-glass',\n    slug: 'univers-glass',\n    name: 'UNIVERS GLASS',\n    name_fr: 'UNIVERS GLASS',\n    name_en: 'UNIVERS GLASS',\n    description: 'Vitrerie et menuiserie aluminium',\n    description_fr: 'Vitrerie et menuiserie aluminium',\n    description_en: 'Glazing and aluminum carpentry',\n    icon: 'Building2',\n    primary_color: '#0EA5E9',\n    order_index: 3,\n    is_active: true\n  }\n];\n\nexport function CMSBusinessUnits() {\n  const [businessUnits, setBusinessUnits] = useState<BusinessUnit[]>(DEFAULT_BUSINESS_UNITS);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isApiAvailable, setIsApiAvailable] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [isCreating, setIsCreating] = useState(false);\n  const [formData, setFormData] = useState<Partial<BusinessUnit>>({\n    slug: '',\n    name: '',\n    name_fr: '',\n    name_en: '',\n    description: '',\n    description_fr: '',\n    description_en: '',\n    icon: 'Bed',\n    primary_color: '#B5C233',\n    order_index: 0,\n    is_active: true,\n  });\n\n  useEffect(() => {\n    loadBusinessUnits();\n  }, []);\n\n  const loadBusinessUnits = async () => {\n    try {\n      setIsLoading(true);\n      \n      // ‚ö†Ô∏è API TEMPORAIREMENT D√âSACTIV√âE - Mode local uniquement\n      // Pour √©viter l'erreur 404 jusqu'au red√©ploiement du serveur\n      console.log('üè¢ CMS Business Units: Mode local (API d√©sactiv√©e)');\n      console.log('üí° Pour activer l\\'API: red√©ployez avec \"supabase functions deploy server\"');\n      \n      // Utiliser directement les donn√©es de fallback\n      setBusinessUnits(DEFAULT_BUSINESS_UNITS);\n      setIsApiAvailable(false);\n      setIsLoading(false);\n      \n      /* \n      ==========================================\n      CODE API √Ä D√âCOMMENTER APR√àS RED√âPLOIEMENT\n      ==========================================\n      \n      console.log('üè¢ Chargement des business units depuis Supabase...');\n      \n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/business-units`,\n        {\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n\n      if (!response.ok) {\n        if (response.status === 404) {\n          console.warn('‚ö†Ô∏è Route /business-units retourne 404 - Mode local activ√©');\n          setBusinessUnits(DEFAULT_BUSINESS_UNITS);\n          setIsApiAvailable(false);\n          setIsLoading(false);\n          return;\n        }\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        console.log('‚úÖ Business units charg√©s:', result.data);\n        setBusinessUnits(result.data);\n        setIsApiAvailable(true);\n      } else {\n        console.warn('‚ö†Ô∏è Aucune business unit trouv√©e');\n        setBusinessUnits(DEFAULT_BUSINESS_UNITS);\n        setIsApiAvailable(false);\n      }\n      \n      ==========================================\n      FIN DU CODE √Ä D√âCOMMENTER\n      ==========================================\n      */\n      \n    } catch (error) {\n      console.error('‚ùå Erreur lors du chargement des m√©tiers:', error);\n      setBusinessUnits(DEFAULT_BUSINESS_UNITS);\n      setIsApiAvailable(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const saveAllBusinessUnits = async (units: BusinessUnit[]) => {\n    try {\n      setIsSaving(true);\n      console.log('üíæ Sauvegarde des business units:', units);\n      \n      // Si l'API n'est pas disponible, sauvegarder uniquement en local\n      if (!isApiAvailable) {\n        console.warn('‚ö†Ô∏è API non disponible - Sauvegarde locale uniquement');\n        toast.warning('Mode local: Modifications non synchronis√©es avec le serveur', {\n          duration: 4000\n        });\n        return true;\n      }\n      \n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/business-units`,\n        {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(units),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      \n      if (result.success) {\n        console.log('‚úÖ Business units sauvegard√©s avec succ√®s');\n        return true;\n      } else {\n        throw new Error(result.error || 'Erreur lors de la sauvegarde');\n      }\n    } catch (error) {\n      console.error('‚ùå Erreur lors de la sauvegarde:', error);\n      toast.warning('Sauvegarde locale uniquement (serveur non disponible)', {\n        duration: 4000\n      });\n      // Ne pas bloquer - continuer en mode local\n      return false;\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      let updatedUnits: BusinessUnit[];\n      \n      if (editingId) {\n        // Mise √† jour\n        updatedUnits = businessUnits.map(bu => \n          bu.id === editingId ? { ...bu, ...formData } as BusinessUnit : bu\n        );\n        await saveAllBusinessUnits(updatedUnits);\n        setBusinessUnits(updatedUnits);\n        toast.success('M√©tier mis √† jour avec succ√®s');\n        setEditingId(null);\n      } else {\n        // Cr√©ation\n        const newBusinessUnit: BusinessUnit = {\n          id: formData.slug || `business-unit-${Date.now()}`,\n          slug: formData.slug || `business-unit-${Date.now()}`,\n          name: formData.name || formData.name_fr || '',\n          name_fr: formData.name_fr || '',\n          name_en: formData.name_en || '',\n          description: formData.description || formData.description_fr || '',\n          description_fr: formData.description_fr || '',\n          description_en: formData.description_en || '',\n          icon: formData.icon || 'Bed',\n          primary_color: formData.primary_color || '#B5C233',\n          order_index: formData.order_index || 0,\n          is_active: formData.is_active !== false,\n        };\n        \n        updatedUnits = [...businessUnits, newBusinessUnit];\n        await saveAllBusinessUnits(updatedUnits);\n        setBusinessUnits(updatedUnits);\n        toast.success('M√©tier cr√©√© avec succ√®s');\n        setIsCreating(false);\n      }\n      \n      resetForm();\n    } catch (error) {\n      console.error('Erreur lors de la sauvegarde:', error);\n      toast.error('Erreur lors de la sauvegarde');\n    }\n  };\n\n  const handleEdit = (businessUnit: BusinessUnit) => {\n    setEditingId(businessUnit.id);\n    setFormData(businessUnit);\n    setIsCreating(false);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer ce m√©tier ?')) return;\n    \n    try {\n      const updatedUnits = businessUnits.filter(bu => bu.id !== id);\n      await saveAllBusinessUnits(updatedUnits);\n      setBusinessUnits(updatedUnits);\n      toast.success('M√©tier supprim√© avec succ√®s');\n    } catch (error) {\n      console.error('Erreur lors de la suppression:', error);\n      toast.error('Erreur lors de la suppression');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      slug: '',\n      name: '',\n      name_fr: '',\n      name_en: '',\n      description: '',\n      description_fr: '',\n      description_en: '',\n      icon: 'Bed',\n      primary_color: '#B5C233',\n      order_index: 0,\n      is_active: true,\n    });\n    setEditingId(null);\n    setIsCreating(false);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 rounded-full animate-spin mx-auto mb-4\" \n               style={{ borderColor: '#B5C233', borderTopColor: 'transparent' }}>\n          </div>\n          <p className=\"text-gray-600\">Chargement...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"mb-8 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl text-gray-900 mb-2\">Card M√©tiers</h1>\n          <p className=\"text-gray-600\">\n            G√©rez les 3 m√©tiers du Groupe FIMA\n            {isApiAvailable ? (\n              <span className=\"text-green-600 ml-2\">‚óè Connect√© √† Supabase</span>\n            ) : (\n              <span className=\"text-orange-600 ml-2\">‚óè Mode local (red√©ployez le serveur)</span>\n            )}\n          </p>\n        </div>\n        <button\n          onClick={() => {\n            setIsCreating(true);\n            setEditingId(null);\n            resetForm();\n          }}\n          className=\"flex items-center space-x-2 px-4 py-2 text-white hover:opacity-90 transition-opacity\"\n          style={{ backgroundColor: '#B5C233' }}\n          disabled={isSaving}\n        >\n          <Plus className=\"w-5 h-5\" />\n          <span>Nouveau m√©tier</span>\n        </button>\n      </div>\n\n      {/* Alerte de statut API */}\n      {!isApiAvailable && (\n        <div className=\"mb-6 bg-orange-50 border border-orange-200 p-4\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"w-6 h-6 text-orange-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n            </div>\n            <div className=\"flex-1\">\n              <h3 className=\"text-sm font-medium text-orange-800 mb-1\">\n                Mode local actif\n              </h3>\n              <p className=\"text-sm text-orange-700 mb-2\">\n                L'API Supabase n'est pas disponible (erreur 404). Vous travaillez en mode local avec des donn√©es de fallback.\n              </p>\n              <div className=\"text-xs text-orange-600 bg-orange-100 p-2 font-mono\">\n                üí° Pour activer la synchronisation: <strong>supabase functions deploy server</strong>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Formulaire de cr√©ation/√©dition */}\n      {(isCreating || editingId) && (\n        <div className=\"mb-8 bg-white border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl text-gray-900\">\n              {editingId ? 'Modifier le m√©tier' : 'Nouveau m√©tier'}\n            </h2>\n            <button\n              onClick={resetForm}\n              className=\"text-gray-500 hover:text-gray-700\"\n              disabled={isSaving}\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Identifiant et ordre */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Slug (identifiant unique) *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.slug}\n                  onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Ex: fima-couchage\"\n                  disabled={!!editingId}\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Ne peut pas √™tre modifi√© apr√®s cr√©ation</p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Ordre d'affichage\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.order_index}\n                  onChange={(e) => setFormData({ ...formData, order_index: parseInt(e.target.value) || 0 })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                />\n              </div>\n            </div>\n\n            {/* Nom multilingue */}\n            <div className=\"border-t pt-6\">\n              <h3 className=\"text-lg text-gray-900 mb-4\">üåê Contenu multilingue</h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Nom (Fran√ßais) *\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.name_fr}\n                    onChange={(e) => setFormData({ ...formData, name_fr: e.target.value, name: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                    placeholder=\"Ex: FIMA Couchage\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Nom (English)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.name_en}\n                    onChange={(e) => setFormData({ ...formData, name_en: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                    placeholder=\"Ex: FIMA Bedding\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Description multilingue */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description (Fran√ßais) *\n                </label>\n                <textarea\n                  required\n                  value={formData.description_fr}\n                  onChange={(e) => setFormData({ ...formData, description_fr: e.target.value, description: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"D√©crivez le m√©tier en fran√ßais...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description (English)\n                </label>\n                <textarea\n                  value={formData.description_en}\n                  onChange={(e) => setFormData({ ...formData, description_en: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Describe the business unit in English...\"\n                />\n              </div>\n            </div>\n\n            {/* Ic√¥ne et couleur */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Ic√¥ne\n                </label>\n                <select\n                  value={formData.icon}\n                  onChange={(e) => setFormData({ ...formData, icon: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                >\n                  {AVAILABLE_ICONS.map(icon => (\n                    <option key={icon.value} value={icon.value}>\n                      {icon.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2\">\n                  <Palette className=\"w-4 h-4\" />\n                  Couleur principale\n                </label>\n                <div className=\"flex gap-2\">\n                  <select\n                    value={formData.primary_color}\n                    onChange={(e) => setFormData({ ...formData, primary_color: e.target.value })}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  >\n                    {FIMA_COLORS.map(color => (\n                      <option key={color.value} value={color.value}>\n                        {color.label}\n                      </option>\n                    ))}\n                  </select>\n                  <div\n                    className=\"w-12 h-10 border border-gray-300\"\n                    style={{ backgroundColor: formData.primary_color }}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Statut actif */}\n            <div>\n              <label className=\"flex items-center space-x-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.is_active}\n                  onChange={(e) => setFormData({ ...formData, is_active: e.target.checked })}\n                  className=\"w-4 h-4\"\n                />\n                <span className=\"text-sm text-gray-700\">M√©tier actif (visible sur le site)</span>\n              </label>\n            </div>\n\n            <div className=\"flex items-center space-x-4 pt-4 border-t\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center space-x-2 px-6 py-2 text-white hover:opacity-90 transition-opacity disabled:opacity-50\"\n                style={{ backgroundColor: '#B5C233' }}\n                disabled={isSaving}\n              >\n                <Save className=\"w-4 h-4\" />\n                <span>{isSaving ? 'Sauvegarde...' : 'Enregistrer'}</span>\n              </button>\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-6 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50\"\n                disabled={isSaving}\n              >\n                Annuler\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Liste des m√©tiers */}\n      <div className=\"bg-white border border-gray-200\">\n        {businessUnits.length === 0 ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            <p>Aucun m√©tier configur√©.</p>\n            <p className=\"text-sm mt-2\">Cliquez sur \"Nouveau m√©tier\" pour commencer.</p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 border-b border-gray-200\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                    Ordre\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                    M√©tier\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                    Description (FR)\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                    Ic√¥ne\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                    Couleur\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                    Statut\n                  </th>\n                  <th className=\"px-6 py-3 text-right text-xs uppercase tracking-wider text-gray-500\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {businessUnits\n                  .sort((a, b) => a.order_index - b.order_index)\n                  .map((businessUnit) => (\n                  <tr key={businessUnit.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {businessUnit.order_index}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <div className=\"text-sm text-gray-900\">{businessUnit.name_fr || businessUnit.name}</div>\n                        <div className=\"text-xs text-gray-500\">{businessUnit.slug}</div>\n                        {businessUnit.name_en && (\n                          <div className=\"text-xs text-gray-400 italic\">EN: {businessUnit.name_en}</div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600 max-w-xs\">\n                      <div className=\"truncate\" title={businessUnit.description_fr}>\n                        {businessUnit.description_fr || businessUnit.description}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">\n                      {businessUnit.icon}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center space-x-2\">\n                        <div\n                          className=\"w-6 h-6 border border-gray-300\"\n                          style={{ backgroundColor: businessUnit.primary_color }}\n                        />\n                        <span className=\"text-xs text-gray-600\">{businessUnit.primary_color}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span\n                        className={`inline-flex px-2 py-1 text-xs ${\n                          businessUnit.is_active\n                            ? 'bg-green-100 text-green-800'\n                            : 'bg-gray-100 text-gray-800'\n                        }`}\n                      >\n                        {businessUnit.is_active ? 'Actif' : 'Inactif'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2\">\n                      <button\n                        onClick={() => handleEdit(businessUnit)}\n                        className=\"text-blue-600 hover:text-blue-800 inline-flex items-center\"\n                        disabled={isSaving}\n                      >\n                        <Edit2 className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(businessUnit.id)}\n                        className=\"text-red-600 hover:text-red-800 inline-flex items-center ml-3\"\n                        disabled={isSaving}\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9135, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSCategories.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Plus, Edit, Trash2, X, Save, RefreshCw, Upload, Image as ImageIcon } from 'lucide-react';\nimport { toast } from 'sonner@2.0.3';\nimport { useCMSCategories, CMSCategory } from '../../hooks/useCMSCategories';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\n\nexport function CMSCategories() {\n  const { categories, loading, refetch } = useCMSCategories();\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [isCreating, setIsCreating] = useState(false);\n  const [isInitializing, setIsInitializing] = useState(false);\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const [selectedFilter, setSelectedFilter] = useState<string>('all');\n  const [formData, setFormData] = useState<Partial<CMSCategory>>({\n    name: '',\n    slug: '',\n    description: '',\n    parent_id: null,\n    color: '#B5C233',\n    icon_emoji: 'üì¶',\n    order_index: 0,\n    is_active: true,\n    business_unit: 'all',\n    images: [],\n    thumbnail: '',\n  });\n\n  // Fonction pour initialiser des cat√©gories par d√©faut\n  const initializeDefaultCategories = async () => {\n    setIsInitializing(true);\n    try {\n      const defaultCategories: Partial<CMSCategory>[] = [\n        // FIMA Couchage\n        { name: 'Matelas', slug: 'matelas', business_unit: 'couchage', icon_emoji: 'üõèÔ∏è', color: '#B5C233', order_index: 1, is_active: true },\n        { name: 'Sommiers', slug: 'sommiers', business_unit: 'couchage', icon_emoji: 'üìê', color: '#B5C233', order_index: 2, is_active: true },\n        { name: 'Oreillers', slug: 'oreillers', business_unit: 'couchage', icon_emoji: 'üéØ', color: '#B5C233', order_index: 3, is_active: true },\n        { name: 'Linge de lit', slug: 'linge-de-lit', business_unit: 'couchage', icon_emoji: 'üß∫', color: '#B5C233', order_index: 4, is_active: true },\n        \n        // FIMA Design\n        { name: 'Bureaux', slug: 'bureaux', business_unit: 'design', icon_emoji: 'ü™ë', color: '#6E6E6E', order_index: 5, is_active: true },\n        { name: 'Chaises', slug: 'chaises', business_unit: 'design', icon_emoji: 'üí∫', color: '#6E6E6E', order_index: 6, is_active: true },\n        { name: 'Tables', slug: 'tables', business_unit: 'design', icon_emoji: 'ü™µ', color: '#6E6E6E', order_index: 7, is_active: true },\n        { name: 'Rangements', slug: 'rangements', business_unit: 'design', icon_emoji: 'üóÑÔ∏è', color: '#6E6E6E', order_index: 8, is_active: true },\n        \n        // Univers Glass\n        { name: 'Vitrines', slug: 'vitrines', business_unit: 'univers-glass', icon_emoji: 'ü™ü', color: '#0EA5E9', order_index: 9, is_active: true },\n        { name: 'Miroirs', slug: 'miroirs', business_unit: 'univers-glass', icon_emoji: 'ü™û', color: '#0EA5E9', order_index: 10, is_active: true },\n        { name: 'Portes vitr√©es', slug: 'portes-vitrees', business_unit: 'univers-glass', icon_emoji: 'üö™', color: '#0EA5E9', order_index: 11, is_active: true },\n        { name: 'Verri√®res', slug: 'verrieres', business_unit: 'univers-glass', icon_emoji: 'üè†', color: '#0EA5E9', order_index: 12, is_active: true },\n      ];\n\n      // Cr√©er chaque cat√©gorie via l'API\n      const promises = defaultCategories.map(cat =>\n        fetch(`https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/categories`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(cat)\n        })\n      );\n\n      await Promise.all(promises);\n      \n      toast.success(`${defaultCategories.length} cat√©gories initialis√©es avec succ√®s !`);\n      refetch();\n    } catch (error) {\n      console.error('Erreur lors de l\\'initialisation:', error);\n      toast.error('Erreur lors de l\\'initialisation des cat√©gories');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n\n  const generateSlug = (name: string) => {\n    return name\n      .toLowerCase()\n      .normalize('NFD')\n      .replace(/[\\u0300-\\u036f]/g, '')\n      .replace(/[^a-z0-9]+/g, '-')\n      .replace(/(^-|-$)/g, '');\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      const slug = formData.slug || generateSlug(formData.name || '');\n      const method = editingId ? 'PUT' : 'POST';\n      const url = editingId \n        ? `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/categories/${editingId}`\n        : `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/categories`;\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Authorization': `Bearer ${publicAnonKey}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ ...formData, slug })\n      });\n\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error || 'Erreur lors de la sauvegarde');\n      }\n\n      toast.success(editingId ? 'Cat√©gorie mise √† jour' : 'Cat√©gorie cr√©√©e');\n      resetForm();\n      refetch();\n    } catch (error) {\n      console.error('Erreur lors de la sauvegarde:', error);\n      toast.error(error instanceof Error ? error.message : 'Erreur lors de la sauvegarde');\n    }\n  };\n\n  const handleEdit = (category: CMSCategory) => {\n    setEditingId(category.id);\n    setFormData(category);\n    setIsCreating(false);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer cette cat√©gorie ?')) return;\n    \n    try {\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/categories/${id}`,\n        {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error || 'Erreur lors de la suppression');\n      }\n\n      toast.success('Cat√©gorie supprim√©e');\n      refetch();\n    } catch (error) {\n      console.error('Erreur lors de la suppression:', error);\n      toast.error(error instanceof Error ? error.message : 'Erreur lors de la suppression');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      slug: '',\n      description: '',\n      parent_id: null,\n      color: '#B5C233',\n      icon_emoji: 'üì¶',\n      order_index: 0,\n      is_active: true,\n      business_unit: 'all',\n      images: [],\n      thumbnail: '',\n    });\n    setEditingId(null);\n    setIsCreating(false);\n  };\n\n  const getBusinessUnitLabel = (unit: string) => {\n    switch (unit) {\n      case 'couchage': return 'FIMA Couchage';\n      case 'design': return 'FIMA Design';\n      case 'univers-glass': return 'Univers Glass';\n      case 'all': return 'Tous les m√©tiers';\n      default: return unit;\n    }\n  };\n\n  const getBusinessUnitColor = (unit: string) => {\n    switch (unit) {\n      case 'couchage': return '#B5C233';\n      case 'design': return '#6E6E6E';\n      case 'univers-glass': return '#0EA5E9';\n      default: return '#B5C233';\n    }\n  };\n\n  // Filtrer les cat√©gories selon le m√©tier s√©lectionn√©\n  const filteredCategories = selectedFilter === 'all' \n    ? categories \n    : categories.filter(cat => cat.business_unit === selectedFilter || cat.business_unit === 'all');\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 rounded-full animate-spin mx-auto mb-4\" \n               style={{ borderColor: '#B5C233', borderTopColor: 'transparent' }}>\n          </div>\n          <p className=\"text-gray-600\">Chargement...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"mb-8 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl text-gray-900 mb-2\">Cat√©gories</h1>\n          <p className=\"text-gray-600\">G√©rez les cat√©gories de produits par m√©tier</p>\n        </div>\n        <button\n          onClick={() => setIsCreating(true)}\n          className=\"flex items-center space-x-2 px-4 py-2 text-white hover:opacity-90 transition-opacity\"\n          style={{ backgroundColor: '#B5C233' }}\n        >\n          <Plus className=\"w-5 h-5\" />\n          <span>Nouvelle cat√©gorie</span>\n        </button>\n      </div>\n\n      {/* Filtres par m√©tier */}\n      <div className=\"mb-6\">\n        <p className=\"text-sm text-gray-600 mb-3\">Filtrer par m√©tier :</p>\n        <div className=\"flex flex-wrap gap-3\">\n          <button\n            onClick={() => setSelectedFilter('all')}\n            className={`px-4 py-2 transition-all ${\n              selectedFilter === 'all'\n                ? 'text-white shadow-md'\n                : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'\n            }`}\n            style={selectedFilter === 'all' ? { backgroundColor: '#B5C233' } : {}}\n          >\n            <span className=\"flex items-center space-x-2\">\n              <span>üè¢</span>\n              <span>Tous les m√©tiers</span>\n              <span className=\"ml-1 px-2 py-0.5 text-xs rounded-full bg-white/20\">\n                {categories.length}\n              </span>\n            </span>\n          </button>\n\n          <button\n            onClick={() => setSelectedFilter('couchage')}\n            className={`px-4 py-2 transition-all ${\n              selectedFilter === 'couchage'\n                ? 'text-white shadow-md'\n                : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'\n            }`}\n            style={selectedFilter === 'couchage' ? { backgroundColor: '#B5C233' } : {}}\n          >\n            <span className=\"flex items-center space-x-2\">\n              <span>üõèÔ∏è</span>\n              <span>FIMA Couchage</span>\n              <span className=\"ml-1 px-2 py-0.5 text-xs rounded-full bg-white/20\">\n                {categories.filter(c => c.business_unit === 'couchage' || c.business_unit === 'all').length}\n              </span>\n            </span>\n          </button>\n\n          <button\n            onClick={() => setSelectedFilter('design')}\n            className={`px-4 py-2 transition-all ${\n              selectedFilter === 'design'\n                ? 'text-white shadow-md'\n                : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'\n            }`}\n            style={selectedFilter === 'design' ? { backgroundColor: '#6E6E6E' } : {}}\n          >\n            <span className=\"flex items-center space-x-2\">\n              <span>ü™ë</span>\n              <span>FIMA Design</span>\n              <span className=\"ml-1 px-2 py-0.5 text-xs rounded-full bg-white/20\">\n                {categories.filter(c => c.business_unit === 'design' || c.business_unit === 'all').length}\n              </span>\n            </span>\n          </button>\n\n          <button\n            onClick={() => setSelectedFilter('univers-glass')}\n            className={`px-4 py-2 transition-all ${\n              selectedFilter === 'univers-glass'\n                ? 'text-white shadow-md'\n                : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'\n            }`}\n            style={selectedFilter === 'univers-glass' ? { backgroundColor: '#0EA5E9' } : {}}\n          >\n            <span className=\"flex items-center space-x-2\">\n              <span>ü™ü</span>\n              <span>Univers Glass</span>\n              <span className=\"ml-1 px-2 py-0.5 text-xs rounded-full bg-white/20\">\n                {categories.filter(c => c.business_unit === 'univers-glass' || c.business_unit === 'all').length}\n              </span>\n            </span>\n          </button>\n        </div>\n      </div>\n\n      {/* Bouton d'initialisation des cat√©gories */}\n      <div className=\"mb-8\">\n        <div className=\"bg-blue-50 border border-blue-200 p-4 flex items-center justify-between\">\n          <div>\n            <p className=\"text-sm text-blue-900 font-medium\">Besoin de cat√©gories par d√©faut ?</p>\n            <p className=\"text-xs text-blue-700\">Initialise 12 cat√©gories pr√™tes √† l'emploi pour les 3 m√©tiers</p>\n          </div>\n          <button\n            onClick={initializeDefaultCategories}\n            disabled={isInitializing || categories.length > 0}\n            className=\"flex items-center space-x-2 px-4 py-2 text-white hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed\"\n            style={{ backgroundColor: '#0EA5E9' }}\n          >\n            <RefreshCw className={`w-4 h-4 ${isInitializing ? 'animate-spin' : ''}`} />\n            <span>{isInitializing ? 'Initialisation...' : 'Initialiser cat√©gories'}</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Modal de cr√©ation/√©dition */}\n      {(isCreating || editingId) && (\n        <div className=\"fixed inset-0 z-50 overflow-hidden\">\n          {/* Overlay */}\n          <div \n            className=\"absolute inset-0 bg-black/50 transition-opacity\"\n            onClick={resetForm}\n          />\n          \n          {/* Modal */}\n          <div className=\"absolute inset-y-0 right-0 w-full max-w-3xl bg-white shadow-xl flex flex-col\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b\">\n              <h2 className=\"text-xl text-gray-900\">\n                {editingId ? 'Modifier la cat√©gorie' : 'Nouvelle cat√©gorie'}\n              </h2>\n              <button\n                onClick={resetForm}\n                className=\"text-gray-500 hover:text-gray-700 p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* Contenu scrollable */}\n            <div className=\"flex-1 overflow-y-auto p-6\">\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm text-gray-700 mb-2\">\n                  Nom *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.name}\n                  onChange={(e) => {\n                    const name = e.target.value;\n                    setFormData({ \n                      ...formData, \n                      name,\n                      slug: generateSlug(name)\n                    });\n                  }}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Ex: Matelas\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-gray-700 mb-2\">\n                  Slug (URL)\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.slug}\n                  onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"matelas\"\n                />\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm text-gray-700 mb-2\">\n                  Description\n                </label>\n                <textarea\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Description de la cat√©gorie...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-gray-700 mb-2\">\n                  M√©tier\n                </label>\n                <select\n                  value={formData.business_unit}\n                  onChange={(e) => setFormData({ ...formData, business_unit: e.target.value as any })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                >\n                  <option value=\"all\">Tous les m√©tiers</option>\n                  <option value=\"couchage\">FIMA Couchage</option>\n                  <option value=\"design\">FIMA Design</option>\n                  <option value=\"univers-glass\">Univers Glass</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-gray-700 mb-2\">\n                  Cat√©gorie parente\n                </label>\n                <select\n                  value={formData.parent_id || ''}\n                  onChange={(e) => setFormData({ ...formData, parent_id: e.target.value || null })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                >\n                  <option value=\"\">Aucune (cat√©gorie racine)</option>\n                  {categories\n                    .filter(cat => cat.id !== editingId)\n                    .map(cat => (\n                      <option key={cat.id} value={cat.id}>{cat.name}</option>\n                    ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-gray-700 mb-2\">\n                  Ic√¥ne (Emoji)\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.icon_emoji}\n                  onChange={(e) => setFormData({ ...formData, icon_emoji: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"üì¶\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-gray-700 mb-2\">\n                  Couleur\n                </label>\n                <input\n                  type=\"color\"\n                  value={formData.color}\n                  onChange={(e) => setFormData({ ...formData, color: e.target.value })}\n                  className=\"w-full h-10 px-1 py-1 border border-gray-300\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-gray-700 mb-2\">\n                  Ordre d'affichage\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.order_index}\n                  onChange={(e) => setFormData({ ...formData, order_index: parseInt(e.target.value) })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.is_active}\n                    onChange={(e) => setFormData({ ...formData, is_active: e.target.checked })}\n                    className=\"w-4 h-4\"\n                  />\n                  <span className=\"text-sm text-gray-700\">Cat√©gorie active</span>\n                </label>\n              </div>\n            </div>\n\n            {/* Section Images */}\n            <div className=\"border-t border-gray-200 pt-6\">\n              <h3 className=\"text-lg text-gray-900 mb-4 flex items-center space-x-2\">\n                <ImageIcon className=\"w-5 h-5\" />\n                <span>Images de la cat√©gorie</span>\n              </h3>\n              \n              <div className=\"space-y-4\">\n                {/* Image miniature / principale */}\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">\n                    Image miniature (URL) *\n                  </label>\n                  <input\n                    type=\"url\"\n                    value={formData.thumbnail || ''}\n                    onChange={(e) => setFormData({ ...formData, thumbnail: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                    placeholder=\"https://exemple.com/image.jpg\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Cette image sera utilis√©e comme vignette et image principale de la cat√©gorie\n                  </p>\n                  {formData.thumbnail && (\n                    <div className=\"mt-2\">\n                      <img\n                        src={formData.thumbnail}\n                        alt=\"Aper√ßu\"\n                        className=\"w-32 h-32 object-cover border border-gray-300\"\n                        onError={(e) => {\n                          (e.target as HTMLImageElement).style.display = 'none';\n                        }}\n                      />\n                    </div>\n                  )}\n                </div>\n\n                {/* Galerie d'images */}\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">\n                    Galerie d'images (URLs s√©par√©es par des virgules)\n                  </label>\n                  <textarea\n                    value={(formData.images || []).join(', ')}\n                    onChange={(e) => {\n                      const urls = e.target.value\n                        .split(',')\n                        .map(url => url.trim())\n                        .filter(url => url.length > 0);\n                      setFormData({ ...formData, images: urls });\n                    }}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                    placeholder=\"https://exemple.com/image1.jpg, https://exemple.com/image2.jpg, ...\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Ajoutez plusieurs URLs d'images s√©par√©es par des virgules pour cr√©er une galerie\n                  </p>\n                  {formData.images && formData.images.length > 0 && (\n                    <div className=\"mt-3 grid grid-cols-4 gap-2\">\n                      {formData.images.map((url, index) => (\n                        <div key={index} className=\"relative\">\n                          <img\n                            src={url}\n                            alt={`Image ${index + 1}`}\n                            className=\"w-full h-24 object-cover border border-gray-300\"\n                            onError={(e) => {\n                              (e.target as HTMLImageElement).src = 'https://via.placeholder.com/150?text=Erreur';\n                            }}\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={() => {\n                              const newImages = formData.images?.filter((_, i) => i !== index) || [];\n                              setFormData({ ...formData, images: newImages });\n                            }}\n                            className=\"absolute top-1 right-1 bg-red-500 text-white p-1 hover:bg-red-600\"\n                          >\n                            <X className=\"w-3 h-3\" />\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"bg-blue-50 border border-blue-200 p-4\">\n                  <p className=\"text-xs text-blue-900\">\n                    üí° <strong>Astuce :</strong> Vous pouvez t√©l√©charger vos images sur des services comme{' '}\n                    <a href=\"https://imgur.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline\">Imgur</a>,{' '}\n                    <a href=\"https://imgbb.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline\">ImgBB</a> ou{' '}\n                    <a href=\"https://cloudinary.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline\">Cloudinary</a>,{' '}\n                    puis coller les URLs ici. Pour de meilleures performances, utilisez des images optimis√©es (JPG, WebP) d'environ 1200x800px.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n                <div className=\"flex items-center space-x-4 pt-4 border-t\">\n                  <button\n                    type=\"submit\"\n                    className=\"flex items-center space-x-2 px-6 py-2 text-white hover:opacity-90 transition-opacity\"\n                    style={{ backgroundColor: '#B5C233' }}\n                  >\n                    <Save className=\"w-4 h-4\" />\n                    <span>Enregistrer</span>\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={resetForm}\n                    className=\"px-6 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50\"\n                  >\n                    Annuler\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Liste des cat√©gories */}\n      <div className=\"bg-white border border-gray-200\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Cat√©gorie\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  M√©tier\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Slug\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Ordre\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Statut\n                </th>\n                <th className=\"px-6 py-3 text-right text-xs uppercase tracking-wider text-gray-500\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {filteredCategories.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-8 text-center text-gray-500\">\n                    {selectedFilter === 'all' \n                      ? 'Aucune cat√©gorie. Cr√©ez-en une pour commencer.'\n                      : `Aucune cat√©gorie pour ${getBusinessUnitLabel(selectedFilter)}.`\n                    }\n                  </td>\n                </tr>\n              ) : (\n                filteredCategories\n                  .sort((a, b) => a.order_index - b.order_index)\n                  .map((category) => (\n                  <tr key={category.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"text-2xl\">{category.icon_emoji}</span>\n                        <div>\n                          <div className=\"text-sm text-gray-900\">{category.name}</div>\n                          {category.description && (\n                            <div className=\"text-xs text-gray-500\">{category.description}</div>\n                          )}\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\n                      {getBusinessUnitLabel(category.business_unit)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <code className=\"text-xs bg-gray-100 px-2 py-1 text-gray-800\">\n                        /{category.slug}\n                      </code>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {category.order_index}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span\n                        className={`inline-flex px-2 py-1 text-xs ${\n                          category.is_active\n                            ? 'bg-green-100 text-green-800'\n                            : 'bg-gray-100 text-gray-800'\n                        }`}\n                      >\n                        {category.is_active ? 'Active' : 'Inactive'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2\">\n                      <button\n                        onClick={() => handleEdit(category)}\n                        className=\"text-blue-600 hover:text-blue-800 inline-flex items-center\"\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(category.id)}\n                        className=\"text-red-600 hover:text-red-800 inline-flex items-center ml-3\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10758, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSProjects.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Plus, Edit2, Trash2, Save, X, Image as ImageIcon, MapPin, Calendar } from 'lucide-react';\nimport { toast } from 'sonner@2.0.3';\n\ninterface Project {\n  id: string;\n  title: string;\n  client_name: string;\n  location: string;\n  category: string;\n  description: string;\n  images: string[];\n  date: string;\n  is_featured: boolean;\n  business_unit: 'couchage' | 'design' | 'univers-glass' | 'all';\n  testimonial_text?: string;\n  testimonial_author?: string;\n  order_index: number;\n}\n\nexport function CMSProjects() {\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [isCreating, setIsCreating] = useState(false);\n  const [formData, setFormData] = useState<Partial<Project>>({\n    title: '',\n    client_name: '',\n    location: '',\n    category: '',\n    description: '',\n    images: [],\n    date: new Date().toISOString().split('T')[0],\n    is_featured: false,\n    business_unit: 'all',\n    testimonial_text: '',\n    testimonial_author: '',\n    order_index: 0,\n  });\n\n  useEffect(() => {\n    loadProjects();\n  }, []);\n\n  const loadProjects = async () => {\n    try {\n      setIsLoading(true);\n      // TODO: Charger depuis Supabase\n      // Mock data pour l'instant\n      setProjects([\n        {\n          id: '1',\n          title: 'H√¥tel Premium Dakar',\n          client_name: 'H√¥tel Terrou-Bi',\n          location: 'Dakar, S√©n√©gal',\n          category: 'H√¥tellerie',\n          description: '√âquipement complet de 150 chambres avec matelas premium et mobilier sur mesure',\n          images: ['https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800'],\n          date: '2024-01-15',\n          is_featured: true,\n          business_unit: 'couchage',\n          testimonial_text: 'Un partenariat exceptionnel qui a transform√© notre √©tablissement',\n          testimonial_author: 'Directeur G√©n√©ral',\n          order_index: 1,\n        },\n        {\n          id: '2',\n          title: 'Menuiserie Corporate',\n          client_name: 'Sonatel',\n          location: 'Abidjan, C√¥te d\\'Ivoire',\n          category: 'Corporate',\n          description: 'Am√©nagement de bureaux sur mesure pour 200 employ√©s',\n          images: ['https://images.unsplash.com/photo-1497366216548-37526070297c?w=800'],\n          date: '2024-02-20',\n          is_featured: true,\n          business_unit: 'design',\n          testimonial_text: 'Un travail remarquable et professionnel',\n          testimonial_author: 'Responsable des Achats',\n          order_index: 2,\n        },\n        {\n          id: '3',\n          title: 'Fa√ßade Vitr√©e Moderne',\n          client_name: 'Centre Commercial Sea Plaza',\n          location: 'Dakar, S√©n√©gal',\n          category: 'Commercial',\n          description: 'Installation de 500m¬≤ de fa√ßade vitr√©e aluminium',\n          images: ['https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800'],\n          date: '2024-03-10',\n          is_featured: false,\n          business_unit: 'univers-glass',\n          order_index: 3,\n        },\n      ]);\n    } catch (error) {\n      console.error('Erreur lors du chargement des projets:', error);\n      toast.error('Erreur lors du chargement des projets');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      if (editingId) {\n        // Mise √† jour\n        setProjects(prev => prev.map(proj => \n          proj.id === editingId ? { ...proj, ...formData } as Project : proj\n        ));\n        toast.success('Projet mis √† jour avec succ√®s');\n        setEditingId(null);\n      } else {\n        // Cr√©ation\n        const newProject: Project = {\n          id: Date.now().toString(),\n          ...formData as Project,\n        };\n        setProjects(prev => [...prev, newProject]);\n        toast.success('Projet cr√©√© avec succ√®s');\n        setIsCreating(false);\n      }\n      \n      resetForm();\n    } catch (error) {\n      console.error('Erreur lors de la sauvegarde:', error);\n      toast.error('Erreur lors de la sauvegarde');\n    }\n  };\n\n  const handleEdit = (project: Project) => {\n    setEditingId(project.id);\n    setFormData(project);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer ce projet ?')) return;\n    \n    try {\n      setProjects(prev => prev.filter(proj => proj.id !== id));\n      toast.success('Projet supprim√© avec succ√®s');\n    } catch (error) {\n      console.error('Erreur lors de la suppression:', error);\n      toast.error('Erreur lors de la suppression');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      client_name: '',\n      location: '',\n      category: '',\n      description: '',\n      images: [],\n      date: new Date().toISOString().split('T')[0],\n      is_featured: false,\n      business_unit: 'all',\n      testimonial_text: '',\n      testimonial_author: '',\n      order_index: 0,\n    });\n    setEditingId(null);\n    setIsCreating(false);\n  };\n\n  const getBusinessUnitLabel = (unit: string) => {\n    switch (unit) {\n      case 'couchage': return 'FIMA Couchage';\n      case 'design': return 'FIMA Design';\n      case 'univers-glass': return 'Univers Glass';\n      case 'all': return 'Tous les m√©tiers';\n      default: return unit;\n    }\n  };\n\n  const handleImageUrlsChange = (value: string) => {\n    const urls = value.split('\\n').filter(url => url.trim());\n    setFormData({ ...formData, images: urls });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 rounded-full animate-spin mx-auto mb-4\" \n               style={{ borderColor: '#B5C233', borderTopColor: 'transparent' }}>\n          </div>\n          <p className=\"text-gray-600\">Chargement...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"mb-8 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl text-gray-900 mb-2\">Projets</h1>\n          <p className=\"text-gray-600\">G√©rez vos r√©alisations clients et √©tudes de cas</p>\n        </div>\n        <button\n          onClick={() => setIsCreating(true)}\n          className=\"flex items-center space-x-2 px-4 py-2 text-white hover:opacity-90 transition-opacity\"\n          style={{ backgroundColor: '#B5C233' }}\n        >\n          <Plus className=\"w-5 h-5\" />\n          <span>Nouveau projet</span>\n        </button>\n      </div>\n\n      {/* Formulaire de cr√©ation/√©dition */}\n      {(isCreating || editingId) && (\n        <div className=\"mb-8 bg-white border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl text-gray-900\">\n              {editingId ? 'Modifier le projet' : 'Nouveau projet'}\n            </h2>\n            <button\n              onClick={resetForm}\n              className=\"text-gray-500 hover:text-gray-700\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Titre du projet *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.title}\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Ex: H√¥tel Premium Dakar\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Client *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.client_name}\n                  onChange={(e) => setFormData({ ...formData, client_name: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Ex: H√¥tel Terrou-Bi\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Localisation *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.location}\n                  onChange={(e) => setFormData({ ...formData, location: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Ex: Dakar, S√©n√©gal\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Cat√©gorie *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.category}\n                  onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Ex: H√¥tellerie, Corporate, R√©sidentiel...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Date de r√©alisation\n                </label>\n                <input\n                  type=\"date\"\n                  value={formData.date}\n                  onChange={(e) => setFormData({ ...formData, date: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                />\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description *\n                </label>\n                <textarea\n                  required\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  rows={4}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"D√©crivez le projet...\"\n                />\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  URLs des images (une par ligne)\n                </label>\n                <textarea\n                  value={formData.images?.join('\\n') || ''}\n                  onChange={(e) => handleImageUrlsChange(e.target.value)}\n                  rows={4}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500 font-mono text-sm\"\n                  placeholder=\"https://example.com/image1.jpg&#10;https://example.com/image2.jpg\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  M√©tier\n                </label>\n                <select\n                  value={formData.business_unit}\n                  onChange={(e) => setFormData({ ...formData, business_unit: e.target.value as any })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                >\n                  <option value=\"all\">Tous les m√©tiers</option>\n                  <option value=\"couchage\">FIMA Couchage</option>\n                  <option value=\"design\">FIMA Design</option>\n                  <option value=\"univers-glass\">Univers Glass</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Ordre d'affichage\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.order_index}\n                  onChange={(e) => setFormData({ ...formData, order_index: parseInt(e.target.value) })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                />\n              </div>\n\n              <div className=\"md:col-span-2 border-t border-gray-200 pt-6\">\n                <h3 className=\"text-lg text-gray-900 mb-4\">T√©moignage client (optionnel)</h3>\n                \n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Citation\n                    </label>\n                    <textarea\n                      value={formData.testimonial_text}\n                      onChange={(e) => setFormData({ ...formData, testimonial_text: e.target.value })}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                      placeholder=\"Le t√©moignage du client...\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Auteur du t√©moignage\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.testimonial_author}\n                      onChange={(e) => setFormData({ ...formData, testimonial_author: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                      placeholder=\"Ex: Directeur G√©n√©ral\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.is_featured}\n                    onChange={(e) => setFormData({ ...formData, is_featured: e.target.checked })}\n                    className=\"w-4 h-4\"\n                  />\n                  <span className=\"text-sm text-gray-700\">Projet √† la une (affich√© en priorit√©)</span>\n                </label>\n              </div>\n            </div>\n\n            <div className=\"flex items-center space-x-4\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center space-x-2 px-6 py-2 text-white hover:opacity-90 transition-opacity\"\n                style={{ backgroundColor: '#B5C233' }}\n              >\n                <Save className=\"w-4 h-4\" />\n                <span>Enregistrer</span>\n              </button>\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-6 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50\"\n              >\n                Annuler\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Liste des projets */}\n      <div className=\"bg-white border border-gray-200\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Projet\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Client\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  M√©tier\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Date\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Statut\n                </th>\n                <th className=\"px-6 py-3 text-right text-xs uppercase tracking-wider text-gray-500\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {projects\n                .sort((a, b) => a.order_index - b.order_index)\n                .map((project) => (\n                <tr key={project.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex items-center space-x-3\">\n                      {project.images && project.images.length > 0 ? (\n                        <img\n                          src={project.images[0]}\n                          alt={project.title}\n                          className=\"w-16 h-16 object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-16 h-16 bg-gray-200 flex items-center justify-center\">\n                          <ImageIcon className=\"w-8 h-8 text-gray-400\" />\n                        </div>\n                      )}\n                      <div>\n                        <div className=\"text-sm text-gray-900\">{project.title}</div>\n                        <div className=\"text-xs text-gray-500 flex items-center space-x-1\">\n                          <MapPin className=\"w-3 h-3\" />\n                          <span>{project.location}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"text-sm text-gray-900\">{project.client_name}</div>\n                    <div className=\"text-xs text-gray-500\">{project.category}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\n                    {getBusinessUnitLabel(project.business_unit)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center text-sm text-gray-600\">\n                      <Calendar className=\"w-4 h-4 mr-1\" />\n                      {new Date(project.date).toLocaleDateString('fr-FR')}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {project.is_featured && (\n                      <span className=\"inline-flex px-2 py-1 text-xs bg-yellow-100 text-yellow-800\">\n                        √Ä la une\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2\">\n                    <button\n                      onClick={() => handleEdit(project)}\n                      className=\"text-blue-600 hover:text-blue-800 inline-flex items-center\"\n                    >\n                      <Edit2 className=\"w-4 h-4\" />\n                    </button>\n                    <button\n                      onClick={() => handleDelete(project.id)}\n                      className=\"text-red-600 hover:text-red-800 inline-flex items-center ml-3\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11884, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSCallToAction.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Plus, Edit2, Trash2, Save, X, Eye, MousePointer } from 'lucide-react';\nimport { toast } from 'sonner@2.0.3';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\n\ninterface CallToAction {\n  id: string;\n  title: string;\n  description: string;\n  button_text: string;\n  button_link: string;\n  button_style: 'primary' | 'secondary' | 'outline';\n  background_color: string;\n  text_color: string;\n  position: 'hero' | 'footer' | 'sidebar' | 'inline';\n  is_active: boolean;\n  order_index: number;\n}\n\nexport function CMSCallToAction() {\n  const [ctas, setCtas] = useState<CallToAction[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [isCreating, setIsCreating] = useState(false);\n  const [formData, setFormData] = useState<Partial<CallToAction>>({\n    title: '',\n    description: '',\n    button_text: '',\n    button_link: '',\n    button_style: 'primary',\n    background_color: '#B5C233',\n    text_color: '#FFFFFF',\n    position: 'inline',\n    is_active: true,\n    order_index: 0,\n  });\n\n  useEffect(() => {\n    loadCTAs();\n  }, []);\n\n  const loadCTAs = async () => {\n    try {\n      setIsLoading(true);\n      \n      // Charger depuis Supabase via API\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/call-to-actions/all`,\n        {\n          headers: {\n            Authorization: `Bearer ${publicAnonKey}`,\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Erreur ${response.status}: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      \n      if (data.success && Array.isArray(data.data)) {\n        setCtas(data.data);\n        console.log(`‚úÖ ${data.data.length} CTAs charg√©s depuis Supabase`);\n      } else {\n        throw new Error('Format de r√©ponse inattendu');\n      }\n    } catch (error) {\n      console.error('‚ùå Erreur lors du chargement des CTA:', error);\n      toast.error('Erreur lors du chargement des CTA');\n      // En cas d'erreur, utiliser des donn√©es par d√©faut\n      setCtas([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      if (editingId) {\n        // Mise √† jour\n        const response = await fetch(\n          `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/call-to-actions/${editingId}`,\n          {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json',\n              Authorization: `Bearer ${publicAnonKey}`,\n            },\n            body: JSON.stringify(formData),\n          }\n        );\n\n        if (!response.ok) {\n          throw new Error(`Erreur ${response.status}: ${response.statusText}`);\n        }\n\n        const data = await response.json();\n        \n        if (data.success) {\n          toast.success('CTA mis √† jour avec succ√®s');\n          setEditingId(null);\n          loadCTAs(); // Recharger la liste\n        } else {\n          throw new Error(data.error || 'Erreur lors de la mise √† jour');\n        }\n      } else {\n        // Cr√©ation\n        const response = await fetch(\n          `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/call-to-actions`,\n          {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              Authorization: `Bearer ${publicAnonKey}`,\n            },\n            body: JSON.stringify(formData),\n          }\n        );\n\n        if (!response.ok) {\n          throw new Error(`Erreur ${response.status}: ${response.statusText}`);\n        }\n\n        const data = await response.json();\n        \n        if (data.success) {\n          toast.success('CTA cr√©√© avec succ√®s');\n          setIsCreating(false);\n          loadCTAs(); // Recharger la liste\n        } else {\n          throw new Error(data.error || 'Erreur lors de la cr√©ation');\n        }\n      }\n      \n      resetForm();\n    } catch (error) {\n      console.error('‚ùå Erreur lors de la sauvegarde:', error);\n      toast.error(error instanceof Error ? error.message : 'Erreur lors de la sauvegarde');\n    }\n  };\n\n  const handleEdit = (cta: CallToAction) => {\n    setEditingId(cta.id);\n    setFormData(cta);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer ce CTA ?')) return;\n    \n    try {\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/call-to-actions/${id}`,\n        {\n          method: 'DELETE',\n          headers: {\n            Authorization: `Bearer ${publicAnonKey}`,\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Erreur ${response.status}: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      \n      if (data.success) {\n        toast.success('CTA supprim√© avec succ√®s');\n        loadCTAs(); // Recharger la liste\n      } else {\n        throw new Error(data.error || 'Erreur lors de la suppression');\n      }\n    } catch (error) {\n      console.error('‚ùå Erreur lors de la suppression:', error);\n      toast.error(error instanceof Error ? error.message : 'Erreur lors de la suppression');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      description: '',\n      button_text: '',\n      button_link: '',\n      button_style: 'primary',\n      background_color: '#B5C233',\n      text_color: '#FFFFFF',\n      position: 'inline',\n      is_active: true,\n      order_index: 0,\n    });\n    setEditingId(null);\n    setIsCreating(false);\n  };\n\n  const getPositionLabel = (position: string) => {\n    switch (position) {\n      case 'hero': return 'Hero (haut de page)';\n      case 'footer': return 'Footer (bas de page)';\n      case 'sidebar': return 'Sidebar (colonne lat√©rale)';\n      case 'inline': return 'Inline (dans le contenu)';\n      default: return position;\n    }\n  };\n\n  const getButtonStylePreview = (style: string, bgColor: string, textColor: string) => {\n    switch (style) {\n      case 'primary':\n        return { backgroundColor: bgColor, color: textColor, border: 'none' };\n      case 'secondary':\n        return { backgroundColor: bgColor, color: textColor, border: 'none', opacity: 0.9 };\n      case 'outline':\n        return { backgroundColor: 'transparent', color: textColor, border: `2px solid ${textColor}` };\n      default:\n        return { backgroundColor: bgColor, color: textColor };\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 rounded-full animate-spin mx-auto mb-4\" \n               style={{ borderColor: '#B5C233', borderTopColor: 'transparent' }}>\n          </div>\n          <p className=\"text-gray-600\">Chargement...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"mb-8 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl text-gray-900 mb-2\">Call to Action</h1>\n          <p className=\"text-gray-600\">G√©rez les boutons d'appel √† l'action sur le site</p>\n        </div>\n        <button\n          onClick={() => setIsCreating(true)}\n          className=\"flex items-center space-x-2 px-4 py-2 text-white hover:opacity-90 transition-opacity\"\n          style={{ backgroundColor: '#B5C233' }}\n        >\n          <Plus className=\"w-5 h-5\" />\n          <span>Nouveau CTA</span>\n        </button>\n      </div>\n\n      {/* Formulaire de cr√©ation/√©dition */}\n      {(isCreating || editingId) && (\n        <div className=\"mb-8 bg-white border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl text-gray-900\">\n              {editingId ? 'Modifier le CTA' : 'Nouveau CTA'}\n            </h2>\n            <button\n              onClick={resetForm}\n              className=\"text-gray-500 hover:text-gray-700\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Titre *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.title}\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Ex: Demandez votre devis gratuit\"\n                />\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description\n                </label>\n                <textarea\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  rows={2}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Texte d'accompagnement...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Texte du bouton *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.button_text}\n                  onChange={(e) => setFormData({ ...formData, button_text: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Ex: Obtenir un devis\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Lien du bouton *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.button_link}\n                  onChange={(e) => setFormData({ ...formData, button_link: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                  placeholder=\"/quote-request ou https://...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Style du bouton\n                </label>\n                <select\n                  value={formData.button_style}\n                  onChange={(e) => setFormData({ ...formData, button_style: e.target.value as any })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                >\n                  <option value=\"primary\">Primary (plein)</option>\n                  <option value=\"secondary\">Secondary (plein alternatif)</option>\n                  <option value=\"outline\">Outline (bordure)</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Position\n                </label>\n                <select\n                  value={formData.position}\n                  onChange={(e) => setFormData({ ...formData, position: e.target.value as any })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                >\n                  <option value=\"hero\">Hero (haut de page)</option>\n                  <option value=\"footer\">Footer (bas de page)</option>\n                  <option value=\"sidebar\">Sidebar (colonne lat√©rale)</option>\n                  <option value=\"inline\">Inline (dans le contenu)</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Couleur de fond\n                </label>\n                <input\n                  type=\"color\"\n                  value={formData.background_color}\n                  onChange={(e) => setFormData({ ...formData, background_color: e.target.value })}\n                  className=\"w-full h-10 px-1 py-1 border border-gray-300\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Couleur du texte\n                </label>\n                <input\n                  type=\"color\"\n                  value={formData.text_color}\n                  onChange={(e) => setFormData({ ...formData, text_color: e.target.value })}\n                  className=\"w-full h-10 px-1 py-1 border border-gray-300\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Ordre d'affichage\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.order_index}\n                  onChange={(e) => setFormData({ ...formData, order_index: parseInt(e.target.value) })}\n                  className=\"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-gray-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.is_active}\n                    onChange={(e) => setFormData({ ...formData, is_active: e.target.checked })}\n                    className=\"w-4 h-4\"\n                  />\n                  <span className=\"text-sm text-gray-700\">CTA actif</span>\n                </label>\n              </div>\n\n              {/* Pr√©visualisation */}\n              <div className=\"md:col-span-2 border-t border-gray-200 pt-6\">\n                <h3 className=\"text-lg text-gray-900 mb-4 flex items-center\">\n                  <Eye className=\"w-5 h-5 mr-2\" />\n                  Pr√©visualisation\n                </h3>\n                \n                <div \n                  className=\"p-8 text-center\"\n                  style={{ \n                    backgroundColor: formData.background_color,\n                    color: formData.text_color \n                  }}\n                >\n                  {formData.title && (\n                    <h3 className=\"text-2xl mb-2\" style={{ color: formData.text_color }}>\n                      {formData.title}\n                    </h3>\n                  )}\n                  {formData.description && (\n                    <p className=\"mb-4 opacity-90\" style={{ color: formData.text_color }}>\n                      {formData.description}\n                    </p>\n                  )}\n                  {formData.button_text && (\n                    <button\n                      type=\"button\"\n                      className=\"px-6 py-3 font-medium transition-opacity hover:opacity-80\"\n                      style={getButtonStylePreview(\n                        formData.button_style || 'primary',\n                        formData.button_style === 'outline' ? formData.background_color : '#E30613',\n                        formData.button_style === 'outline' ? formData.text_color : '#FFFFFF'\n                      )}\n                    >\n                      {formData.button_text}\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center space-x-4\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center space-x-2 px-6 py-2 text-white hover:opacity-90 transition-opacity\"\n                style={{ backgroundColor: '#B5C233' }}\n              >\n                <Save className=\"w-4 h-4\" />\n                <span>Enregistrer</span>\n              </button>\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-6 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50\"\n              >\n                Annuler\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Liste des CTAs */}\n      <div className=\"bg-white border border-gray-200\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  CTA\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Bouton\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Position\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Style\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs uppercase tracking-wider text-gray-500\">\n                  Statut\n                </th>\n                <th className=\"px-6 py-3 text-right text-xs uppercase tracking-wider text-gray-500\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {ctas\n                .sort((a, b) => a.order_index - b.order_index)\n                .map((cta) => (\n                <tr key={cta.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4\">\n                    <div>\n                      <div className=\"text-sm text-gray-900\">{cta.title}</div>\n                      {cta.description && (\n                        <div className=\"text-xs text-gray-500\">{cta.description}</div>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <MousePointer className=\"w-4 h-4 text-gray-400\" />\n                      <div>\n                        <div className=\"text-sm text-gray-900\">{cta.button_text}</div>\n                        <div className=\"text-xs text-gray-500\">{cta.button_link}</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\n                    {getPositionLabel(cta.position)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span\n                      className=\"inline-flex px-2 py-1 text-xs\"\n                      style={getButtonStylePreview(cta.button_style, cta.background_color, cta.text_color)}\n                    >\n                      {cta.button_style}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span\n                      className={`inline-flex px-2 py-1 text-xs ${\n                        cta.is_active\n                          ? 'bg-green-100 text-green-800'\n                          : 'bg-gray-100 text-gray-800'\n                      }`}\n                    >\n                      {cta.is_active ? 'Actif' : 'Inactif'}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2\">\n                    <button\n                      onClick={() => handleEdit(cta)}\n                      className=\"text-blue-600 hover:text-blue-800 inline-flex items-center\"\n                    >\n                      <Edit2 className=\"w-4 h-4\" />\n                    </button>\n                    <button\n                      onClick={() => handleDelete(cta.id)}\n                      className=\"text-red-600 hover:text-red-800 inline-flex items-center ml-3\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 13004, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/HP/projects/fimaWebsite/src/cms/pages/CMSMediaLibrary.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Upload, Image as ImageIcon, Trash2, Edit2, Copy, Check, Search, Filter, X } from 'lucide-react';\nimport { toast } from 'sonner@2.0.3';\nimport { projectId, publicAnonKey } from '../../utils/supabase/info';\n\ninterface MediaItem {\n  id: string;\n  title: string;\n  alt_text: string;\n  url: string;\n  file_name: string;\n  file_size: number;\n  file_type: string;\n  storage_path: string;\n  tags: string[];\n  category: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport function CMSMediaLibrary() {\n  const [media, setMedia] = useState<MediaItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [uploading, setUploading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n  const [selectedCategory, setSelectedCategory] = useState<string>('');\n  const [copiedId, setCopiedId] = useState<string | null>(null);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editForm, setEditForm] = useState({\n    title: '',\n    alt_text: '',\n    tags: '',\n    category: ''\n  });\n\n  // Cat√©gories disponibles\n  const CATEGORIES = [\n    { value: '', label: 'S√©lectionner une cat√©gorie' },\n    { value: 'hero', label: 'üéØ Hero / Banni√®res' },\n    { value: 'products', label: 'üõãÔ∏è Produits' },\n    { value: 'projects', label: 'üèóÔ∏è Projets / R√©alisations' },\n    { value: 'blog', label: 'üìù Blog / Articles' },\n    { value: 'icons', label: 'üé® Ic√¥nes / Logos' },\n    { value: 'backgrounds', label: 'üñºÔ∏è Arri√®re-plans' },\n    { value: 'chambre-a-coucher', label: 'üõèÔ∏è Chambre √† coucher' },\n    { value: 'dressing', label: 'üëî Dressing' },\n    { value: 'salle-a-manger', label: 'üçΩÔ∏è Salle √† manger' },\n    { value: 'portes', label: 'üö™ Portes' },\n    { value: 'panneaux-decoratifs', label: 'üé® Panneaux d√©coratifs d\\'int√©rieur' },\n    { value: 'cuisine', label: 'üç≥ Cuisine' },\n    { value: 'salon', label: 'üõãÔ∏è Salon' },\n    { value: 'bureaux', label: 'üíº Bureaux' },\n    { value: 'amenagements-buanderie', label: 'üß∫ Am√©nagements et buanderie' },\n    { value: 'other', label: 'üì¶ Autres' },\n  ];\n\n  // Formulaire d'upload\n  const [uploadForm, setUploadForm] = useState({\n    file: null as File | null,\n    title: '',\n    alt_text: '',\n    tags: '',\n    category: ''\n  });\n\n  useEffect(() => {\n    fetchMedia();\n  }, []);\n\n  const fetchMedia = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/media`,\n        {\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success && result.data) {\n        setMedia(result.data);\n      } else {\n        throw new Error(result.error || 'Failed to fetch media');\n      }\n    } catch (error) {\n      console.error('Error fetching media:', error);\n      toast.error('Erreur lors du chargement des images');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      // V√©rifier le type de fichier\n      if (!file.type.startsWith('image/')) {\n        toast.error('Veuillez s√©lectionner un fichier image');\n        return;\n      }\n      \n      // V√©rifier la taille (max 10MB)\n      if (file.size > 10485760) {\n        toast.error('La taille du fichier ne doit pas d√©passer 10 MB');\n        return;\n      }\n      \n      setUploadForm({\n        ...uploadForm,\n        file,\n        title: uploadForm.title || file.name.split('.')[0],\n        alt_text: uploadForm.alt_text || file.name.split('.')[0],\n        category: uploadForm.category || 'other'\n      });\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!uploadForm.file) {\n      toast.error('Veuillez s√©lectionner un fichier');\n      return;\n    }\n\n    try {\n      setUploading(true);\n      const formData = new FormData();\n      formData.append('file', uploadForm.file);\n      formData.append('title', uploadForm.title);\n      formData.append('alt_text', uploadForm.alt_text);\n      formData.append('tags', uploadForm.tags);\n      formData.append('category', uploadForm.category || 'other');\n\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/media/upload`,\n        {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n          },\n          body: formData,\n        }\n      );\n\n      const result = await response.json();\n\n      if (result.success) {\n        toast.success('Image upload√©e avec succ√®s !');\n        setUploadForm({ file: null, title: '', alt_text: '', tags: '', category: '' });\n        // Reset file input\n        const fileInput = document.getElementById('file-upload') as HTMLInputElement;\n        if (fileInput) fileInput.value = '';\n        fetchMedia();\n      } else {\n        throw new Error(result.error || 'Upload failed');\n      }\n    } catch (error) {\n      console.error('Error uploading media:', error);\n      toast.error('Erreur lors de l\\'upload de l\\'image');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('√ätes-vous s√ªr de vouloir supprimer cette image ?')) {\n      return;\n    }\n\n    try {\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/media/${id}`,\n        {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n          },\n        }\n      );\n\n      const result = await response.json();\n\n      if (result.success) {\n        toast.success('Image supprim√©e avec succ√®s');\n        fetchMedia();\n      } else {\n        throw new Error(result.error || 'Delete failed');\n      }\n    } catch (error) {\n      console.error('Error deleting media:', error);\n      toast.error('Erreur lors de la suppression');\n    }\n  };\n\n  const handleEdit = (item: MediaItem) => {\n    setEditingId(item.id);\n    setEditForm({\n      title: item.title,\n      alt_text: item.alt_text,\n      tags: item.tags.join(', '),\n      category: item.category || 'other'\n    });\n  };\n\n  const handleSaveEdit = async () => {\n    if (!editingId) return;\n\n    try {\n      const response = await fetch(\n        `https://${projectId}.supabase.co/functions/v1/make-server-98c6ec1c/api/media/${editingId}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Authorization': `Bearer ${publicAnonKey}`,\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            title: editForm.title,\n            alt_text: editForm.alt_text,\n            tags: editForm.tags.split(',').map(t => t.trim()).filter(t => t),\n            category: editForm.category || 'other'\n          }),\n        }\n      );\n\n      const result = await response.json();\n\n      if (result.success) {\n        toast.success('Image mise √† jour avec succ√®s');\n        setEditingId(null);\n        setEditForm({ title: '', alt_text: '', tags: '', category: '' });\n        fetchMedia();\n      } else {\n        throw new Error(result.error || 'Update failed');\n      }\n    } catch (error) {\n      console.error('Error updating media:', error);\n      toast.error('Erreur lors de la mise √† jour');\n    }\n  };\n\n  const copyToClipboard = (url: string, id: string) => {\n    navigator.clipboard.writeText(url);\n    setCopiedId(id);\n    toast.success('URL copi√©e dans le presse-papier');\n    setTimeout(() => setCopiedId(null), 2000);\n  };\n\n  const formatFileSize = (bytes: number): string => {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';\n    return (bytes / 1048576).toFixed(1) + ' MB';\n  };\n\n  // Filtrer les images\n  const allTags = Array.from(new Set(media.flatMap(item => item.tags)));\n  const allCategories = Array.from(new Set(media.map(item => item.category).filter(Boolean)));\n  \n  const filteredMedia = media.filter(item => {\n    // Filtre par recherche\n    const matchesSearch = \n      item.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      item.alt_text.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      item.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));\n    \n    // Filtre par tags\n    const matchesTags = selectedTags.length === 0 || \n      selectedTags.some(tag => item.tags.includes(tag));\n    \n    // Filtre par cat√©gorie\n    const matchesCategory = !selectedCategory || item.category === selectedCategory;\n    \n    return matchesSearch && matchesTags && matchesCategory;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Chargement de la biblioth√®que...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Biblioth√®que d'Images</h1>\n          <p className=\"text-gray-600 mt-1\">G√©rez vos images et m√©dias</p>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {filteredMedia.length} image{filteredMedia.length !== 1 ? 's' : ''}\n        </div>\n      </div>\n\n      {/* Upload Section */}\n      <div className=\"bg-white p-6 border-2 border-dashed border-gray-300 hover:border-green-500 transition-colors\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Upload className=\"w-5 h-5 text-green-600\" />\n          <h2 className=\"font-semibold text-gray-900\">Uploader une nouvelle image</h2>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Fichier Image\n            </label>\n            <input\n              id=\"file-upload\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n              className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100\"\n            />\n            {uploadForm.file && (\n              <p className=\"text-xs text-gray-500 mt-1\">\n                {uploadForm.file.name} ({formatFileSize(uploadForm.file.size)})\n              </p>\n            )}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Titre\n            </label>\n            <input\n              type=\"text\"\n              value={uploadForm.title}\n              onChange={(e) => setUploadForm({ ...uploadForm, title: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              placeholder=\"Titre de l'image\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Texte alternatif (Alt)\n            </label>\n            <input\n              type=\"text\"\n              value={uploadForm.alt_text}\n              onChange={(e) => setUploadForm({ ...uploadForm, alt_text: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              placeholder=\"Description de l'image\"\n            />\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Cat√©gorie <span className=\"text-red-500\">*</span>\n            </label>\n            <select\n              value={uploadForm.category}\n              onChange={(e) => setUploadForm({ ...uploadForm, category: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              required\n            >\n              {CATEGORIES.map(cat => (\n                <option key={cat.value} value={cat.value}>\n                  {cat.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Tags (s√©par√©s par des virgules)\n            </label>\n            <input\n              type=\"text\"\n              value={uploadForm.tags}\n              onChange={(e) => setUploadForm({ ...uploadForm, tags: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              placeholder=\"hero, produit, banni√®re...\"\n            />\n          </div>\n        </div>\n\n        <div className=\"mt-4 flex justify-end\">\n          <button\n            onClick={handleUpload}\n            disabled={!uploadForm.file || uploading}\n            className=\"px-6 py-2 bg-green-600 text-white hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2\"\n          >\n            {uploading ? (\n              <>\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                Upload en cours...\n              </>\n            ) : (\n              <>\n                <Upload className=\"w-4 h-4\" />\n                Uploader\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white p-4 border border-gray-200\">\n        <div className=\"flex flex-col md:flex-row gap-4\">\n          {/* Search */}\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                placeholder=\"Rechercher par titre, description ou tags...\"\n              />\n            </div>\n          </div>\n\n          {/* Category Filter */}\n          <div className=\"flex items-center gap-2\">\n            <Filter className=\"w-4 h-4 text-gray-400\" />\n            <select\n              value={selectedCategory}\n              onChange={(e) => setSelectedCategory(e.target.value)}\n              className=\"px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent min-w-[200px]\"\n            >\n              <option value=\"\">Toutes les cat√©gories</option>\n              {CATEGORIES.filter(cat => cat.value).map(cat => (\n                <option key={cat.value} value={cat.value}>{cat.label}</option>\n              ))}\n            </select>\n          </div>\n\n          {/* Tag Filter */}\n          <div className=\"flex items-center gap-2\">\n            <Filter className=\"w-4 h-4 text-gray-400\" />\n            <select\n              value=\"\"\n              onChange={(e) => {\n                if (e.target.value && !selectedTags.includes(e.target.value)) {\n                  setSelectedTags([...selectedTags, e.target.value]);\n                }\n              }}\n              className=\"px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            >\n              <option value=\"\">Filtrer par tag...</option>\n              {allTags.map(tag => (\n                <option key={tag} value={tag}>{tag}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        {/* Selected Filters */}\n        {(selectedTags.length > 0 || selectedCategory) && (\n          <div className=\"mt-3 flex flex-wrap gap-2\">\n            {/* Selected Category */}\n            {selectedCategory && (\n              <span className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm\">\n                üìÅ {CATEGORIES.find(c => c.value === selectedCategory)?.label}\n                <button\n                  onClick={() => setSelectedCategory('')}\n                  className=\"hover:bg-blue-200 p-0.5\"\n                >\n                  <X className=\"w-3 h-3\" />\n                </button>\n              </span>\n            )}\n            \n            {/* Selected Tags */}\n            {selectedTags.map(tag => (\n              <span\n                key={tag}\n                className=\"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm\"\n              >\n                {tag}\n                <button\n                  onClick={() => setSelectedTags(selectedTags.filter(t => t !== tag))}\n                  className=\"hover:bg-green-200 p-0.5\"\n                >\n                  <X className=\"w-3 h-3\" />\n                </button>\n              </span>\n            ))}\n            \n            <button\n              onClick={() => {\n                setSelectedTags([]);\n                setSelectedCategory('');\n              }}\n              className=\"text-sm text-gray-600 hover:text-gray-900 underline\"\n            >\n              Effacer tout\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Media Grid */}\n      {filteredMedia.length === 0 ? (\n        <div className=\"text-center py-12 bg-gray-50 border border-gray-200\">\n          <ImageIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n          <p className=\"text-gray-500\">\n            {searchQuery || selectedTags.length > 0\n              ? 'Aucune image ne correspond √† vos crit√®res'\n              : 'Aucune image dans la biblioth√®que'}\n          </p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n          {filteredMedia.map((item) => (\n            <div\n              key={item.id}\n              className=\"bg-white border border-gray-200 hover:shadow-lg transition-shadow\"\n            >\n              {/* Image Preview */}\n              <div className=\"aspect-video bg-gray-100 relative overflow-hidden\">\n                <img\n                  src={item.url}\n                  alt={item.alt_text}\n                  className=\"w-full h-full object-cover\"\n                  loading=\"lazy\"\n                />\n              </div>\n\n              {/* Info */}\n              <div className=\"p-4\">\n                {editingId === item.id ? (\n                  // Edit Mode\n                  <div className=\"space-y-2\">\n                    <input\n                      type=\"text\"\n                      value={editForm.title}\n                      onChange={(e) => setEditForm({ ...editForm, title: e.target.value })}\n                      className=\"w-full px-2 py-1 border border-gray-300 text-sm\"\n                      placeholder=\"Titre\"\n                    />\n                    <input\n                      type=\"text\"\n                      value={editForm.alt_text}\n                      onChange={(e) => setEditForm({ ...editForm, alt_text: e.target.value })}\n                      className=\"w-full px-2 py-1 border border-gray-300 text-sm\"\n                      placeholder=\"Texte alternatif\"\n                    />\n                    <select\n                      value={editForm.category}\n                      onChange={(e) => setEditForm({ ...editForm, category: e.target.value })}\n                      className=\"w-full px-2 py-1 border border-gray-300 text-sm\"\n                    >\n                      {CATEGORIES.map(cat => (\n                        <option key={cat.value} value={cat.value}>\n                          {cat.label}\n                        </option>\n                      ))}\n                    </select>\n                    <input\n                      type=\"text\"\n                      value={editForm.tags}\n                      onChange={(e) => setEditForm({ ...editForm, tags: e.target.value })}\n                      className=\"w-full px-2 py-1 border border-gray-300 text-sm\"\n                      placeholder=\"Tags (s√©par√©s par virgules)\"\n                    />\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={handleSaveEdit}\n                        className=\"flex-1 px-3 py-1 bg-green-600 text-white text-sm hover:bg-green-700\"\n                      >\n                        Sauvegarder\n                      </button>\n                      <button\n                        onClick={() => setEditingId(null)}\n                        className=\"flex-1 px-3 py-1 bg-gray-200 text-gray-700 text-sm hover:bg-gray-300\"\n                      >\n                        Annuler\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  // View Mode\n                  <>\n                    <h3 className=\"font-semibold text-gray-900 truncate mb-1\">\n                      {item.title}\n                    </h3>\n                    <p className=\"text-xs text-gray-500 truncate mb-2\">\n                      {item.alt_text}\n                    </p>\n                    \n                    {/* Category Badge */}\n                    {item.category && (\n                      <div className=\"mb-2\">\n                        <span className=\"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium\">\n                          {CATEGORIES.find(c => c.value === item.category)?.label || item.category}\n                        </span>\n                      </div>\n                    )}\n                    \n                    {/* Tags */}\n                    {item.tags.length > 0 && (\n                      <div className=\"flex flex-wrap gap-1 mb-3\">\n                        {item.tags.map(tag => (\n                          <span\n                            key={tag}\n                            className=\"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs\"\n                          >\n                            {tag}\n                          </span>\n                        ))}\n                      </div>\n                    )}\n\n                    {/* Meta Info */}\n                    <div className=\"text-xs text-gray-400 mb-3\">\n                      <p>{formatFileSize(item.file_size)}</p>\n                      <p>{new Date(item.created_at).toLocaleDateString('fr-FR')}</p>\n                    </div>\n\n                    {/* URL */}\n                    <div className=\"mb-3\">\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">\n                        URL de l'image :\n                      </label>\n                      <div className=\"flex gap-1\">\n                        <input\n                          type=\"text\"\n                          value={item.url}\n                          readOnly\n                          className=\"flex-1 px-2 py-1 bg-gray-50 border border-gray-200 text-xs truncate\"\n                        />\n                        <button\n                          onClick={() => copyToClipboard(item.url, item.id)}\n                          className=\"px-2 py-1 bg-gray-100 hover:bg-gray-200 border border-gray-200\"\n                          title=\"Copier l'URL\"\n                        >\n                          {copiedId === item.id ? (\n                            <Check className=\"w-4 h-4 text-green-600\" />\n                          ) : (\n                            <Copy className=\"w-4 h-4 text-gray-600\" />\n                          )}\n                        </button>\n                      </div>\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={() => handleEdit(item)}\n                        className=\"flex-1 px-3 py-1.5 bg-blue-50 text-blue-700 hover:bg-blue-100 text-sm flex items-center justify-center gap-1\"\n                      >\n                        <Edit2 className=\"w-3.5 h-3.5\" />\n                        Modifier\n                      </button>\n                      <button\n                        onClick={() => handleDelete(item.id)}\n                        className=\"flex-1 px-3 py-1.5 bg-red-50 text-red-700 hover:bg-red-100 text-sm flex items-center justify-center gap-1\"\n                      >\n                        <Trash2 className=\"w-3.5 h-3.5\" />\n                        Supprimer\n                      </button>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}